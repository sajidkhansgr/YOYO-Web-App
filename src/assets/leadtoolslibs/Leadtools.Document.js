/**************************************************
LEADTOOLS (C) 1991-2017 LEAD Technologies, Inc. ALL RIGHTS RESERVED.
This software is protected by United States and International copyright laws.
Any copying, duplication, deployment, redistribution, modification or other
disposition hereof is STRICTLY PROHIBITED without an express written license
granted by LEAD Technologies, Inc.. This notice may not be removed or otherwise
altered under any circumstances.
Portions of this product are licensed under US patent 5,327,254 and foreign
counterparts.
For more information, contact LEAD Technologies, Inc. at 704-332-5532 or visit
https://www.leadtools.com
**************************************************/
// Leadtools.Document.js
// Version:20.0.0.5
var __extends=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,g){d.__proto__=g}||function(d,g){for(var c in g)g.hasOwnProperty(c)&&(d[c]=g[c])};return function(f,g){function c(){this.constructor=f}d(f,g);f.prototype=null===g?Object.create(g):(c.prototype=g.prototype,new c)}}(),lt;
(function(d){(function(f){var g;(function(b){b[b.unknown=0]="unknown";b[b.ean13=1]="ean13";b[b.ean8=2]="ean8";b[b.upca=3]="upca";b[b.upce=4]="upce";b[b.code3Of9=5]="code3Of9";b[b.code128=6]="code128";b[b.codeInterleaved2Of5=7]="codeInterleaved2Of5";b[b.codabar=8]="codabar";b[b.uccean128=9]="uccean128";b[b.code93=10]="code93";b[b.eanext5=11]="eanext5";b[b.eanext2=12]="eanext2";b[b.msi=13]="msi";b[b.code11=14]="code11";b[b.codeStandard2Of5=15]="codeStandard2Of5";b[b.gs1Databar=16]="gs1Databar";b[b.gs1DatabarLimited=
17]="gs1DatabarLimited";b[b.gs1DatabarExpanded=18]="gs1DatabarExpanded";b[b.patchCode=19]="patchCode";b[b.postNet=20]="postNet";b[b.planet=21]="planet";b[b.australianPost4State=22]="australianPost4State";b[b.royalMail4State=23]="royalMail4State";b[b.usps4State=24]="usps4State";b[b.gs1DatabarStacked=25]="gs1DatabarStacked";b[b.gs1DatabarExpandedStacked=26]="gs1DatabarExpandedStacked";b[b.pdf417=27]="pdf417";b[b.microPDF417=28]="microPDF417";b[b.datamatrix=29]="datamatrix";b[b.qr=30]="qr";b[b.aztec=
31]="aztec";b[b.maxi=32]="maxi";b[b.microQR=33]="microQR";b[b.pharmaCode=34]="pharmaCode"})(g=f.BarcodeSymbology||(f.BarcodeSymbology={}));var c=function(){function b(){this._symbology=g.unknown;this._bounds=d.LeadRectD.empty;this._rotationAngle=0;this._data=[];this._value=""}b.fromJson=function(a){if(null==a)return null;var h=new b;return!h.copyFromJson(a)?null:h};b.prototype.copyFromJson=function(a){if(null==a||!d.Document.Internal.PropertyBag.copyMatchingProperties(a,this,["data"]))return!1;a=
a.data;null!=a&&0<a.length&&(this._data=d.LTHelper.base64Decode(a));return!0};Object.defineProperty(b.prototype,"symbology",{get:function(){return this._symbology},set:function(a){this._symbology=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"bounds",{get:function(){return this._bounds},set:function(a){this._bounds=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"rotationAngle",{get:function(){return this._rotationAngle},set:function(a){this._rotationAngle=
a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"data",{get:function(){return this._data},set:function(a){this._data=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"value",{get:function(){return this._value},set:function(a){this._value=a},enumerable:!0,configurable:!0});return b}();f.BarcodeData=c})(d.Barcode||(d.Barcode={}))})(lt||(lt={}));
(function(d){(function(d){var g;(function(a){a[a.auto=0]="auto";a[a.disabled=1]="disabled";a[a.always=2]="always"})(g=d.DocumentConverterSvgImagesRecognitionMode||(d.DocumentConverterSvgImagesRecognitionMode={}));var c;(function(a){a[a.none=0]="none";a[a.skip=1]="skip";a[a.skipIgnoreAnnotations=2]="skipIgnoreAnnotations"})(c=d.DocumentConverterEmptyPageMode||(d.DocumentConverterEmptyPageMode={}));var b;(function(a){a[a.abort=0]="abort";a[a.resume=1]="resume"})(b=d.DocumentConverterJobErrorMode||(d.DocumentConverterJobErrorMode=
{}));var a;(function(a){a[a.none=0]="none";a[a.external=1]="external";a[a.overlay=2]="overlay";a[a.embed=3]="embed"})(a=d.DocumentConverterAnnotationsMode||(d.DocumentConverterAnnotationsMode={}));var h=function(){return function(){this.jobErrorMode=b.resume;this.pageNumberingTemplate="##name##_Page(##page##).##extension##";this.enableSvgConversion=!0;this.svgImagesRecognitionMode=g.auto;this.emptyPageMode=c.none;this.preprocessorInvert=this.preprocessorOrient=this.preprocessorDeskew=!1;this.inputDocumentLastPageNumber=
this.inputDocumentFirstPageNumber=0;this.documentFormat=d.Writer.DocumentFormat.user;this.rasterImageFormat=d.RasterImageFormat.unknown;this.rasterImageBitsPerPixel=0;this.jobName=this.documentOptions=null;this.annotationsMode=a.none;this.annotations=this.documentName=null}}();d.DocumentConverterJobData=h})(d.Document||(d.Document={}))})(lt||(lt={}));
(function(d){(function(d){var g=function(){function c(b){this._document=b}c.prototype.dispose=function(){this._document=null};Object.defineProperty(c.prototype,"document",{get:function(){return this._document},enumerable:!0,configurable:!0});return c}();d.DocumentBarcodes=g})(d.Document||(d.Document={}))})(lt||(lt={}));
(function(d){(function(f){var g=function(c){function b(a){var b=c.call(this)||this;b._document=null;b._internalAddCount=0;a&&(b._document=a);return b}__extends(b,c);b.prototype.dispose=function(){this._document=null};Object.defineProperty(b.prototype,"document",{get:function(){return this._document},enumerable:!0,configurable:!0});b.prototype.beginAdd=function(){this._internalAddCount++};b.prototype.endAdd=function(){this._internalAddCount--};b.prototype.insertItem=function(a,b){if(0===this._internalAddCount)throw Error("This operation is not supported");
if(!b)throw Error("Item cannot be null");c.prototype.insertItem.call(this,a,b);this._document.documentsAddedRemoved(b,!0)};b.prototype.removeItem=function(a){if(0===this._internalAddCount)throw Error("This operation is not supported");var b=this.item(a);c.prototype.removeItem.call(this,a);this._document.documentsAddedRemoved(b,!1)};b.prototype.moveItem=function(){throw Error("This operation is not supported");};b.prototype.setItem=function(){throw Error("This operation is not supported");};b.prototype.clearItems=
function(){throw Error("This operation is not supported");};b.prototype.tryAdd=function(a){this.beginAdd();try{for(var b=0;b<this.count;b++)if(this.item(b)===a)return;this.add(a);f.DocumentFactory.incrementDocumentRef(a)}finally{this.endAdd()}};b.prototype.tryRemove=function(a){for(var b=0,c=this._document.pages.count,d=0;d<c&&2>b;d++)this._document.pages.item(d).document===a&&b++;if(1===b){this.beginAdd();try{this.remove(a),0===f.DocumentFactory.decrementDocumentRef(a)&&this.document.autoDisposeDocuments&&
a.dispose()}finally{this.endAdd()}}};return b}(d.LeadCollection);f.DocumentDocuments=g})(d.Document||(d.Document={}))})(lt||(lt={}));(function(d){d=d.Document||(d.Document={});d=d.RasterImageFormat||(d.RasterImageFormat={});d[d.unknown=0]="unknown";d[d.tifJpeg422=24]="tifJpeg422";d[d.ccittGroup4=29]="ccittGroup4";d[d.rasPdfJpeg=150]="rasPdfJpeg";d[d.rasPdfG4=149]="rasPdfG4"})(lt||(lt={}));
(function(d){(function(d){(function(d){var c=function(){function b(a){this._format=a}Object.defineProperty(b.prototype,"format",{get:function(){return this._format},enumerable:!0,configurable:!0});return b}();d.DocumentOptions=c})(d.Writer||(d.Writer={}))})(d.Document||(d.Document={}))})(lt||(lt={}));
(function(d){(function(d){(function(d){var c=function(b){function a(){var a=b.call(this,d.DocumentFormat.rtf)||this;a.textMode=d.DocumentTextMode.auto;return a}__extends(a,b);return a}(d.DocumentOptions);d.RtfDocumentOptions=c})(d.Writer||(d.Writer={}))})(d.Document||(d.Document={}))})(lt||(lt={}));
(function(d){(function(d){(function(d){var c;(function(a){a[a.ansi=0]="ansi";a[a.unicode=1]="unicode";a[a.unicodeBigEndian=2]="unicodeBigEndian";a[a.utf8=3]="utf8"})(c=d.TextDocumentType||(d.TextDocumentType={}));var b=function(a){function b(){var h=a.call(this,d.DocumentFormat.text)||this;h.documentType=c.ansi;h.addPageNumber=!1;h.addPageBreak=!1;h.formatted=!1;return h}__extends(b,a);return b}(d.DocumentOptions);d.TextDocumentOptions=b})(d.Writer||(d.Writer={}))})(d.Document||(d.Document={}))})(lt||
(lt={}));(function(d){(function(d){(function(d){var c=function(b){function a(){return b.call(this,d.DocumentFormat.svg)||this}__extends(a,b);return a}(d.DocumentOptions);d.SvgDocumentOptions=c;c=function(b){function a(){return b.call(this,d.DocumentFormat.emf)||this}__extends(a,b);return a}(d.DocumentOptions);d.EmfDocumentOptions=c})(d.Writer||(d.Writer={}))})(d.Document||(d.Document={}))})(lt||(lt={}));
(function(d){(function(d){(function(d){var c=function(b){function a(){return b.call(this,d.DocumentFormat.xls)||this}__extends(a,b);return a}(d.DocumentOptions);d.XlsDocumentOptions=c})(d.Writer||(d.Writer={}))})(d.Document||(d.Document={}))})(lt||(lt={}));
(function(d){(function(d){(function(d){var c;(function(a){a[a.pdf=0]="pdf";a[a.pdfA=1]="pdfA";a[a.pdf12=2]="pdf12";a[a.pdf13=3]="pdf13";a[a.pdf15=4]="pdf15";a[a.pdf16=5]="pdf16"})(c=d.PdfDocumentType||(d.PdfDocumentType={}));var b;(function(a){a[a.rc40Bit=0]="rc40Bit";a[a.rc128Bit=1]="rc128Bit"})(b=d.PdfDocumentEncryptionMode||(d.PdfDocumentEncryptionMode={}));var a;(function(a){a[a.pageOnly=0]="pageOnly";a[a.fullScreen=3]="fullScreen";a[a.bookmarksAndPage=1]="bookmarksAndPage";a[a.thumbnailAndPage=
2]="thumbnailAndPage";a[a.layerAndPage=4]="layerAndPage";a[a.attachmentsAndPage=5]="attachmentsAndPage"})(a=d.PdfDocumentPageModeType||(d.PdfDocumentPageModeType={}));var h;(function(a){a[a.singlePageDisplay=0]="singlePageDisplay";a[a.oneColumnDisplay=1]="oneColumnDisplay";a[a.twoColumnLeftDisplay=2]="twoColumnLeftDisplay";a[a.twoColumnRightDisplay=3]="twoColumnRightDisplay";a[a.twoPageLeft=4]="twoPageLeft";a[a.twoPageRight=5]="twoPageRight"})(h=d.PdfDocumentPageLayoutType||(d.PdfDocumentPageLayoutType=
{}));var p;(function(a){a[a.defaultType=0]="defaultType";a[a.fitWidth=1]="fitWidth";a[a.fitHeight=2]="fitHeight";a[a.fitWidthBounds=3]="fitWidthBounds";a[a.fitHeightBounds=4]="fitHeightBounds";a[a.fitBounds=5]="fitBounds"})(p=d.PdfDocumentPageFitType||(d.PdfDocumentPageFitType={}));var i=function(i){function f(){var e=i.call(this,d.DocumentFormat.pdf)||this;e.documentType=c.pdf;e.fontEmbedMode=d.DocumentFontEmbedMode.auto;e.imageOverText=!1;e.linearized=!1;e.title=null;e.subject=null;e.keywords=null;
e.author=null;e.isProtected=!1;e.userPassword=null;e.ownerPassword=null;e.encryptionMode=b.rc128Bit;e.printEnabled=!0;e.highQualityPrintEnabled=!0;e.copyEnabled=!0;e.editEnabled=!0;e.annotationsEnabled=!0;e.assemblyEnabled=!1;e.oneBitImageCompression=d.OneBitImageCompressionType.jbig2;e.coloredImageCompression=d.ColoredImageCompressionType.flateJpeg;e.qualityFactor=80;e.imageOverTextSize=d.DocumentImageOverTextSize.original;e.imageOverTextMode=d.DocumentImageOverTextMode.strict;e.initialPageNumber=
1;e.pageModeType=a.pageOnly;e.pageLayoutType=h.singlePageDisplay;e.pageFitType=p.defaultType;e.xCoordinate=0;e.yCoordinate=0;e.zoomPercent=0;e.hideToolbar=!1;e.hideMenubar=!1;e.hideWindowUI=!1;e.fitWindow=!1;e.centerWindow=!1;e.displayDocTitle=!1;return e}__extends(f,i);return f}(d.DocumentOptions);d.PdfDocumentOptions=i})(d.Writer||(d.Writer={}))})(d.Document||(d.Document={}))})(lt||(lt={}));
(function(d){(function(d){(function(d){var c=function(b){function a(){return b.call(this,d.DocumentFormat.xps)||this}__extends(a,b);return a}(d.DocumentOptions);d.XpsDocumentOptions=c})(d.Writer||(d.Writer={}))})(d.Document||(d.Document={}))})(lt||(lt={}));
(function(d){(function(d){(function(d){var c=function(b){function a(){return b.call(this,d.DocumentFormat.pub)||this}__extends(a,b);return a}(d.DocumentOptions);d.PubDocumentOptions=c})(d.Writer||(d.Writer={}))})(d.Document||(d.Document={}))})(lt||(lt={}));
(function(d){(function(d){(function(d){var c=function(b){function a(){return b.call(this,d.DocumentFormat.mob)||this}__extends(a,b);return a}(d.DocumentOptions);d.MobDocumentOptions=c})(d.Writer||(d.Writer={}))})(d.Document||(d.Document={}))})(lt||(lt={}));
(function(d){(function(d){(function(d){var c=function(b){function a(){return b.call(this,d.DocumentFormat.ltd)||this}__extends(a,b);return a}(d.DocumentOptions);d.LtdDocumentOptions=c})(d.Writer||(d.Writer={}))})(d.Document||(d.Document={}))})(lt||(lt={}));
(function(d){(function(d){(function(d){var c=function(b){function a(){var a=b.call(this,d.DocumentFormat.html)||this;a.fontEmbedMode=d.DocumentFontEmbedMode.none;a.useBackgroundColor=!1;a.backgroundColor="white";return a}__extends(a,b);return a}(d.DocumentOptions);d.HtmlDocumentOptions=c})(d.Writer||(d.Writer={}))})(d.Document||(d.Document={}))})(lt||(lt={}));
(function(d){(function(d){(function(d){var c=function(b){function a(){var a=b.call(this,d.DocumentFormat.docx)||this;a.textMode=d.DocumentTextMode.auto;return a}__extends(a,b);return a}(d.DocumentOptions);d.DocxDocumentOptions=c})(d.Writer||(d.Writer={}))})(d.Document||(d.Document={}))})(lt||(lt={}));
(function(d){(function(d){(function(d){var c=function(b){function a(){var a=b.call(this,d.DocumentFormat.doc)||this;a.textMode=d.DocumentTextMode.auto;return a}__extends(a,b);return a}(d.DocumentOptions);d.DocDocumentOptions=c})(d.Writer||(d.Writer={}))})(d.Document||(d.Document={}))})(lt||(lt={}));
(function(d){(function(d){(function(d){var c;(function(a){a[a.mm10=0]="mm10";a[a.inch1200=1]="inch1200";a[a.dpi=2]="dpi";a[a.pixel=3]="pixel"})(c=d.AltoXmlMeasurementUnit||(d.AltoXmlMeasurementUnit={}));var b=function(a){function b(){var h=a.call(this,d.DocumentFormat.altoXml)||this;h.measurementUnit=c.mm10;h.fileName=null;h.processingDateTime=null;h.processingAgency=null;h.processingStepDescription=null;h.processingStepSettings=null;h.softwareCreator=null;h.softwareName=null;h.softwareVersion=null;
h.applicationDescription=null;h.firstPhysicalPageNumber=1;h.formatted=!1;h.indentation="\t";return h}__extends(b,a);return b}(d.DocumentOptions);d.AltoXmlDocumentOptions=b})(d.Writer||(d.Writer={}))})(d.Document||(d.Document={}))})(lt||(lt={}));
(function(d){(function(d){var g=function(){function c(b){this._document=b}c.prototype.dispose=function(){this._document=null};Object.defineProperty(c.prototype,"document",{get:function(){return this._document},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"annotationsUri",{get:function(){return this._document.values.annotationsUri},enumerable:!0,configurable:!0});c.createEmptyContainer=function(b){var a=new ltAnnotationsEngine.AnnContainer;a.size=b.size.clone();b=b.resolution;
a.mapper.mapResolutions(b,b,b,b);return a};c.prototype.getAnnotations=function(b){var a=$.Deferred();if(this.document.isLocal){for(var h=[],p=this.document.pages.count,i=0;i<p;i++)if(b){var o=this.document.pages.item(i),o=c.createEmptyContainer(o);o.pageNumber=i+1;h.push(o)}else h.push(null);return a.resolve(h).promise()}b={url:[d.DocumentFactory.serviceUri,c._controllerName,"GetAnnotations"].join("/"),type:"POST",contentType:"application/json",data:JSON.stringify({documentId:this._document.documentId,
pageNumber:0,createEmpty:b,userData:this._document.serviceUserData})};if(!d.DocumentFactory.doPrepareAjax(this,c._className,"GetAnnotations",b))return a.reject(null,"Canceled","Canceled").promise();$.ajax(b).done(function(b){var h=b.annotations,c=null;null!=h&&(c=(new ltAnnotationsEngine.AnnCodecs).loadAll(h));a.resolve(c,"undefined"===typeof b.userData?null:b.userData)}).fail(function(b,h,c){d.DocumentFactory.log(c);a.reject(b,h,c)});return a.promise()};Object.defineProperty(c.prototype,"modifiedContainers",
{get:function(){return this._modifiedContainers},set:function(b){this._modifiedContainers=b},enumerable:!0,configurable:!0});c.prototype.setAnnotations=function(b){var a=[d.DocumentFactory.serviceUri,c._controllerName,"SetAnnotations"].join("/"),h=null;null!=b&&(h=(new ltAnnotationsEngine.AnnCodecs).saveAll(b,ltAnnotationsEngine.AnnFormat.annotations));var b={documentId:this._document.documentId,pageNumber:0,annotations:h,userData:this._document.serviceUserData},p=$.Deferred(),a={url:a,type:"POST",
contentType:"application/json",data:JSON.stringify(b)};if(!d.DocumentFactory.doPrepareAjax(this,c._className,"SetAnnotations",a))return p.reject(null,"Canceled","Canceled").promise();$.ajax(a).done(function(a){p.resolve("undefined"===typeof a.userData?null:a.userData)}).fail(function(a,b,h){d.DocumentFactory.log(h);p.reject(a,b,h)});return p.promise()};c._className="DocumentAnnotations";c._controllerName="Page";return c}();d.DocumentAnnotations=g})(d.Document||(d.Document={}))})(lt||(lt={}));
(function(d){(function(d){(function(d){(function(c){c[c.user=-1]="user";c[c.ltd=0]="ltd";c[c.pdf=1]="pdf";c[c.doc=2]="doc";c[c.rtf=3]="rtf";c[c.html=4]="html";c[c.text=5]="text";c[c.emf=6]="emf";c[c.xps=7]="xps";c[c.docx=8]="docx";c[c.xls=9]="xls";c[c.pub=10]="pub";c[c.mob=11]="mob";c[c.svg=12]="svg";c[c.altoXml=13]="altoXml"})(d.DocumentFormat||(d.DocumentFormat={}));(function(c){c[c.none=0]="none";c[c.auto=1]="auto";c[c.force=2]="force";c[c.all=3]="all"})(d.DocumentFontEmbedMode||(d.DocumentFontEmbedMode=
{}));(function(c){c[c.flate=0]="flate";c[c.faxG31D=1]="faxG31D";c[c.faxG32D=2]="faxG32D";c[c.faxG4=3]="faxG4";c[c.lzw=4]="lzw";c[c.jbig2=5]="jbig2"})(d.OneBitImageCompressionType||(d.OneBitImageCompressionType={}));(function(c){c[c.flateJpeg=0]="flateJpeg";c[c.lzwJpeg=1]="lzwJpeg";c[c.flate=2]="flate";c[c.lzw=3]="lzw";c[c.jpeg=4]="jpeg";c[c.flateJpx=5]="flateJpx";c[c.lzwJpx=6]="lzwJpx";c[c.jpx=7]="jpx"})(d.ColoredImageCompressionType||(d.ColoredImageCompressionType={}));(function(c){c[c.original=
0]="original";c[c.half=1]="half";c[c.quarter=2]="quarter"})(d.DocumentImageOverTextSize||(d.DocumentImageOverTextSize={}));(function(c){c[c.none=0]="none";c[c.strict=1]="strict";c[c.relaxed=2]="relaxed"})(d.DocumentImageOverTextMode||(d.DocumentImageOverTextMode={}));(function(c){c[c.auto=0]="auto";c[c.nonFramed=1]="nonFramed";c[c.framed=2]="framed"})(d.DocumentTextMode||(d.DocumentTextMode={}))})(d.Writer||(d.Writer={}))})(d.Document||(d.Document={}))})(lt||(lt={}));
(function(d){(function(f){var g=function(c){function b(a){var b=c.call(this)||this;b._document=null;b._internalAddCount=0;a&&(b._document=a);return b}__extends(b,c);b.prototype.dispose=function(){for(var a=0;a<this.count;a++){var b=this.item(a);b&&b.document===this._document&&b.dispose()}this._document=null};Object.defineProperty(b.prototype,"document",{get:function(){return this._document},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"originalFirstPageNumber",{get:function(){return this._document.values.originalFirstPageNumber},
enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"originalLastPageNumber",{get:function(){return this._document.values.originalLastPageNumber},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"originalPageCount",{get:function(){return this._document.values.originalPageCount},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"defaultPageSize",{get:function(){return this._document.values.defaultPageSize},set:function(a){if(a.isEmpty)throw Error("Size must not be empty");
this._document.values.defaultPageSize=a.clone()},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"defaultResolution",{get:function(){return this._document.values.defaultResolution},set:function(a){if(0>a)throw Error("Value must be greater than or equal to 0");this._document.values.defaultResolution=a},enumerable:!0,configurable:!0});b.prototype.getTargetPageNumber=function(a,b){if(0>=b||!a||a===this._document)return b;if(a.pages.count<b)return 0;var c=this.indexOf(a.pages.item(b-
1));return-1==c?0:c+1};b.prototype.beginAdd=function(){this._internalAddCount++};b.prototype.endAdd=function(){this._internalAddCount--};b.prototype.createPage=function(a,b){return this._createPage(a,b,-1)};b.prototype._createPage=function(a,b,c){return this._document.createPage(a,b,c)};b.prototype.remove=function(a){c.prototype.remove.call(this,a)};b.prototype.add=function(a){c.prototype.add.call(this,a)};b.prototype.addRange=function(a){c.prototype.addRange.call(this,a)};b.prototype.contains=function(a){return c.prototype.contains.call(this,
a)};b.prototype.toArray=function(){return c.prototype.toArray.call(this)};b.prototype.insertItem=function(a,b){if(!b)throw Error("Item cannot be null");0===this._internalAddCount&&this._document.canModify();this._processInsertItem(a,b);c.prototype.insertItem.call(this,a,b);0==this._internalAddCount&&(this._document.cacheStatus=f.DocumentCacheStatus.notSynced)};b.prototype.insert=function(a,b){c.prototype.insert.call(this,a,b)};b.prototype.insertRange=function(a,b){c.prototype.insertRange.call(this,
a,b)};b.prototype.insertItemRange=function(a,b){if(!b)throw Error("Items cannot be null");0===this._internalAddCount&&this._document.canModify();for(var d=0;d<b.length;d++)this._processInsertItem(a+d,b[d]);c.prototype.insertItemRange.call(this,a,b);0==this._internalAddCount&&(this._document.cacheStatus=f.DocumentCacheStatus.notSynced)};b.prototype._processInsertItem=function(a,b){b.document?this._document.documents.tryAdd(b.document):b.setDocument(this.document,a+1);b.size.isEmpty&&0===this._internalAddCount&&
b.setSize(this.defaultPageSize)};b.prototype.moveItem=function(a,b){0==this._internalAddCount&&this._document.canModify();c.prototype.moveItem.call(this,a,b)};b.prototype.removeItem=function(a){0===this._internalAddCount&&this._document.canModify();var b=this.item(a);this._processRemoveItem(a,b);c.prototype.removeItem.call(this,a);0==this._internalAddCount&&(this._document.cacheStatus=f.DocumentCacheStatus.notSynced)};b.prototype.removeItemRange=function(a,b){0===this._internalAddCount&&this._document.canModify();
for(var d=a;d<a+b;d++){var i=this.item(d);this._processRemoveItem(d,i)}c.prototype.removeItemRange.call(this,a,b);0==this._internalAddCount&&(this._document.cacheStatus=f.DocumentCacheStatus.notSynced)};b.prototype._processRemoveItem=function(a,b){b.document!==this._document?this._document.documents.tryRemove(b.document):b.setDocument(null,0)};b.prototype.setItem=function(a,b){if(!b)throw Error("Item cannot be null");0==this._internalAddCount&&this._document.canModify();this.item(a)!==b&&c.prototype.setItem.call(this,
a,b)};b.prototype.clearItems=function(){0==this._internalAddCount&&this._document.canModify();c.prototype.clearItems.call(this)};b.prototype.indexOf=function(a){return c.prototype.indexOf.call(this,a)};b.prototype.item=function(a,b){return c.prototype.item.call(this,a,b)};return b}(d.LeadCollection);f.DocumentPages=g})(d.Document||(d.Document={}))})(lt||(lt={}));
(function(d){(function(f){(function(f){var c=function(){function b(){this._size=d.LeadSizeD.empty;this._pageNumber=this._resolution=0;this._originalPageNumber=-1;this._hasEmbeddedAnnotations=this._isAnnotationsModified=this._isDeleted=!1;this._documentId=null}b.fromJson=function(a){if(!a)return null;var h=new b;return!h.copyFromJson(a)?null:h};b.prototype.copyFromJson=function(a){return!a||!f.PropertyBag.copyMatchingProperties(a,this,["pageNumber"])?!1:!0};Object.defineProperty(b.prototype,"size",
{get:function(){return this._size.clone()},set:function(a){this._size=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"resolution",{get:function(){return this._resolution},set:function(a){this._resolution=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"pageNumber",{get:function(){return this._pageNumber},set:function(a){this._pageNumber=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"originalPageNumber",{get:function(){return this._originalPageNumber},
enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isDeleted",{get:function(){return this._isDeleted},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isAnnotationsModified",{get:function(){return this._isAnnotationsModified},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"hasEmbeddedAnnotations",{get:function(){return this._hasEmbeddedAnnotations},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"documentId",{get:function(){return this._documentId},
set:function(a){this._documentId=a},enumerable:!0,configurable:!0});return b}();f.DocumentPageValues=c})(f.Internal||(f.Internal={}))})(d.Document||(d.Document={}))})(lt||(lt={}));
(function(d){(function(d){var g=function(){function c(){this._bookmarks=[];this._pageLinks=[]}c.prototype.DocumentParseStructureData=function(){};Object.defineProperty(c.prototype,"bookmarks",{get:function(){return this._bookmarks},set:function(b){this._bookmarks=b},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"pageLinks",{get:function(){return this._pageLinks},set:function(b){this._pageLinks=b},enumerable:!0,configurable:!0});return c}();d.DocumentParseStructureData=g;g=function(){function c(b){this._document=
null;this._bookmarks=[];if(null==b)throw Error("Document cannot be null");this._document=b}c.prototype.dispose=function(){this._document=null};Object.defineProperty(c.prototype,"document",{get:function(){return this._document},enumerable:!0,configurable:!0});c.prototype.copyFromJson=function(b,a){var h=this;if(!b&&!a)return!1;b&&0<b.length&&(this._bookmarks=[],b.forEach(function(a){var b=new d.DocumentBookmark;b.copyFromJson(a);h._bookmarks.push(b)}));a&&0<a.length&&a.forEach(function(a,b){var c=
h._document.pages.item(b);if(!c||!c.copyLinksFromJson(a))return false});return this._document.values.isStructureParsed=!0};Object.defineProperty(c.prototype,"bookmarks",{get:function(){return this._bookmarks},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"parseBookmarks",{get:function(){return this._document.values.parseBookmarks},set:function(b){this._document.values.parseBookmarks=b;this._document.forEachDocument(function(a){a.structure&&(a.structure.parseBookmarks=b)})},enumerable:!0,
configurable:!0});Object.defineProperty(c.prototype,"parsePageLinks",{get:function(){return this._document.values.parsePageLinks},set:function(b){this._document.values.parsePageLinks=b;this._document.forEachDocument(function(a){a.structure&&(a.structure.parsePageLinks=b)})},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"isParsed",{get:function(){var b=this._document.values.isStructureParsed;if(!b&&this._document.hasDocuments)for(var a=0;a<this._document.documents.count&&!b;a++){var h=
this._document.documents.item(a);h.isStructureSupported&&h.structure.isParsed&&(b=!0)}return b},enumerable:!0,configurable:!0});c.prototype.parse=function(){var b=this,a=$.Deferred();if(this.isParsed)return a.resolve(this._document),a.promise();var h=this._document,h={url:[d.DocumentFactory.serviceUri,c._controllerName,"ParseStructure"].join("/"),type:"POST",contentType:"application/json",data:JSON.stringify({documentId:h.documentId,parseBookmarks:this.parseBookmarks,parsePageLinks:this.parsePageLinks,
userData:this._document.serviceUserData})};if(!d.DocumentFactory.doPrepareAjax(this,c._className,"Parse",h))return a.reject(null,"Canceled","Canceled").promise();$.ajax(h).done(function(h){if(!h.hasOwnProperty("bookmarks")||!h.hasOwnProperty("pageLinks"))return a.reject(null,null,"Invalid object"),a.promise();b.copyFromJson(h.bookmarks,h.pageLinks)?a.resolve(b._document,"undefined"===typeof h.userData?null:h.userData):a.reject(null,null,"Invalid object")}).fail(function(b,h,c){d.DocumentFactory.log(c);
a.reject(b,h,c)});return a.promise()};c._className="DocumentStructure";c._controllerName="Structure";return c}();d.DocumentStructure=g})(d.Document||(d.Document={}))})(lt||(lt={}));
(function(d){(function(d){(function(c){c[c.auto=0]="auto";c[c.svgOnly=1]="svgOnly";c[c.ocrOnly=2]="ocrOnly"})(d.DocumentTextExtractionMode||(d.DocumentTextExtractionMode={}));var g=function(){function c(b){this._document=b}Object.defineProperty(c.prototype,"document",{get:function(){return this._document},enumerable:!0,configurable:!0});c.fromJson=function(b,a){if(null==b)return null;var h=new c(a);return!h.copyFromJson(b)?null:h};c.prototype.copyFromJson=function(b){return null==b||!d.Internal.PropertyBag.copyMatchingProperties(b,
this,["document","linkPatterns","defLinkPatterns"])?!1:!0};Object.defineProperty(c.prototype,"textExtractionMode",{get:function(){return this._document.values.textExtractionMode},set:function(b){this._document.values.textExtractionMode=b},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"autoParseLinks",{get:function(){return this._document.values.autoParseLinks},set:function(b){this._document.values.autoParseLinks=b},enumerable:!0,configurable:!0});Object.defineProperty(c,"linkPatterns",
{get:function(){return c._linkPatterns},enumerable:!0,configurable:!0});c.resetLinkPatterns=function(){c._linkPatterns=[];c._linkPatterns.push(RegExp(c._defaultLinkPatterns[0],c._defaultLinkFlags[0]));c._linkPatterns.push(RegExp(c._defaultLinkPatterns[1],c._defaultLinkFlags[1]))};c._defaultLinkPatterns=["((?:[a-z][\\w-]+:(?:/{1,3}|[a-z0-9%])|www\\d{0,3}[.]|ftp\\d{0,3}[.]|mailto\\d{0,3}[@]|[a-z0-9.\\-]+[.][a-z]{2,4}/)(?:[^\\s()<>]+|\\(([^\\s()<>]+|(\\([^\\s()<>]+\\)))*\\))+(?:\\(([^\\s()<>]+|(\\([^\\s()<>]+\\)))*\\)|[^\\s`!()\\[\\]{};:'\".,<>?\u00ab\u00bb\u201c\u201d\u2018\u2019]))",
"[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?"];c._defaultLinkFlags=["gi","g"];c._linkPatterns=[RegExp(c._defaultLinkPatterns[0],c._defaultLinkFlags[0]),RegExp(c._defaultLinkPatterns[1],c._defaultLinkFlags[1])];return c}();d.DocumentText=g})(d.Document||(d.Document={}))})(lt||(lt={}));
(function(d){(function(f){(function(g){var c=function(){function b(){this._annotationsUri=null;this._defaultBitsPerPixel=0;this._defaultPageSize=d.LeadSizeD.empty;this._defaultResolution=300;this._documentType=this._name=this._documentId=null;this._fileLength=this._originalPageCount=this._originalLastPageNumber=this._originalFirstPageNumber=0;this._isStructureSupported=this._isStructureParsed=this._isReadOnly=this._isEncrypted=this._isDownloaded=this._isDecrypted=!1;this._password=this._mimeType=
null;this._maximumImagePixelSize=0;this._thumbnailPixelSize=d.LeadSizeD.create(128,128);this._unembedSvgImages=!1;this._cacheUri=this._uri=null;this._isResolutionsSupported=this._isSvgViewingPreferred=this._isSvgSupported=!1;this._textExtractionMode=f.DocumentTextExtractionMode.auto;this._parsePageLinks=this._parseBookmarks=this._autoParseLinks=!0;this._lastCacheSyncTime=new Date}b.fromJson=function(a){if(null==a)return null;var h=new b;return!h.copyFromJson(a)?null:h};b.prototype.copyFromJson=function(a){return null==
a||!g.PropertyBag.copyMatchingProperties(a,this,null)?!1:!0};Object.defineProperty(b.prototype,"annotationsUri",{get:function(){return this._annotationsUri},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"defaultBitsPerPixel",{get:function(){return this._defaultBitsPerPixel},set:function(a){this._defaultBitsPerPixel=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"defaultPageSize",{get:function(){return this._defaultPageSize},set:function(a){this._defaultPageSize=
a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"defaultResolution",{get:function(){return this._defaultResolution},set:function(a){this._defaultResolution=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"documentId",{get:function(){return this._documentId},set:function(a){this._documentId=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"name",{get:function(){return this._name},set:function(a){this._name=a},enumerable:!0,configurable:!0});
Object.defineProperty(b.prototype,"documentType",{get:function(){return this._documentType},set:function(a){this._documentType=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"originalFirstPageNumber",{get:function(){return this._originalFirstPageNumber},set:function(a){this._originalFirstPageNumber=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"originalLastPageNumber",{get:function(){return this._originalLastPageNumber},set:function(a){this._originalLastPageNumber=
a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"originalPageCount",{get:function(){return this._originalPageCount},set:function(a){this._originalPageCount=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"fileLength",{get:function(){return this._fileLength},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isDecrypted",{get:function(){return this._isDecrypted},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isDownloaded",
{get:function(){return this._isDownloaded},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isEncrypted",{get:function(){return this._isEncrypted},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isReadOnly",{get:function(){return this._isReadOnly},set:function(a){this._isReadOnly=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isStructureParsed",{get:function(){return this._isStructureParsed},set:function(a){this._isStructureParsed=a},enumerable:!0,
configurable:!0});Object.defineProperty(b.prototype,"isStructureSupported",{get:function(){return this._isStructureSupported},set:function(a){this._isStructureSupported=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"mimeType",{get:function(){return this._mimeType},set:function(a){this._mimeType=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"password",{get:function(){return this._password},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,
"maximumImagePixelSize",{get:function(){return this._maximumImagePixelSize},set:function(a){this._maximumImagePixelSize=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"thumbnailPixelSize",{get:function(){return this._thumbnailPixelSize},set:function(a){this._thumbnailPixelSize=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"unembedSvgImages",{get:function(){return this._unembedSvgImages},set:function(a){this._unembedSvgImages=a},enumerable:!0,configurable:!0});
Object.defineProperty(b.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"cacheUri",{get:function(){return this._cacheUri},set:function(a){this._cacheUri=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isSvgSupported",{get:function(){return this._isSvgSupported},set:function(a){this._isSvgSupported=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isSvgViewingPreferred",{get:function(){return this._isSvgViewingPreferred},
set:function(a){this._isSvgViewingPreferred=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isResolutionsSupported",{get:function(){return this._isResolutionsSupported},set:function(a){this._isResolutionsSupported=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"textExtractionMode",{get:function(){return this._textExtractionMode},set:function(a){this._textExtractionMode=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"autoParseLinks",
{get:function(){return this._autoParseLinks},set:function(a){this._autoParseLinks=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"parseBookmarks",{get:function(){return this._parseBookmarks},set:function(a){this._parseBookmarks=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"parsePageLinks",{get:function(){return this._parsePageLinks},set:function(a){this._parsePageLinks=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"lastCacheSyncTime",
{get:function(){return this._lastCacheSyncTime},set:function(a){this._lastCacheSyncTime=a},enumerable:!0,configurable:!0});return b}();g.DocumentValues=c})(f.Internal||(f.Internal={}))})(d.Document||(d.Document={}))})(lt||(lt={}));
(function(d){(function(f){var g=function(){function c(b){this._document=b}c.prototype.dispose=function(){this._document=null};Object.defineProperty(c.prototype,"document",{get:function(){return this._document},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"isSvgSupported",{get:function(){var b=this._document.values.isSvgSupported;if(!b&&this._document.hasDocuments)for(var a=0;a<this._document.documents.count&&!b;a++)b=this._document.documents.item(a).images.isSvgSupported;return b},
enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"isSvgViewingPreferred",{get:function(){var b=this._document.values.isSvgViewingPreferred;if(!b&&this._document.hasDocuments)for(var a=0;a<this._document.documents.count&&!b;a++)b=this._document.documents.item(a).images.isSvgViewingPreferred;return b},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"isResolutionsSupported",{get:function(){var b=this._document.values.isResolutionsSupported;if(!b&&this._document.hasDocuments)for(var a=
0;a<this._document.documents.count&&!b;a++)b=this._document.documents.item(a).images.isResolutionsSupported;return b},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"defaultBitsPerPixel",{get:function(){return this._document.defaultBitsPerPixel},set:function(b){switch(b){case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 12:case 16:case 24:case 32:case 48:case 64:break;default:throw Error("Invalid bits per pixel value");}this._document.defaultBitsPerPixel=b;this._document.forEachDocument(function(a){a.images.defaultBitsPerPixel=
b})},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"maximumImagePixelSize",{get:function(){return this._document.values.maximumImagePixelSize},set:function(b){if(0>b)throw Error("Must have a value equal to or greater than 0");this._document.values.maximumImagePixelSize=b;this._document.forEachDocument(function(a){a.images.maximumImagePixelSize=b})},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"thumbnailPixelSize",{get:function(){return this._document.values.thumbnailPixelSize},
set:function(b){if(b.isEmpty||0>b.width||0>b.height)throw Error("Must have width and height values greater than 0");this._document.values.thumbnailPixelSize=b;this._document.forEachDocument(function(a){a.images.thumbnailPixelSize=b})},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"unembedSvgImages",{get:function(){return this._document.values.unembedSvgImages},set:function(b){this._document.values.unembedSvgImages=b;this._document.forEachDocument(function(a){a.images.unembedSvgImages=
b})},enumerable:!0,configurable:!0});Object.defineProperty(c,"elementAjaxMethod",{get:function(){return c._elementAjaxMethod},set:function(b){c._elementAjaxMethod=b.toUpperCase()},enumerable:!0,configurable:!0});Object.defineProperty(c,"elementUrlMode",{get:function(){return c._elementUrlMode},set:function(b){c._elementUrlMode=b},enumerable:!0,configurable:!0});c.getImageScale=function(b,a){if(0==a||b.isEmpty||0==b.width||0==b.height)return 1;var h=1;if(b.width>a||b.height>a)h=b.width>b.height?b.width/
a:b.height/a;return h};c.scaleImageSize=function(b,a){return 1==a?b.clone():d.LeadSizeD.create(b.width*a+0.5|0,b.height*a+0.5|0)};c.prototype.getThumbnailsGridUrlParams=function(b,a,h){var c=this._document.images.thumbnailPixelSize;return{documentId:this._document.documentId,firstPageNumber:b,lastPageNumber:a,maximumGridWidth:h,width:c.width,height:c.height,userData:this._document.serviceUserData}};c.prototype.getThumbnailsGrid=function(b,a,h){return this.getThumbnailsGridUrl(b,a,h)};c.prototype.getThumbnailsGridUrl=
function(b,a,h){return f.Internal.ImageRequestHelper.createFullUrl(f.Internal.ImageRequestHelper.createBaseUrl(c._controllerName,c._getThumbnailsGridActionName),this.getThumbnailsGridUrlParams(b,a,h))};c.prototype.getThumbnailsGridElement=function(b,a,h,d){var i=$.Deferred(),o=f.Internal.ImageRequestHelper.createBaseUrl(c._controllerName,c._getThumbnailsGridActionName),b=this.getThumbnailsGridUrlParams(b,a,h);return f.Internal.ImageRequestHelper.doGenericElementLoad(i,d,o,b,c._className,c._getThumbnailsGridMethodName)};
c._className="DocumentImages";c._controllerName="Images";c._elementAjaxMethod="GET";c._elementUrlMode=d.ImageLoaderUrlMode.imageUrl;c._getThumbnailsGridActionName="GetThumbnailsGrid";c._getThumbnailsGridMethodName="GetThumbnailsGrid";return c}();f.DocumentImages=g})(d.Document||(d.Document={}))})(lt||(lt={}));
(function(d){(function(f){var g=function(){function c(){this._pageFitType=f.DocumentPageFitType.none;this._pageNumber=0;this._position=d.LeadPointD.empty;this._zoomPercent=0}c.fromJson=function(b){if(null==b)return null;var a=new f.DocumentLink;return!a.copyFromJson(b)?null:a};c.prototype.copyFromJson=function(b){return null==b||!f.Internal.PropertyBag.copyMatchingProperties(b,this,null)?!1:!0};Object.defineProperty(c.prototype,"pageFitType",{get:function(){return this._pageFitType},set:function(b){this._pageFitType=
b},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"pageNumber",{get:function(){return this._pageNumber},set:function(b){this._pageNumber=b},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"position",{get:function(){return this._position.clone()},set:function(b){this._position=b.clone()},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"zoomPercent",{get:function(){return this._zoomPercent},set:function(b){this._zoomPercent=b},enumerable:!0,configurable:!0});
c.prototype.clone=function(){var b=new c;b.pageFitType=this.pageFitType;b.pageNumber=this.pageNumber;b.position=this.position.clone();b.zoomPercent=this.zoomPercent;return b};return c}();f.DocumentLinkTarget=g})(d.Document||(d.Document={}))})(lt||(lt={}));
(function(d){(function(f){var g;(function(b){b[b.value=0]="value";b[b.targetPage=1]="targetPage"})(g=f.DocumentLinkType||(f.DocumentLinkType={}));var c=function(){function b(){this._bounds=d.LeadRectD.empty;this._value="";this._linkType=g.value;this._target=new f.DocumentLinkTarget}b.fromJson=function(a){if(null==a)return null;var h=new b;return!h.copyFromJson(a)?null:h};b.prototype.copyFromJson=function(a){return null==a||!f.Internal.PropertyBag.copyMatchingProperties(a,this,null)?!1:!0};Object.defineProperty(b.prototype,
"bounds",{get:function(){return this._bounds},set:function(a){this._bounds=a.clone()},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"linkType",{get:function(){return this._linkType},set:function(a){this._linkType=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"value",{get:function(){return this._value},set:function(a){this._value=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"target",{get:function(){return this._target},set:function(a){this._target.copyFromJson(a)},
enumerable:!0,configurable:!0});return b}();f.DocumentLink=c})(d.Document||(d.Document={}))})(lt||(lt={}));
(function(d){(function(f){(function(c){c[c.none=0]="none";c[c.allowPolylineText=1]="allowPolylineText";c[c.dropImages=2]="dropImages";c[c.dropShapes=4]="dropShapes";c[c.dropText=8]="dropText";c[c.forConversion=16]="forConversion";c[c.ignoreXmlParsingErrors=32]="ignoreXmlParsingErrors";c[c.forceRealText=64]="forceRealText";c[c.forceTextPath=1]="forceTextPath"})(f.DocumentGetSvgOptions||(f.DocumentGetSvgOptions={}));var g=function(){function c(){this._values=new f.Internal.DocumentPageValues;this._document=
null;this._links=[];this.customData={}}c.prototype.dispose=function(){this._document=null};c.prototype.setDocument=function(b,a){this._document=b;this._values.documentId=this._document?this._document.documentId:null;this._values.pageNumber=a};c.fromJson=function(b,a,h){if(null==b)return null;a=new c;return!a.copyFromJson(b,h)?null:a};c.prototype.copyFromJson=function(b,a){if(null==b||!b.hasOwnProperty("values")||!this._values.copyFromJson(b.values))return!1;this._values.pageNumber=a;return!0};c.prototype.setSize=
function(b){if(b.isEmpty)throw Error("size must not be empty");this._values.size=b.clone()};Object.defineProperty(c.prototype,"isLocal",{get:function(){return this._isLocal},set:function(b){this._isLocal=b},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"document",{get:function(){return this._document},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"size",{get:function(){return this.values.size.clone()},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,
"resolution",{get:function(){return this.values.resolution},set:function(b){this.values.resolution=b},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"pageNumber",{get:function(){return this.values.pageNumber},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"imageScale",{get:function(){return null==this._document?1:f.DocumentImages.getImageScale(this._document.sizeToPixels(this.values.size),this._document.images.maximumImagePixelSize)},enumerable:!0,configurable:!0});
Object.defineProperty(c.prototype,"originalPageNumber",{get:function(){return this.values.originalPageNumber},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"isDeleted",{get:function(){return this.values.isDeleted},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"isAnnotationsModified",{get:function(){return this.values.isAnnotationsModified},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"hasEmbeddedAnnotations",{get:function(){return this.values.hasEmbeddedAnnotations},
enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"values",{get:function(){return this._values},enumerable:!0,configurable:!0});c.prototype.processPageText=function(b){this._document.text.autoParseLinks&&this.parseAndMergeValueLinks(b)};c.prototype.parseAndMergeValueLinks=function(b){null==b||0==b.characters.length||this.mergeLinks(b.parseLinks(f.DocumentText.linkPatterns))};c.prototype.removeSmallerDuplicate=function(b,a){for(var h=b.length-1;0<=h;h--)a.bounds.containsRect(b[h].bounds)&&
b.splice(h,1)};c.prototype.mergeLinks=function(b){if(!(null==b||0==b.length)){for(var a=0;a<b.length;a++)this.removeSmallerDuplicate(this._links,b[a]);this._links=this._links.concat(b)}};c.prototype.copyLinksFromJson=function(b){var a=[];if(null==b)return!0;for(var h=0;h<b.length;h++){var c=f.DocumentLink.fromJson(b[h]);a.push(c)}this.mergeLinks(a);return!0};c.prototype.getLinks=function(){return this._links};c.prototype.getText=function(b){var a=this,h=$.Deferred();if(this._isLocal)return h.resolve(null).promise();
b={url:[f.DocumentFactory.serviceUri,c._controllerName,"GetText"].join("/"),type:"POST",contentType:"application/json",data:JSON.stringify({documentId:this._document.documentId,pageNumber:this.pageNumber,clip:b,textExtractionMode:this._document.text.textExtractionMode,userData:this._document.serviceUserData})};if(!f.DocumentFactory.doPrepareAjax(this,c._className,"GetText",b))return h.reject(null,"Canceled","Canceled").promise();$.ajax(b).done(function(b){var c=f.DocumentPageText.fromJson(b.pageText);
a.processPageText(c);h.resolve(c,"undefined"===typeof b.userData?null:b.userData)}).fail(function(a,b,c){f.DocumentFactory.log(c);h.reject(a,b,c)});return h.promise()};c.prototype.getAnnotations=function(b){var a=$.Deferred();if(this.isLocal){var h=null;b&&(h=f.DocumentAnnotations.createEmptyContainer(this),h.pageNumber=this.document.pages.indexOf(this)+1);return a.resolve(h).promise()}if(this._isLocal)return a.resolve(null).promise();b={url:[f.DocumentFactory.serviceUri,c._controllerName,"GetAnnotations"].join("/"),
type:"POST",contentType:"application/json",data:JSON.stringify({documentId:this._document.documentId,pageNumber:this.pageNumber,createEmpty:b,userData:this._document.serviceUserData})};if(!f.DocumentFactory.doPrepareAjax(this,c._className,"GetAnnotations",b))return a.reject(null,"Canceled","Canceled").promise();$.ajax(b).done(function(b){var h=b.annotations,c=null;null!=h&&(c=(new ltAnnotationsEngine.AnnCodecs).load(h,0));a.resolve(c,"undefined"===typeof b.userData?null:b.userData)}).fail(function(b,
h,c){f.DocumentFactory.log(c);a.reject(b,h,c)});return a.promise()};c.prototype.setAnnotations=function(b){var a=[f.DocumentFactory.serviceUri,c._controllerName,"SetAnnotations"].join("/"),h=null;null!=b&&(h=(new ltAnnotationsEngine.AnnCodecs).save(b,ltAnnotationsEngine.AnnFormat.annotations,null,this.pageNumber));var b={documentId:this._document.documentId,pageNumber:this.pageNumber,annotations:h,userData:this._document.serviceUserData},d=$.Deferred(),a={url:a,type:"POST",contentType:"application/json",
data:JSON.stringify(b)};if(!f.DocumentFactory.doPrepareAjax(this,c._className,"SetAnnotations",a))return d.reject(null,"Canceled","Canceled").promise();$.ajax(a).done(function(a){d.resolve("undefined"===typeof a.userData?null:a.userData)}).fail(function(a,b,h){f.DocumentFactory.log(h);d.reject(a,b,h)});return d.promise()};c.prototype.getThumbnailImageUrlParams=function(){var b=this._document.images.thumbnailPixelSize;return{documentId:this._document.documentId,pageNumber:this.pageNumber,width:b.width,
height:b.height,userData:this._document.serviceUserData}};c.prototype.getThumbnailImage=function(){return this.getThumbnailImageUrl()};c.prototype.getThumbnailImageUrl=function(){return this._isLocal?null:f.Internal.ImageRequestHelper.createFullUrl(f.Internal.ImageRequestHelper.createBaseUrl(c._controllerName,c._getThumbnailImageActionName),this.getThumbnailImageUrlParams())};c.prototype.getThumbnailImageElement=function(b){var a=$.Deferred();if(this._isLocal)return a.resolve(null).promise();var h=
f.Internal.ImageRequestHelper.createBaseUrl(c._controllerName,c._getThumbnailImageActionName),d=this.getThumbnailImageUrlParams();return f.Internal.ImageRequestHelper.doGenericElementLoad(a,b,h,d,c._className,c._getThumbnailImageMethodName)};c.prototype.getImageUrlParams=function(b,a){var h={documentId:this._document.documentId,pageNumber:this.pageNumber,userData:this._document.serviceUserData};-1!==b&&-1!==a&&(h.width=b,h.height=a);return h};c.prototype.getImage=function(){return this.getImageUrl()};
c.prototype.getImageUrl=function(){return this._isLocal?null:f.Internal.ImageRequestHelper.createFullUrl(f.Internal.ImageRequestHelper.createBaseUrl(c._controllerName,c._getImageActionName),this.getImageUrlParams(-1,-1))};c.prototype.getImageResized=function(b,a){return this.getImageResizedUrl(b,a)};c.prototype.getImageResizedUrl=function(b,a){return this._isLocal?null:f.Internal.ImageRequestHelper.createFullUrl(f.Internal.ImageRequestHelper.createBaseUrl(c._controllerName,c._getImageActionName),
this.getImageUrlParams(b,a))};c.prototype.getImageElement=function(b){return this.internalGetImageElement(c._getImageMethodName,-1,-1,b)};c.prototype.getImageResizedElement=function(b,a,h){return this.internalGetImageElement(c._getImageResizedMethodName,b,a,h)};c.prototype.internalGetImageElement=function(b,a,h,d){var i=$.Deferred();if(this._isLocal)return i.resolve(null).promise();var o=f.Internal.ImageRequestHelper.createBaseUrl(c._controllerName,c._getImageActionName),a=this.getImageUrlParams(a,
h);return f.Internal.ImageRequestHelper.doGenericElementLoad(i,d,o,a,c._className,b)};Object.defineProperty(c.prototype,"isSvgSupported",{get:function(){return this._document.images.isSvgSupported},enumerable:!0,configurable:!0});c.prototype.getSvgBackImageUrlParams=function(b){return{documentId:this._document.documentId,pageNumber:this.pageNumber,backColor:b,userData:this._document.serviceUserData}};c.prototype.getSvgBackImage=function(b){return this.getSvgBackImageUrl(b)};c.prototype.getSvgBackImageUrl=
function(b){return this._isLocal?null:f.Internal.ImageRequestHelper.createFullUrl(f.Internal.ImageRequestHelper.createBaseUrl(c._controllerName,c._getSvgBackImageActionName),this.getSvgBackImageUrlParams(b))};c.prototype.getSvgBackImageElement=function(b,a){var h=$.Deferred();if(this._isLocal)return h.resolve(null).promise();var d=f.Internal.ImageRequestHelper.createBaseUrl(c._controllerName,c._getSvgBackImageActionName),i=this.getSvgBackImageUrlParams(b);return f.Internal.ImageRequestHelper.doGenericElementLoad(h,
a,d,i,c._className,c._getSvgBackImageMethodName)};c.prototype.getSvgUrlParams=function(b){return{documentId:this._document.documentId,pageNumber:this.pageNumber,options:b,unembedImages:this._document.images.unembedSvgImages,userData:this._document.serviceUserData}};c.prototype.getSvg=function(b){return this.getSvgUrl(b)};c.prototype.getSvgUrl=function(b){return this._isLocal?null:f.Internal.ImageRequestHelper.createFullUrl(f.Internal.ImageRequestHelper.createBaseUrl(c._controllerName,c._getSvgActionName),
this.getSvgUrlParams(b))};c.prototype.getSvgElement=function(b,a){var h=$.Deferred();if(this._isLocal)return h.resolve(null).promise();var d=f.Internal.ImageRequestHelper.createBaseUrl(c._controllerName,c._getSvgActionName),i=this.getSvgUrlParams(b);return f.Internal.ImageRequestHelper.doGenericElementLoad(h,a,d,i,c._className,c._getSvgMethodName)};c.prototype.readBarcodes=function(b,a,h){var p=[f.DocumentFactory.serviceUri,c._controllerName,"ReadBarcodes"].join("/"),b={documentId:this._document.documentId,
pageNumber:this.pageNumber,bounds:b,maximumBarcodes:a,symbologies:h,userData:this._document.serviceUserData},i=$.Deferred(),p={url:p,type:"POST",contentType:"application/json",data:JSON.stringify(b)};if(!f.DocumentFactory.doPrepareAjax(this,c._className,"ReadBarcodes",p))return i.reject(null,"Canceled","Canceled").promise();$.ajax(p).done(function(a){var b=a.barcodes.map(function(a){return d.Barcode.BarcodeData.fromJson(a)});i.resolve(b,"undefined"===typeof a.userData?null:a.userData)}).fail(function(a,
b,h){f.DocumentFactory.log(h);i.reject(a,b,h)});return i.promise()};c._className="DocumentPage";c._controllerName="Page";c._getThumbnailImageActionName="GetThumbnail";c._getThumbnailImageMethodName="GetThumbnailImage";c._getImageActionName="GetImage";c._getImageMethodName="GetImage";c._getImageResizedActionName="GetImage";c._getImageResizedMethodName="GetImageResized";c._getSvgBackImageActionName="GetSvgBackImage";c._getSvgBackImageMethodName="GetSvgBackImage";c._getSvgActionName="GetSvg";c._getSvgMethodName=
"GetSvg";return c}();f.DocumentPage=g})(d.Document||(d.Document={}))})(lt||(lt={}));
(function(d){(function(f){(function(c){c[c.normal=0]="normal";c[c.bold=1]="bold";c[c.italic=2]="italic";c[c.underline=4]="underline"})(f.DocumentFontStyles||(f.DocumentFontStyles={}));(function(c){c[c.none=0]="none";c[c.fit=1]="fit";c[c.fitAlways=2]="fitAlways";c[c.fitWidth=3]="fitWidth";c[c.fitHeight=4]="fitHeight"})(f.DocumentPageFitType||(f.DocumentPageFitType={}));var g=function(){function c(){this._children=[]}c.fromJson=function(b){if(null==b)return null;var a=new c;return!a.copyFromJson(b)?
null:a};c.prototype.copyFromJson=function(b){if(null==b||!b.hasOwnProperty("fontStyles")||!b.hasOwnProperty("children")||!b.hasOwnProperty("target")||!b.hasOwnProperty("title"))return!1;this.fontStyles=b.fontStyles;this.title=b.title;var a=new f.DocumentLinkTarget,h=b.target;if(!h.hasOwnProperty("pageFitType")||!h.hasOwnProperty("pageNumber")||!h.hasOwnProperty("position")||!h.hasOwnProperty("zoomPercent"))return!1;a.pageFitType=h.pageFitType;a.pageNumber=h.pageNumber;a.position=d.LeadPointD.fromJSON(h.position);
a.zoomPercent=h.zoomPercent;this.target=a;for(a=0;a<b.children.length;a++)this.children.push(c.fromJson(b.children[a]));return!0};c.prototype.clone=function(b){var a=new c;a.fontStyles=this.fontStyles;a.target=this.target.clone();a.title=this.title;if(b)for(b=0;b<this.children.length;b++)a.children.push(this.children[b].clone(!0));return a};Object.defineProperty(c.prototype,"fontStyles",{get:function(){return this._fontStyles},set:function(b){this._fontStyles=b},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,
"children",{get:function(){return this._children},set:function(b){this._children=b},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"target",{get:function(){return this._target},set:function(b){this._target=b.clone()},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"title",{get:function(){return this._title},set:function(b){this._title=b},enumerable:!0,configurable:!0});return c}();f.DocumentBookmark=g})(d.Document||(d.Document={}))})(lt||(lt={}));
if(lt.LTHelper.browser==lt.LTBrowser.internetExplorer&&9>=lt.LTHelper.version)try{$.support.cors=!0}catch(e$$8){lt.LTHelper.logWarning("IE9 does not support AJAX without a special jQuery flag. Please ensure jQuery is properly added to the page.")}
(function(d){(function(f){var g=function(){return function(){this.mimeType=this.documentId=null}}();f.CreateDocumentOptions=g;g=function(){return function(){this.originalPageNumber=this.pageNumber=0;this.size=d.LeadSizeD.empty;this.resolution=0}}();f.DocumentPageDescriptor=g;g=function(){return function(){this.autoSaveToCache=this.autoDeleteFromCache=!0;this.isReadOnly=this.autoDisposeDocuments=!1;this.defaultPageSize=d.LeadSizeD.empty;this.defaultResolution=0;this.defaultBitsPerPixel=24;this.maximumImagePixelSize=
0;this.thumbnailPixelSize=d.LeadSizeD.create(128,128);this.isResolutionsSupported=this.isSvgViewingPreferred=this.isSvgSupported=this.isStructureSupported=this.isStructureParsed=this.unembedSvgImages=!1;this.textExtractionMode=f.DocumentTextExtractionMode.auto;this.parsePageLinks=this.parseBookmarks=this.autoParseLinks=!0}}();f.DocumentDescriptor=g})(d.Document||(d.Document={}))})(lt||(lt={}));
(function(d){(function(d){var g=function(){return function(){this.documentId=null;this.resolution=0;this.annotationsUri=this.password=this.name=null;this.loadEmbeddedAnnotations=!1;this.lastPageNumber=this.firstPageNumber=this.maximumImagePixelSize=0}}();d.LoadDocumentOptions=g})(d.Document||(d.Document={}))})(lt||(lt={}));
(function(d){(function(f){var g=function(){function a(){this._bounds=d.LeadRectD.empty;this._spaceWidth=0;this._isRightToLeft=this._isEndOfParagraph=this._isLineBreak=this._isEndOfLine=this._isEndOfWord=!1}Object.defineProperty(a.prototype,"code",{get:function(){return this._code},set:function(a){this._code=a},enumerable:!0,configurable:!0});a.prototype.codeAsString=function(){return String.fromCharCode(this.code)};Object.defineProperty(a.prototype,"bounds",{get:function(){return this._bounds.clone()},
set:function(a){this._bounds=a.clone()},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"spaceWidth",{get:function(){return this._spaceWidth},set:function(a){this._spaceWidth=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isEndOfWord",{get:function(){return this._isEndOfWord},set:function(a){this._isEndOfWord=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isEndOfLine",{get:function(){return this._isEndOfLine},set:function(a){this._isEndOfLine=
a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isLineBreak",{get:function(){return this._isLineBreak},set:function(a){this._isLineBreak=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isEndOfParagraph",{get:function(){return this._isEndOfParagraph},set:function(a){this._isEndOfParagraph=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isRightToLeft",{get:function(){return this._isRightToLeft},set:function(a){this._isRightToLeft=a},
enumerable:!0,configurable:!0});return a}();f.DocumentCharacter=g;var c=function(){function a(){this._value=null;this._bounds=d.LeadRectD.empty}Object.defineProperty(a.prototype,"value",{get:function(){return this._value},set:function(a){this._value=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"bounds",{get:function(){return this._bounds},set:function(a){this._bounds=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"firstCharacterIndex",{get:function(){return this._firstCharacterIndex},
set:function(a){this._firstCharacterIndex=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"lastCharacterIndex",{get:function(){return this._lastCharacterIndex},set:function(a){this._lastCharacterIndex=a},enumerable:!0,configurable:!0});return a}();f.DocumentWord=c;var b=function(){function a(a){this._textMap=this._text=this._words=this._characters=null;this._characters=a}a.fromJson=function(b){if(null==b||!b.hasOwnProperty("characters"))return null;var c=new a(null);c._characters=
[];for(var i=0;i<b.characters.length;i++){var f=new g;f.isEndOfWord=b.characters[i].isEndOfWord;f.isEndOfLine=b.characters[i].isEndOfLine;f.isLineBreak=b.characters[i].isLineBreak;f.isRightToLeft=b.characters[i].isRightToLeft;f.code=b.characters[i].code;f.bounds=d.LeadRectD.fromJSON(b.characters[i].bounds);c._characters.push(f)}return c};Object.defineProperty(a.prototype,"characters",{get:function(){return this._characters},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"words",
{get:function(){return this._words},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"text",{get:function(){return this._text},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"textMap",{get:function(){return this._textMap},enumerable:!0,configurable:!0});a.prototype.clearBuildData=function(){this._textMap=this._text=this._words=null};a.prototype.buildWords=function(){for(var b=0,p=this._characters.length,i=[],f=!1,j=-1;b<p;){for(var e=d.LeadRectD.empty,l=b,k=!1,
n=!0,m=new g;n&&b<p;)m=this._characters[b],n=m.bounds.clone(),e=e.isEmpty?n.clone():d.LeadRectD.unionRects(e,n),n=b<p&&!m.isEndOfWord&&!m.isEndOfLine,b++,m.isRightToLeft&&(k=!0);for(var n="",q=l;q<b;q++)n+=this._characters[q].code;q=new c;q.value=n;q.bounds=e.clone();q.firstCharacterIndex=l;q.lastCharacterIndex=b-1;k&&(q.value=a.reverse(q.value));f&&k?(j=-1==j?i.length-1:j,i.splice(j,0,q)):(-1!=j&&(this.reverseCharacterPositions(i[j].lastCharacterIndex,i[i.length-1].lastCharacterIndex),j=-1),i.push(q));
f=k&&!m.isEndOfLine}this._words=i};a.reverse=function(a){return a.split("").reverse().join("")};a.prototype.reverseCharacterPositions=function(a,b){var c=this._characters[a],d=this._characters[a];d.isEndOfWord=this._characters[b].isEndOfWord;d.isEndOfLine=this._characters[b].isEndOfLine;d.isLineBreak=this._characters[b].isLineBreak;this._characters[a]=d;d=this._characters[b];d.isEndOfWord=c.isEndOfWord;d.isEndOfLine=c.isEndOfLine;d.isLineBreak=c.isLineBreak;this._characters[b]=d};a.prototype.buildText=
function(){this.doBuildText(!1)};a.prototype.buildTextWithMap=function(){this.doBuildText(!0)};a.prototype.doBuildText=function(a){var b=!1;null===this._words&&null!==this._characters&&(this.buildWords(),b=!0);if(null===this._words||0===this._words.length)this._textMap=null,this._text="",b&&(this._words=null);else{this._textMap=a?[]:null;for(var c="",d=this._words.length,f=0;f<d;){var e=this._words[f];if(null!=e.value&&""!==e.value&&(c+=e.value,a))for(var l=e.firstCharacterIndex;l<=e.lastCharacterIndex;l++)this._textMap.push(l);
l=!1;-1!==e.lastCharacterIndex&&(l=this._characters[e.lastCharacterIndex].isEndOfLine);e=f===d-1;l?(e||(c+="\n"),a&&this._textMap.push(-2)):e||(c+=" ",a&&this._textMap.push(-1));f++}b&&(this._words=null);this._text=c}};a.prototype.removeSmallerDuplicate=function(a,b){for(var c=a.length-1;0<=c;c--)b.bounds.containsRect(a[c].bounds)&&a.splice(c,1)};a.prototype.parseLinks=function(a){var b=[];if(null==a||0===a.length)return b;null==this._textMap&&this.buildTextWithMap();var c=this.text;if(!c||0===c.length)return b;
var d=this.textMap;if(!d||0===d.length)return b;for(var j=0;j<a.length;j++)for(var e=null,l=a[j];null!==(e=l.exec(c));){var k=e.index,n=e.index+e[0].length-1,m=this.characters,q=d.length;if(!(0>k||k>=q||0>n||n>=q)){k=d[k];for(q=d[n];-1===k&&k<q;)k++;if(!(k>q)){n=m[k].bounds;for(k+=1;k<=q;k++)n.union(m[q].bounds);m=new f.DocumentLink;m.linkType=f.DocumentLinkType.value;m.bounds=n;m.value=e[0];this.removeSmallerDuplicate(b,m);b.push(m)}}}return b};a.prototype.clipText=function(b){if(b.isEmpty)return a.fromJson(this);
var c=this._characters;if(null==c)return null;var d=[],f=c.length,j=new g;j.isEndOfWord=!1;j.isEndOfLine=!1;for(var e=-1,l=0;l<f;l++){var k=c[l],n=!1,m=k.code;9==m||160==m||5760==m||6158==m||8192<=m&&8202>=m||8232==m||8233==m||8239==m||8287==m||12288==m?n=!0:b.isEmpty||(n=!b.intersectsWith(k.bounds));if(n){if(k.isEndOfWord&&(j.isEndOfWord=!0),k.isEndOfLine)j.isEndOfLine=!0}else{if(j.isEndOfWord||j.isEndOfLine)-1!=e&&(n=d[e],j.isEndOfWord&&(n.isEndOfWord=!0),j.isEndOfLine&&(n.isEndOfLine=!0),d[e]=
n),j.isEndOfWord=!1,j.isEndOfLine=!1;d.push(k);e++}}return new a(d)};return a}();f.DocumentPageText=b})(d.Document||(d.Document={}))})(lt||(lt={}));
(function(d){(function(f){var g=function(){function a(){this._length=this._mimeType=this._url=this._name=null}a.fromJson=function(b){if(null==b)return null;var c=new a;return!c.copyFromJson(b)?null:c};a.prototype.copyFromJson=function(a){return null==a?!1:f.Internal.PropertyBag.copyMatchingProperties(a,this,null)};Object.defineProperty(a.prototype,"name",{get:function(){return this._name},set:function(a){this._name=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"url",{get:function(){return this._url},
set:function(a){this._url=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"mimeType",{get:function(){return this._mimeType},set:function(a){this._mimeType=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"length",{get:function(){return this._length},set:function(a){this._length=a},enumerable:!0,configurable:!0});return a}();f.ConvertItem=g;var c=function(){function a(){this._archive=new g;this._document=new g;this._annotations=new g}a.fromJson=function(b){if(null==
b)return null;var c=new a;return!c.copyFromJson(b)?null:c};a.prototype.copyFromJson=function(a){return null==a?!1:f.Internal.PropertyBag.copyMatchingProperties(a,this,null)};Object.defineProperty(a.prototype,"archive",{get:function(){return this._archive},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"document",{get:function(){return this._document},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"annotations",{get:function(){return this._annotations},enumerable:!0,
configurable:!0});return a}();f.DocumentConvertResult=c;var b=function(){function a(){this._isDisposed=this._cacheUriWasOriginallyNull=!1;this._autoDisposeDocuments=!0;this._structure=this._barcodes=this._images=this._annotations=this._documents=this._pages=null;this._values=new f.Internal.DocumentValues;this._text=new f.DocumentText(this);this._cacheStatus=f.DocumentCacheStatus.synced;this._isLocal=!1;this._serviceUserData=null;this._pages=new f.DocumentPages(this);this._documents=new f.DocumentDocuments(this);
this._annotations=new f.DocumentAnnotations(this);this._images=new f.DocumentImages(this);this._barcodes=new f.DocumentBarcodes(this);this._metadata={};this._structure=null}a.fromJson=function(b,c){var d=$.Deferred();if(null==b)return d.resolve(null).promise();var f=new a;f.copyFromJson(b,c).done(function(a){a?d.resolve(f):d.resolve(null)});return d.promise()};a.prototype.copyFromJson=function(a,b){var c=this,d=$.Deferred();if(null==a||!a.hasOwnProperty("values")||!a.hasOwnProperty("pages"))return d.resolve(!1).promise();
var j=this.cacheUri;if(!this._values.copyFromJson(a.values))return d.resolve(!1).promise();this._values.cacheUri?j&&(this.cacheUri=j):(this._cacheUriWasOriginallyNull=!0,this._rebuildCacheUri());if(b){for(var e={},j=this.documentId,l=0;l<a.pages.length;l++){var k=a.pages[l].values.documentId;j.toLowerCase()!==k.toLowerCase()&&void 0===e[k]&&(e[k]=null)}var n=Object.keys(e),m=0,q=n.length,g;if(m<q){var r=function(b){e[n[m]]=b;m++;if(m<q)(g=f.DocumentFactory.tryLoadDocumentFromCache(c,n[m]))?r(g):f.DocumentFactory.loadFromCache(n[m]).done(s).fail(t);
else c.finishCopyFromJson(a,d,e)},s=function(a){r(a)},t=function(){r(null)};(g=f.DocumentFactory.tryLoadDocumentFromCache(this,n[m]))?r(g):f.DocumentFactory.loadFromCache(n[m]).done(s).fail(t)}else this.finishCopyFromJson(a,d,e);return d.promise()}return d.resolve(!0).promise()};a.prototype.finishCopyFromJson=function(a,b,c){var d=this,j=this.documentId;this._pages.beginAdd();for(var e=0;e<a.pages.length;e++){var l=null,k=a.pages[e].values.documentId;if(k)if(j.toLowerCase()===k.toLowerCase())l=f.DocumentPage.fromJson(a.pages[e],
this,e+1);else if(k=c[k]){var n=a.pages[e].values.pageNumber;0<n&&n<=k.pages.count&&(l=k.pages.item(n-1))}l&&this._pages.add(l)}this._pages.endAdd();this._values.isStructureSupported?(this._structure=new f.DocumentStructure(this),this._values.isStructureParsed&&a.hasOwnProperty("structure")&&(c=a.structure,this._structure.copyFromJson(c.bookmarks,c.pageLinks))):this._structure=null;if(a.hasOwnProperty("metadata")){var m=a.metadata;this._metadata={};Object.keys(m).forEach(function(a){d._metadata[a]=
m[a]})}a.hasOwnProperty("text")&&!this._text.copyFromJson(a.text)?b.resolve(!1):b.resolve(!0)};a.rebuildCacheUriValues=function(){if(f.DocumentFactory.documentRefs)for(var a=Object.keys(f.DocumentFactory.documentRefs),b=0;b<a.length;b++){var c=f.DocumentFactory.documentRefs[a[0]];c&&c.document&&c.document._rebuildCacheUri()}};a.prototype._rebuildCacheUri=function(){if(this._cacheUriWasOriginallyNull){var b=[f.DocumentFactory.serviceUri,a.cacheClassName,a.cacheControllerName].join("/");this.cacheUri=
f.Internal.ImageRequestHelper.createFullUrl(b,{documentId:this.documentId,userData:f.DocumentFactory.serviceUserData})}};a.prototype.createDocumentDescriptor=function(){var a=new f.DocumentDescriptor;a.documentId=this._values.documentId;a.name=this._values.name;a.autoDisposeDocuments=this.autoDisposeDocuments;a.isReadOnly=this._values.isReadOnly;a.mimeType=this._values.mimeType;a.defaultPageSize=this._values.defaultPageSize;a.defaultResolution=this._values.defaultResolution;a.defaultBitsPerPixel=
this._values.defaultBitsPerPixel;a.maximumImagePixelSize=this._values.maximumImagePixelSize;a.thumbnailPixelSize=this._values.thumbnailPixelSize;a.unembedSvgImages=this._values.unembedSvgImages;a.documentType=this._values.documentType;a.isStructureParsed=this._values.isStructureParsed;a.isStructureSupported=this._values.isStructureSupported;a.isSvgSupported=this._values.isSvgSupported;a.isSvgViewingPreferred=this._values.isSvgViewingPreferred;a.isResolutionsSupported=this._values.isResolutionsSupported;
a.textExtractionMode=this._values.textExtractionMode;a.autoParseLinks=this._values.autoParseLinks;a.parseBookmarks=this._values.parseBookmarks;a.parsePageLinks=this._values.parsePageLinks;this._metadata&&(a.metadata=JSON.stringify(this._metadata));for(var b=this._pages.count,c=[],d=1;d<=b;d++){var j=this._pages.item(d-1),e=new f.DocumentPageDescriptor;e.documentId=j.values.documentId;e.pageNumber=j.values.pageNumber;e.originalPageNumber=j.values.originalPageNumber;e.size=j.values.size;e.resolution=
j.values.resolution;c.push(e)}a.pages=c;return a};a.create=function(b){if(!b)throw Error("Options cannot be null");var c=b.documentId?b.documentId:f.Internal.Guid.newGuid(),i=new a;i._values.isSvgSupported=!0;i._values.isSvgViewingPreferred=!0;i._values.isResolutionsSupported=!0;i._values.documentId=c;i._values.mimeType=b.mimeType;i._values.documentType="Virtual";i._values.defaultPageSize=d.LeadSizeD.create(8.5*a.unitsPerInch,11*a.unitsPerInch);i._values.isReadOnly=!1;i.cacheStatus=f.DocumentCacheStatus.notSynced;
i.isLocal=!0;b=f.Internal.Formatting.formatDate(new Date);c=i.metadata;c.Created=b;c.Accessed=b;c.Modified=b;f.DocumentFactory.documentCreated(i);return i};Object.defineProperty(a.prototype,"isDisposed",{get:function(){return this._isDisposed},enumerable:!0,configurable:!0});a.prototype.dispose=function(){this._dispose(!1)};a.prototype._dispose=function(a){var b=this;this._isDisposed||(this._isDisposed=!0,this._documents&&(this.forEachDocument(function(a){a&&0===f.DocumentFactory.decrementDocumentRef(a)&&
b._autoDisposeDocuments&&a.dispose()}),this._documents.dispose(),this._documents=null),this._pages&&(this._pages.dispose(),this._pages=null),this._annotations&&(this._annotations.dispose(),this._annotations=null),this._images&&(this._images.dispose(),this._images=null),this._barcodes&&(this._barcodes.dispose(),this._barcodes=null),this._structure&&(this._structure.dispose(),this._structure=null),a||f.DocumentFactory.documentDisposed(this))};Object.defineProperty(a.prototype,"autoDisposeDocuments",
{get:function(){return this._autoDisposeDocuments},set:function(a){this._autoDisposeDocuments=a;this.forEachDocument(function(b){b&&(b.autoDisposeDocuments=a)})},enumerable:!0,configurable:!0});a.prototype.canModify=function(){if(this.isReadOnly)throw Error("Document is read-only");};a.prototype.createPage=function(a,b){if(a.isEmpty)throw Error("Size must not be empty");if(0>b)throw Error("Resolution must be a value greater than or equal to 0");var c=new f.DocumentPage;c.setSize(a);c.resolution=b;
c.isLocal=!0;return c};Object.defineProperty(a.prototype,"documentId",{get:function(){return this.values.documentId},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"name",{get:function(){return this.values.name},set:function(a){this.values.name=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"uri",{get:function(){return this.values.uri},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"cacheUri",{get:function(){return this.values.cacheUri},
set:function(a){this.values.cacheUri=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"lastCacheSyncTime",{get:function(){return this._values.lastCacheSyncTime},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"cacheStatus",{get:function(){return this._cacheStatus},set:function(a){this._cacheStatus=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isDownloaded",{get:function(){return this.values.isDownloaded},enumerable:!0,configurable:!0});
Object.defineProperty(a.prototype,"isReadOnly",{get:function(){return this.values.isReadOnly},set:function(a){this.values.isReadOnly=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isLocal",{get:function(){return this._isLocal},set:function(a){this._isLocal=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"mimeType",{get:function(){return this.values.mimeType},set:function(a){this.values.mimeType=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,
"pages",{get:function(){return this._pages},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isEncrypted",{get:function(){return this.values.isEncrypted},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isDecrypted",{get:function(){return this.values.isDecrypted},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isStructureSupported",{get:function(){return this.values.isStructureSupported},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,
"documents",{get:function(){return this._documents},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"annotations",{get:function(){return this._annotations},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"structure",{get:function(){return this._structure},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"images",{get:function(){return this._images},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"barcodes",{get:function(){return this._barcodes},
enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"metadata",{get:function(){return this._metadata},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"text",{get:function(){return this._text},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"defaultResolution",{get:function(){return this.values.defaultResolution},enumerable:!0,configurable:!0});Object.defineProperty(a,"unitsPerInch",{get:function(){return 720},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,
"values",{get:function(){return this._values},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"annotationsUri",{get:function(){return this.values.annotationsUri},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"defaultBitsPerPixel",{get:function(){return this.values.defaultBitsPerPixel},set:function(a){this.values.defaultBitsPerPixel=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"defaultPageSize",{get:function(){return this.values.defaultPageSize},
enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"documentType",{get:function(){return this.values.documentType},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"password",{get:function(){return this.values.password},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"serviceUserData",{get:function(){return this._serviceUserData},set:function(a){this._serviceUserData=a},enumerable:!0,configurable:!0});a.prototype.validate=function(){return this.mimeType?
{valid:!0,error:""}:{valid:!1,error:"Unrecognized image file format."}};Object.defineProperty(a.prototype,"hasDocuments",{get:function(){return 0<this._documents.count},enumerable:!0,configurable:!0});a.prototype.forEachDocument=function(a){for(var b=0;b<this._documents.count;b++)a(this._documents.item(b))};a.prototype.documentsAddedRemoved=function(){if(0==this._documents.count)this._values.isSvgSupported=!0,this._values.isSvgViewingPreferred=!0,this._values.isResolutionsSupported=!0,this._values.isStructureSupported=
!1;else{var a=!1,b=!1,c=!1,d=!1;this.forEachDocument(function(f){!a&&f._values.isSvgSupported&&(a=!0);!b&&f._values.isSvgViewingPreferred&&(b=!0);!c&&f._values.isResolutionsSupported&&(c=!0);!d&&f.isStructureSupported&&(d=!0)});this._values.isSvgSupported=a;this._values.isSvgViewingPreferred=b;this._values.isResolutionsSupported=c;this._values.isStructureSupported=d}this.isStructureSupported&&!this.structure&&(this._structure=new f.DocumentStructure(this))};a.prototype.decrypt=function(b){var c=this,
d=[f.DocumentFactory.serviceUri,a._controllerName,"Decrypt"].join("/"),b={documentId:this.documentId,password:b,userData:this.serviceUserData},o=$.Deferred(),d={url:d,type:"POST",contentType:"application/json",data:JSON.stringify(b)};if(!f.DocumentFactory.doPrepareAjax(this,a._className,"Decrypt",d))return o.reject(null,"Canceled","Canceled").promise();$.ajax(d).done(function(a){c.copyFromJson(a.document,!0).done(function(b){b?o.resolve(c,"undefined"===typeof a.userData?null:a.userData):o.reject(null,
null,"Invalid document object")})}).fail(function(a,b,c){f.DocumentFactory.log(c);o.reject(a,b,c)});return o.promise()};a.prototype.convert=function(b){var d=[f.DocumentFactory.serviceUri,a._controllerName,"Convert"].join("/"),b={documentId:this.documentId,jobData:b,userData:this.serviceUserData},i=$.Deferred(),d={url:d,type:"POST",contentType:"application/json",data:JSON.stringify(b)};if(!f.DocumentFactory.doPrepareAjax(this,a._className,"Convert",d))return i.reject(null,"Canceled","Canceled").promise();
$.ajax(d).done(function(a){var b=c.fromJson(a);i.resolve(b,"undefined"===typeof a.userData?null:a.userData)}).fail(function(a,b,c){f.DocumentFactory.log(c);i.reject(a,b,c)});return i.promise()};a.documentToPixels=function(b,c){d.LeadDoubleTools.isZero(b)&&(b=96);return Math.floor(c/a.unitsPerInch*b+0.5)};a.pixelsToDocument=function(b,c){d.LeadDoubleTools.isZero(b)&&(b=96);return c*a.unitsPerInch/b};a.prototype.pointToPixels=function(b){if(b.isEmpty)return d.LeadPointD.empty;var c=this.defaultResolution;
return d.LeadPointD.create(a.documentToPixels(c,b.x),a.documentToPixels(c,b.y))};a.prototype.pointToDocument=function(b){var c=this.defaultResolution;return d.LeadPointD.create(a.pixelsToDocument(c,b.x),a.pixelsToDocument(c,b.y))};a.prototype.sizeToPixels=function(b){if(b.isEmpty)return d.LeadSizeD.empty;var c=this.defaultResolution;return d.LeadSizeD.create(a.documentToPixels(c,b.width),a.documentToPixels(c,b.height))};a.prototype.sizeToDocument=function(b){var c=this.defaultResolution;return d.LeadSizeD.create(a.pixelsToDocument(c,
b.width),a.pixelsToDocument(c,b.height))};a.prototype.rectToPixels=function(b){if(b.isEmpty)return d.LeadRectD.empty;var c=this.defaultResolution;return d.LeadRectD.fromLTRB(a.documentToPixels(c,b.left),a.documentToPixels(c,b.top),a.documentToPixels(c,b.right),a.documentToPixels(c,b.bottom))};a.prototype.rectToDocument=function(b){var c=this.defaultResolution;return d.LeadRectD.fromLTRB(a.pixelsToDocument(c,b.left),a.pixelsToDocument(c,b.top),a.pixelsToDocument(c,b.right),a.pixelsToDocument(c,b.bottom))};
a.cacheClassName="Cache";a.cacheControllerName="GetDocumentData";a._className="Document";a._controllerName="Document";return a}();f.LEADDocument=b})(d.Document||(d.Document={}))})(lt||(lt={}));
(function(d){(function(f){var g;(function(a){a[a.synced=0]="synced";a[a.notSynced=1]="notSynced"})(g=f.DocumentCacheStatus||(f.DocumentCacheStatus={}));var c;(function(a){a[a.created=0]="created";a[a.uploading=1]="uploading";a[a.finished=2]="finished";a[a.error=3]="error";a[a.aborted=4]="aborted"})(c=f.DocumentUploadProgressState||(f.DocumentUploadProgressState={}));var b=function(){function a(b,c,d){this._state=b;this._progress=c;this._userData=d}Object.defineProperty(a.prototype,"state",{get:function(){return this._state},
enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"progress",{get:function(){return this._progress},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"userData",{get:function(){return this._userData},enumerable:!0,configurable:!0});return a}();f.DocumentUploadProgress=b;var a;(function(a){a[a.unset=0]="unset";a[a.error=1]="error";a[a.ready=2]="ready"})(a=f.OcrEngineStatus||(f.OcrEngineStatus={}));var h=function(){function a(b,c,d,h,e,f,p){this._message=b;this._time=
c;this._isLicenseChecked=d;this._isLicenseExpired=h;this._isCacheAccessible=e;this._kernelType=f;this._ocrEngineStatus=p}Object.defineProperty(a.prototype,"message",{get:function(){return this._message},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"time",{get:function(){return this._time},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isLicenseChecked",{get:function(){return this._isLicenseChecked},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,
"isLicenseExpired",{get:function(){return this._isLicenseExpired},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isCacheAccessible",{get:function(){return this._isCacheAccessible},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"kernelType",{get:function(){return this._kernelType},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"ocrEngineStatus",{get:function(){return this._ocrEngineStatus},enumerable:!0,configurable:!0});return a}();f.ServiceStatus=
h;var p=function(a){function b(c,d){var h=a.call(this)||this;h._sourceDocument=c;h._documentId=d;return h}__extends(b,a);Object.defineProperty(b.prototype,"sourceDocument",{get:function(){return this._sourceDocument},set:function(a){this._sourceDocument=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"documentId",{get:function(){return this._documentId},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"document",{get:function(){return this._document},set:function(a){this._document=
a},enumerable:!0,configurable:!0});return b}(d.LeadEventArgs);f.ResolveDocumentEventArgs=p;var i=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}__extends(b,a);b.prototype.add=function(b){return a.prototype.add.call(this,b)};b.prototype.remove=function(b){a.prototype.remove.call(this,b)};return b}(d.LeadEvent);f.ResolveDocumentEventType=i;var o=function(){function a(){this._document=null;this._refCount=-1}Object.defineProperty(a.prototype,"document",{get:function(){return this._document},
set:function(a){this._document=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"refCount",{get:function(){return this._refCount},set:function(a){this._refCount=a},enumerable:!0,configurable:!0});return a}();f.DocumentRefInfo=o;i=function(){function e(){}e.create=function(a){return f.LEADDocument.create(a)};e.verifyService=function(){var b=[e.serviceUri,"Test/Ping"].join("/"),c={userData:e._serviceUserData},d=$.Deferred(),b={url:b,type:"POST",contentType:"application/json",data:JSON.stringify(c)};
if(!e.doPrepareAjax(this,e._className,"VerifyService",b))return d.reject(null,"Canceled","Canceled").promise();$.ajax(b).done(function(b){var c=new h(b.message,new Date(b.time),b.isLicenseChecked,b.isLicenseExpired,b.isCacheAccessible,b.kernelType,-1<=b.ocrEngineStatus?b.ocrEngineStatus:a.unset);d.resolve(c,"undefined"===typeof b.userData?null:b.userData)}).fail(function(a,b,c){e.log(c);d.reject(a,b,c)});return d.promise()};e.checkLicense=function(){var a=[e.serviceUri,"Test/CheckLicense"].join("/"),
b={userData:e._serviceUserData},c=$.Deferred(),a={url:a,type:"POST",contentType:"application/json",data:JSON.stringify(b)};if(!e.doPrepareAjax(this,e._className,"CheckLicense",a))return c.reject(null,"Canceled","Canceled").promise();$.ajax(a).done(function(a){c.resolve(a.isExpired,"undefined"===typeof a.userData?null:a.userData)}).fail(function(a,b,d){e.log(d);c.reject(a,b,d)});return c.promise()};Object.defineProperty(e,"serviceHost",{get:function(){return e._serviceHost},set:function(a){e._serviceHost=
a;e.build()},enumerable:!0,configurable:!0});Object.defineProperty(e,"servicePath",{get:function(){return e._servicePath},set:function(a){e._servicePath=a;e.build()},enumerable:!0,configurable:!0});Object.defineProperty(e,"serviceApiPath",{get:function(){return e._serviceApiPath},set:function(a){e._serviceApiPath=a;e.build()},enumerable:!0,configurable:!0});Object.defineProperty(e,"serviceUri",{get:function(){null==e._serviceUri&&e.build();return e._serviceUri},enumerable:!0,configurable:!0});Object.defineProperty(e,
"serviceUserData",{get:function(){return e._serviceUserData},set:function(a){e._serviceUserData=a},enumerable:!0,configurable:!0});e.build=function(){var a=null,b=window.location,a=e._serviceHost,c=e._servicePath,d=e._serviceApiPath,a=null==a?b.protocol+"//"+b.host:a;"/"===a.charAt(a.length-1)&&(a=a.substring(0,a.length-1));null==c?(b=b.pathname,-1<b.indexOf(".")&&(c=b.lastIndexOf("/"),-1<c&&(b=b.substring(0,c))),a+=e.clean(b)):a+=e.clean(c);null!=d&&0<d.length&&(a+=e.clean(d));e._serviceUri=a;f.LEADDocument.rebuildCacheUriValues()};
e.clean=function(a){var b=a.length;"/"!==a.charAt(0)&&(a="/"+a,b+=1);"/"===a.charAt(b-1)&&(a=a.substring(0,b-1));return a};Object.defineProperty(e,"logErrors",{get:function(){return e._logErrors},set:function(a){e._logErrors=a},enumerable:!0,configurable:!0});e.log=function(a){e.logErrors&&a&&d.LTHelper.logError(a)};e.isUploadDocumentUri=function(a){if(null==a)return!1;a=a.toLowerCase();return 0==a.indexOf("http://leadcache")||0==a.indexOf("https://leadcache")};Object.defineProperty(e,"loadDocumentFromCache",
{get:function(){return e._loadDocumentFromCache},enumerable:!0,configurable:!0});e.tryLoadDocumentFromCache=function(a,b){var c=null;e.loadDocumentFromCache&&(c=new p(a,b),e.loadDocumentFromCache.invoke(a,c),c=c.document);return c};e.loadFromCache=function(a){var b=[e.serviceUri,e._controllerName,"LoadFromCache"].join("/"),a={documentId:a,userData:e.serviceUserData},c=$.Deferred(),b={url:b,type:"POST",contentType:"application/json",data:JSON.stringify(a)};if(!e.doPrepareAjax(this,e._className,"LoadFromCache",
b))return c.reject(null,"Canceled","Canceled").promise();$.ajax(b).done(function(a){f.LEADDocument.fromJson(a.document,!0).done(function(b){b&&(e.documentRefs[b.documentId]?e.incrementDocumentRef(b):e.documentCreated(b));c.resolve(b,"undefined"===typeof a.userData?null:a.userData)})}).fail(function(a,b,d){e.log(d);c.reject(a,b,d)});return c.promise()};e.loadFromUri=function(a,b){var c=[e.serviceUri,e._controllerName,"LoadFromUri"].join("/");null==b&&(b=new f.LoadDocumentOptions);var d={uri:a,resolution:b.resolution,
options:b,userData:e.serviceUserData},h=$.Deferred(),c={url:c,type:"POST",contentType:"application/json",data:JSON.stringify(d)};if(!e.doPrepareAjax(this,e._className,"LoadFromUri",c))return h.reject(null,"Canceled","Canceled").promise();$.ajax(c).done(function(a){f.LEADDocument.fromJson(a.document,!0).done(function(b){b&&(e.documentRefs[b.documentId]?e.incrementDocumentRef(b):e.documentCreated(b));h.resolve(b,"undefined"===typeof a.userData?null:a.userData)})}).fail(function(a,b,c){e.log(c);h.reject(a,
b,c)});return h.promise()};e.uploadFile=function(a,h){var f=$.Deferred();if(!d.LTHelper.supportsFileReader)return d.LTHelper.logError("The FileReader API is not supported on this browser - all file manipulation is unavailable."),f.reject(null,"browsererror","The FileReader API is not supported on this browser - all file manipulation is unavailable."),f.promise({abort:function(){}});var p=null,i=!1,j=!1;e.beginUpload(h).done(function(d){f.notify(new b(c.created,0,null));p=d;d=new FileReader;d.onloadend=
function(d){if(2===d.target.readyState){var h=d.target.result,o=0,k=function(d){o+=1048576;if(!i){var r=100*(o/a.size),r=Math.max(0,Math.min(r,100));o<a.size?(f.notify(new b(c.uploading,r,d)),e.uploadDocument(p,h,o,1048576).done(k).fail(g)):(j=!0,f.notify(new b(c.finished,r,d)),f.resolve(p,d))}},g=function(a,b,c){i||(e.log(c),f.reject(a,b,c))};e.uploadDocument(p,h,o,1048576).done(k).fail(g)}};var h=a.slice(0,a.size);d.readAsArrayBuffer(h)}).fail(function(a,b,c){e.log(c);f.reject(a,b,c)});return f.promise({abort:function(){i=
!0;j?e.log("Cannot abort after upload has completed"):(e.abortUploadDocument(p),f.notify(new b(c.aborted,0,null)),f.reject(null,null,null))}})};e.beginUpload=function(a){var b=$.Deferred(),a={url:[e.serviceUri,e._controllerName,"BeginUpload"].join("/"),type:"POST",contentType:"application/json",data:JSON.stringify({documentId:a||null,userData:e._serviceUserData})};if(!e.doPrepareAjax(this,e._className,"BeginUpload",a))return b.reject(null,"Canceled","Canceled").promise();$.ajax(a).done(function(a){b.resolve(a.uploadUri,
"undefined"===typeof a.userData?null:a.userData)}).fail(function(a,c,d){e.log(d);b.reject(a,c,d)});return b.promise()};e.uploadDocument=function(a,b,c,h){var p=$.Deferred();if(!d.LTHelper.supportsFileReader)return d.LTHelper.logError("The FileReader API is not supported on this browser - all file manipulation is unavailable."),p.reject(null,"browsererror","The FileReader API is not supported on this browser - all file manipulation is unavailable.").promise();var i=null,i=ArrayBuffer.prototype.slice?
b.slice(c,c+h):f.Internal.ArrayBufferSlicer.slice(b,c,c+h),b=d.LTHelper.base64EncodeFromArrayBuffer(i),a={url:[e.serviceUri,e._controllerName,"UploadDocument"].join("/"),type:"POST",contentType:"application/json",data:JSON.stringify({uri:a,data:b,userData:e._serviceUserData})};if(!e.doPrepareAjax(this,e._className,"UploadDocument",a))return p.reject(null,"Canceled","Canceled").promise();$.ajax(a).done(function(a){p.resolve("undefined"===typeof a.userData?null:a.userData)}).fail(function(a,b,c){e.log(c);
p.reject(a,b,c)});return p.promise()};e.abortUploadDocument=function(a){var b=[e.serviceUri,e._controllerName,"AbortUploadDocument"].join("/"),a={uri:a,userData:e._serviceUserData},c=$.Deferred(),b={url:b,type:"POST",contentType:"application/json",data:JSON.stringify(a)};if(!e.doPrepareAjax(this,e._className,"AbortUploadDocument",b))return c.reject(null,"Canceled","Canceled").promise();$.ajax(b).done(function(a){c.resolve("undefined"===typeof a.userData?null:a.userData)});return c.promise()};e.downloadDocument=
function(a,b,c,h){var f=[e.serviceUri,e._controllerName,"DownloadDocument"].join("/"),a={documentId:a,uri:b,position:c,dataSize:h,userData:e._serviceUserData},p=$.Deferred(),f={url:f,type:"GET",contentType:"application/json",data:a,headers:{"cache-control":"no-cache"}};if(!e.doPrepareAjax(this,e._className,"DownloadDocument",f))return p.reject(null,"Canceled","Canceled").promise();$.ajax(f).fail(function(a,b,c){e.log(c);p.reject(a,b,c)}).done(function(a){var b=d.LTHelper.base64DecodeToByteArray(a.data);
p.resolve(b,"undefined"===typeof a.userData?null:a.userData)});return p.promise()};e.saveToCache=function(a){var b=$.Deferred();if(a.cacheStatus===g.notSynced){var c=[e.serviceUri,e._controllerName,"SaveToCache"].join("/"),d={descriptor:a.createDocumentDescriptor(),userData:e.serviceUserData},c={url:c,type:"POST",contentType:"application/json",data:JSON.stringify(d)};if(!e.doPrepareAjax(this,e._className,"SaveToCache",c))return b.reject(null,"Canceled","Canceled").promise();$.ajax(c).done(function(c){f.LEADDocument.fromJson(c.document,
!1).done(function(d){if(d){a.isLocal=!1;a.values.documentId=d.documentId;a.values.lastCacheSyncTime=d.values.lastCacheSyncTime;a.cacheStatus=g.synced;d._dispose(!0);for(d=0;d<a.pages.count;d++)a.pages.item(d).isLocal=!1;a.annotations.modifiedContainers?a.annotations.setAnnotations(a.annotations.modifiedContainers).always(function(){a.annotations.modifiedContainers=null;b.resolve("undefined"===typeof c.userData?null:c.userData)}):b.resolve("undefined"===typeof c.userData?null:c.userData)}else b.reject(null,
null,"Invalid document object")})}).fail(function(a,c,d){b.reject(a,c,d)});return b.promise()}return a.annotations.modifiedContainers?(a.annotations.setAnnotations(a.annotations.modifiedContainers).always(function(){a.annotations.modifiedContainers=null;b.resolve()}),b.promise()):b.resolve().promise()};e.deleteFromCache=function(a){var b=[e.serviceUri,e._controllerName,"Delete"].join("/"),a={documentId:a,userData:e._serviceUserData},c=$.Deferred(),b={url:b,type:"POST",contentType:"application/json",
data:JSON.stringify(a)};if(!e.doPrepareAjax(this,e._className,"DeleteFromCache",b))return c.reject(null,"Canceled","Canceled").promise();$.ajax(b).fail(function(a,b,d){e.log(d);c.reject(a,b,d)}).done(function(a){c.resolve("undefined"===typeof a.userData?null:a.userData)});return c.promise()};Object.defineProperty(e,"prepareAjax",{get:function(){return e._prepareAjax},enumerable:!0,configurable:!0});e.doPrepareAjax=function(a,b,c,d){b=new j(b,c,d);e._prepareAjax.invoke(a,b);return!b.cancel};Object.defineProperty(e,
"documentRefs",{get:function(){return this._documentRefs},enumerable:!0,configurable:!0});e.incrementDocumentRef=function(a){e._checkDocumentRefInput(a);a=e._documentRefs[a.documentId];a.refCount++;return a.refCount};e.decrementDocumentRef=function(a){e._checkDocumentRefInput(a);a=e._documentRefs[a.documentId];if(0>=a.refCount)throw Error("cannot decrement reference below zero");a.refCount--;return a.refCount};e.documentCreated=function(a){if(a&&e._documentRefs[a.documentId])throw Error("document with cacheId already exists");
var b=new o;b.document=a;b.refCount=0;e._documentRefs[a.documentId]=b};e.documentDisposed=function(a){e._checkDocumentRefInput(a);0===e._documentRefs[a.documentId].refCount&&(e._documentRefs[a.documentId]=null,delete e._documentRefs[a.documentId])};e._checkDocumentRefInput=function(a){if(!a||!e._documentRefs[a.documentId])throw Error("document does not exist");};e._className="DocumentFactory";e._controllerName="Factory";e._serviceHost=null;e._servicePath=null;e._serviceApiPath=null;e._serviceUri=
null;e._serviceUserData=null;e._logErrors=!0;e._loadDocumentFromCache=d.LeadEvent.create(e,"loadDocumentFromCache");e._prepareAjax=d.LeadEvent.create(e,"prepareAjax");e._documentRefs={};return e}();f.DocumentFactory=i;var j=function(a){function b(c,d,h){var f=a.call(this)||this;f._sourceClass=c[0].toUpperCase()+c.substr(1,c.length-1);f._sourceMethod=d[0].toUpperCase()+d.substr(1,d.length-1);f._settings=h;f._cancel=!1;return f}__extends(b,a);Object.defineProperty(b.prototype,"sourceClass",{get:function(){return this._sourceClass},
enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"sourceMethod",{get:function(){return this._sourceMethod},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"settings",{get:function(){return this._settings},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"cancel",{get:function(){return this._cancel},set:function(a){this._cancel=a},enumerable:!0,configurable:!0});return b}(d.LeadEventArgs);f.PrepareAjaxEventArgs=j;i=function(a){function b(){return null!==
a&&a.apply(this,arguments)||this}__extends(b,a);b.prototype.add=function(b){return a.prototype.add.call(this,b)};b.prototype.remove=function(b){a.prototype.remove.call(this,b)};return b}(d.LeadEvent);f.PrepareAjaxEventType=i})(d.Document||(d.Document={}))})(lt||(lt={}));eval("ltDocumentsString = String;");
(function(d){(function(f){var g=function(){return function(){this.documentProxy=null;this.successCallbacks=[];this.failCallbacks=[];this.pagesCount=0;this.pages={}}}(),c=function(){return function(){this.pageProxy=null;this.count=0;this.successCallbacks=[];this.failCallbacks=[];this.isInRemovalQueue=!1}}(),b=function(){return function(){this.id=null;this.pageNumber=0}}(),a=function(){function a(){}Object.defineProperty(a,"removalQueueLimit",{get:function(){return a._removalQueueLimit},set:function(b){a._removalQueueLimit=
b},enumerable:!0,configurable:!0});a.loadPageFromDocument=function(b,c,d,f,e){b?a.loadPage(b.documentId,{uri:b.cacheUri,password:b.password},c,d,f,e):f("document does not exist",c)};a.loadPage=function(b,c,d,f,e,l){if(!b||!b.trim().length)e("document does not exist in cache",d);else{var g=a._proxyItems[b];g&&g.documentProxy?(g.successCallbacks=[],g.failCallbacks=[],a.loadPageFromLoadedDocument(b,d,f,e)):a.loadDocumentAsync(b,c,function(){a._proxyItems[b]&&a.loadPageFromLoadedDocument(b,d,f,e)},l)}};
a.loadPageFromLoadedDocument=function(b,d,f,j){var e=a._proxyItems[b],g=e.pages[d];if(g&&g.pageProxy){g.count++;var k=g.pageProxy;setTimeout(function(){f(k)},10)}else g?(g.successCallbacks.push(f),g.failCallbacks.push(j)):(g=new c,g.successCallbacks.push(f),g.failCallbacks.push(j),e.pagesCount++,e.pages[d]=g,a.processRemovalQueue(),e.documentProxy.getPage(d).then(function(c){var e=a._proxyItems[b];if(!e)return c.cleanup(),null;e=e.pages[d];if(!e)return c.cleanup(),null;e.pageProxy=c;e.count+=e.successCallbacks.length;
for(var f=0;f<e.successCallbacks.length;f++)(0,e.successCallbacks[f])(c)||e.count--;e.successCallbacks=[];e.failCallbacks=[];a.tryAddToRemovalQueue(e,b,d);return null},function(c){var e=a._proxyItems[b];if(e){var f=e.pages[d];if(f){for(var j=0;j<f.failCallbacks.length;j++)f.failCallbacks[j](c,d);f.successCallbacks=null;f.failCallbacks=null;e.pagesCount--;e.pages[d]=null}}}))};a.getExistingDocument=function(b){return!b||!b.trim().length?null:(b=a._proxyItems[b])&&b.documentProxy?b.documentProxy:null};
a.loadDocumentAsync=function(b,c,f,j){var e=a._proxyItems[b];if(e)e.successCallbacks.push(f),e.failCallbacks.push(j);else{e=new g;e.successCallbacks.push(f);e.failCallbacks.push(j);a._proxyItems[b]=e;f=function(c){var d=a._proxyItems[b];if(d){for(var e=0;e<d.failCallbacks.length;e++)d.failCallbacks[e](c,-1);d.successCallbacks=null;d.failCallbacks=null;a._proxyItems[b]=null}};if(!c)throw Error("arguments needed to load document");var l=c.headers||null,k=null;l&&(k=[],Object.keys(l).forEach(function(a){k[a]=
l[a]}));j={url:c.uri,type:"GET",data:{},password:c.password,headers:k||{},xhrFields:{withCredentials:!!c.withCredentials}};d.Document.DocumentFactory.doPrepareAjax(b,d.Document.LEADDocument.cacheClassName,d.Document.LEADDocument.cacheControllerName,j)?(j&&(c.uri=j.url,c.password=j.password,c.headers=j.headers,c.withCredentials=!(!j.xhrFields||!j.xhrFields.withCredentials)),j={url:c.uri,password:c.password,httpHeaders:c.headers,withCredentials:c.withCredentials},!j.url&&c.data&&(j.data=c.data),window.PDFJS.getDocument(j).then(function(c){var d=
a._proxyItems[b];if(!d){c.destroy();return null}d.documentProxy=c;for(c=0;c<d.successCallbacks.length;c++)d.successCallbacks[c]();d.successCallbacks=[];d.failCallbacks=[];return null},f)):f("cancelled")}};a.releasePage=function(b,c){if(b&&b.trim().length){var d=a._proxyItems[b];if(d&&(d=d.pages[c]))d.count--,a.tryAddToRemovalQueue(d,b,c)}};a.tryAddToRemovalQueue=function(c,d,f){if(0===c.count&&!c.isInRemovalQueue){var j=new b;j.id=d;j.pageNumber=f;a._removalQueue.push(j);c.isInRemovalQueue=!0}};a.processRemovalQueue=
function(){var b=a._removalQueue;if(b&&b.length){for(var c=[],d=0,f=-1,e=-1,g=b.length-1;0<=g;g--){var k=b[g],n=a._proxyItems[k.id];if(n){var m=n.pages[k.pageNumber];m?0!==m.count?(m.isInRemovalQueue=!1,b[g]=null):d<a.removalQueueLimit?(d++,-1==e?e=g:f=g):(m.pageProxy&&(m.pageProxy.cleanup(),m.pageProxy=null),m.successCallbacks=null,m.failCallbacks=null,n.pagesCount--,n.pages[k.pageNumber]=null,0===n.pagesCount&&(n.documentProxy&&(n.documentProxy.destroy(),n.documentProxy=null),n.successCallbacks=
null,n.failCallbacks=null,a._proxyItems[k.id]=null),b[g]=null):b[g]=null}else b[g]=null}if(-1==f)-1!=e&&c.push(b[e]);else for(g=f;g<=e;g++)k=b[g],null!=k&&c.push(k);a._removalQueue=c}};a._proxyItems={};a._removalQueue=[];a._removalQueueLimit=10;return a}();f.PDFProxyCache=a})(d.Document||(d.Document={}))})(lt||(lt={}));
(function(d){(function(f){var g=function(){function b(){}Object.defineProperty(b,"isPDFRenderingSupported",{get:function(){var a=window.PDFJS;if("undefined"===typeof a||!a||!a.getDocument)return!1;switch(d.LTHelper.browser){case d.LTBrowser.chrome:case d.LTBrowser.opera:case d.LTBrowser.firefox:case d.LTBrowser.safari:return!0;case d.LTBrowser.internetExplorer:return 10<=d.LTHelper.version&&d.LTHelper.device===d.LTDevice.desktop;case d.LTBrowser.edge:return d.LTHelper.device===d.LTDevice.desktop;
default:return!1}},enumerable:!0,configurable:!0});b.canRenderPage=function(a){return!!a.document&&!a.isLocal&&"application/pdf"===a.document.mimeType&&!!a.document.cacheUri&&!!a.document.cacheUri.trim().length};b.getDeviceScaling=function(a){return(window.devicePixelRatio||1)/(a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1)};b.internalDisposeCanvasElement=function(a){a&&(a.parentNode&&a.parentNode.removeChild(a),
a.width=0,a.height=0)};b.disposeCanvasElement=function(a,c){c&&d.LTHelper.browser==d.LTBrowser.firefox?setTimeout(function(){b.internalDisposeCanvasElement(a)},1E3):b.internalDisposeCanvasElement(a)};b.disposeImageElement=function(a){a&&(a.parentNode&&a.parentNode.removeChild(a),a.src=b._smallestPossibleImageSrc)};b.removeTransitions=function(a){if(a){var b=null;void 0!==a.style.transition?b="transition":void 0!==a.style.webkitTransition?b="webkitTransition":void 0!==a.style.msTransition&&(b="msTransition");
a.style[b]="none"}};b._smallestPossibleImageSrc="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";return b}();f.PDFRender=g;var c=function(){function b(){var a=this;this._done=null;this._isTaskCancelling=!1;this._task=null;this._promiseSuccess=function(){a._task=null;var b=!1;a._isTaskCancelling&&(a._isTaskCancelling=!1,b=!0);a._done&&a._done(a,b,null);return null};this._promiseFailure=function(b){a._task=null;var c=a._isTaskCancelling=!1,d=null;"cancelled"==b?c=!0:
b instanceof Error?(d=b,-1!==d.toString().indexOf("RenderingCancelledException")&&(c=!0)):d=b&&b.message?Error(b.message):Error(b);a._done&&a._done(a,c,d)}}Object.defineProperty(b.prototype,"done",{get:function(){return this._done},set:function(a){this._done=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isTaskCancelling",{get:function(){return this._isTaskCancelling},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isTaskRunning",{get:function(){return!!this._task},
enumerable:!0,configurable:!0});b.prototype.cancel=function(){!this._isTaskCancelling&&this.isTaskRunning&&(this._task.cancel(),this._isTaskCancelling=!0)};b.prototype.tryRender=function(a,c,d,f,g,j,e){if(this._isTaskCancelling)return!1;if(this.isTaskRunning)return this.cancel(),!1;this._task=b.render(a,c,d,f,g,j,e);this._task.then(this._promiseSuccess,this._promiseFailure);return this.isTaskRunning};b.render=function(a,b,c,d,g,j,e){b._transformMatrix&&(b._transformMatrix=[1,0,0,1,0,0]);f.PDFText.assignDefaultDrawText(b);
c=Math.max(c,d)/Math.max(a.view[2]-a.view[0],a.view[3]-a.view[1]);c=a.getViewport(c);c.transform[4]-=g;c.transform[5]-=j;return a.render({canvasContext:b,transform:1===e?null:[e,0,0,e,0,0],viewport:c})};b.prototype.dispose=function(){this.cancel();this._done=this._task=null};return b}();f.PDFPageRenderer=c;c=function(){function b(a){this._element=null;if(b._useCanvas)this._element=a;else{var c=document.createElement("img");c.src=a.toDataURL("image/png");this._element=c;g.disposeCanvasElement(a,!1)}}
Object.defineProperty(b.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0});b.prototype.dispose=function(a){b._useCanvas?g.disposeCanvasElement(this._element,a):g.disposeImageElement(this._element);this._element=null};b._useCanvas=!(d.LTHelper.browser==d.LTBrowser.safari&&d.LTHelper.OS==d.LTOS.iOS);b._init=void 0;return b}();f.RenderElement=c})(d.Document||(d.Document={}))})(lt||(lt={}));
(function(d){(function(f){var g=function(){function c(){}c.assignDefaultDrawText=function(b){b.fillText===CanvasRenderingContext2D.prototype.fillText&&(b.fillText=c.default_FillText);b.strokeText===CanvasRenderingContext2D.prototype.strokeText&&(b.strokeText=c.default_StrokeText)};c.getTextForDocumentPage=function(b,a){if(b)if(b.document){var d=b.document;c.getText(d.documentId,{uri:d.cacheUri,password:d.password},b.originalPageNumber,b.size,function(c,d){c&&b.processPageText(c);a(c,d)})}else a(null,
Error("page is not a part of a document"));else a(null,Error("page cannot be null"))};c.getText=function(b,a,d,p,i){var g=function(a){i(null,Error(a))};f.PDFProxyCache.loadPage(b,a,d,function(a){c._getTextFromPage(a,p,function(a,c){f.PDFProxyCache.releasePage(b,d);i(a,c)});return!0},g,g)};c._getTextFromPage=function(b,a,h){var p=document.createElement("canvas");p.width=1;p.height=1;var i=p.getContext("2d"),g=b.view[2]-b.view[0],j=b.view[3]-b.view[1],e=[],l=new d.TextFontRuler(null);c._attachCustomDrawText(i,
e,l);var k=new f.PDFPageRenderer;k.done=function(b,i,k){l.dispose();b.done=null;f.PDFRender.disposeCanvasElement(p,!1);i||k?h(null,Error(i?"cancelled":k.message)):(i=c._createDocumentPageText(e,d.LeadSizeD.create(g,j),a),h(i,null));b.dispose()};k.tryRender(b,i,g,j,0,0,1)};c._measureText=function(b,a,c,d){if(0<c.font.widths.length){var f=c.font.widths[d.charCodeAt(0)];if(!isNaN(f))return f*=c.fontSize/c.fontSizeScale/1E3}a.font=b.font;return a.measure(d).width};c._attachCustomDrawText=function(b,a,
c){var f=this,i=function(b,i,e,g,k,n,m){isNaN(m)&&m&&g&&g.length&&g.trim().length&&(i=f._measureText(b,c,m,g),e=b[d.LTHelper.browser===d.LTBrowser.firefox?"mozCurrentTransform":"_transformMatrix"],e=Array.prototype.slice.apply(e),a.push({text:g,x:k,y:n,textWidth:i,spaceWidth:f._measureText(b,c,m," "),contextTransform:e,isRightToLeft:-1===m.fontDirection,fontSize:m.fontSize,fontSizeScale:m.fontSizeScale,fontAscent:m.font.ascent,fontDescent:m.font.descent}))};b.fillText=function(a,b,c,d){i(this,CanvasRenderingContext2D.prototype.fillText,
!1,a,b,c,d)};b.strokeText=function(a,b,c,d){i(this,CanvasRenderingContext2D.prototype.strokeText,!0,a,b,c,d)}};c._createDocumentPageText=function(b,a,c){if(!b||!b.length||a.isEmpty)return null;var g=[],i=d.LeadMatrix.identity,o=d.LeadRectD.create(0,0,0,0),c=c.height/a.height,a=d.LeadMatrix.identity;a.scale(c,c);for(c=0;c<b.length;c++){var j=b[c];if(j){var e=j.text;if(e&&0!==e.trim().length){var i=j.contextTransform,i=d.LeadMatrix.create(i[0],i[1],i[2],i[3],i[4],i[5]),o=j.fontSize/j.fontSizeScale,
l=j.fontAscent,k=j.fontDescent;if(1<l-k)var n=1/(l-k),l=l*n,k=k*n;o=d.LeadRectD.create(j.x,j.y-o*l,j.textWidth,o*(l-k));o=i.transformRect(o);o=a.transformRect(o);i=j.spaceWidth*(o.width/j.textWidth);l=new f.DocumentCharacter;l.code=e;l.bounds=o;l.isRightToLeft=j.isRightToLeft;l.spaceWidth=i;g.push(l)}}}f.Internal.DocumentTextSorter.sortCharacters(g);return new f.DocumentPageText(g)};c.default_FillText=null;c.default_StrokeText=null;c._init=function(){c.default_FillText=function(b,a,c,d){isNaN(d)?
CanvasRenderingContext2D.prototype.fillText.call(this,b,a,c):CanvasRenderingContext2D.prototype.fillText.call(this,b,a,c,d)};c.default_StrokeText=function(b,a,c,d){isNaN(d)?CanvasRenderingContext2D.prototype.strokeText.call(this,b,a,c):CanvasRenderingContext2D.prototype.strokeText.call(this,b,a,c,d)}}();return c}();f.PDFText=g})(d.Document||(d.Document={}))})(lt||(lt={}));
(function(d){(function(d){var g=function(){function c(b,a,c,d,f,g,j,e,l){this._detail=this._message=null;this._code=0;this._errorThrown=this._statusText=this._jqXHR=this._methodName=this._exceptionType=this._link=null;this._isBrowserError=this._isCancelError=this._isParseError=this._isAbortError=!1;this._message=b;this._detail=a;this._code=c;this._link=d;this._exceptionType=f;this._methodName=g;this._jqXHR=j;this._statusText=e;this._errorThrown=l;this._isAbortError=!j&&"abort"===e&&!l;this._isParseError=
"parsererror"==e&&!!l;this._isCancelError=!j&&"Canceled"===e&&"Canceled"===l;this._isBrowserError="browsererror"==e&&!!l}Object.defineProperty(c.prototype,"message",{get:function(){return this._message},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"detail",{get:function(){return this._detail},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"code",{get:function(){return this._code},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"link",{get:function(){return this._link},
enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"exceptionType",{get:function(){return this._exceptionType},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"methodName",{get:function(){return this._methodName},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"jqXHR",{get:function(){return this._jqXHR},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"statusText",{get:function(){return this._statusText},enumerable:!0,configurable:!0});
Object.defineProperty(c.prototype,"errorThrown",{get:function(){return this._errorThrown},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"isAbortError",{get:function(){return this._isAbortError},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"isParseError",{get:function(){return this._isParseError},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"isCancelError",{get:function(){return this._isCancelError},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,
"isBrowserError",{get:function(){return this._isBrowserError},enumerable:!0,configurable:!0});c.parseError=function(b,a,h){if(!b&&!a&&!h)return new c(null,null,null,null,null,null,null,"abort",null);if(!b&&"Canceled"===a&&"Canceled"===h||!b&&"browsererror"===a)return new c(null,null,null,null,null,null,null,a,h);var g=null;try{g=JSON.parse(b.responseText)}catch(i){return d.DocumentFactory.log("Could not parse JSON from Error"),new c(null,null,null,null,null,null,b,a||"parsererror",h?h:"The response error object could not be parsed from JSON.")}return new c(g.message,
g.detail,g.code,g.link,g.exceptionType,g.methodName,b,a,h)};return c}();d.ServiceError=g})(d.Document||(d.Document={}))})(lt||(lt={}));(function(d){d=d.Document||(d.Document={});d.Service||(d.Service={})})(lt||(lt={}));(function(d){d=d.Document||(d.Document={});d.Service||(d.Service={})})(lt||(lt={}));(function(d){d=d.Document||(d.Document={});d.Service||(d.Service={})})(lt||(lt={}));(function(d){d=d.Document||(d.Document={});d.Service||(d.Service={})})(lt||(lt={}));
(function(d){d=d.Document||(d.Document={});d.Service||(d.Service={})})(lt||(lt={}));(function(d){d=d.Document||(d.Document={});d.Service||(d.Service={})})(lt||(lt={}));(function(d){d=d.Document||(d.Document={});d.Service||(d.Service={})})(lt||(lt={}));(function(d){d=d.Document||(d.Document={});d.Service||(d.Service={})})(lt||(lt={}));(function(d){d=d.Document||(d.Document={});d.Service||(d.Service={})})(lt||(lt={}));
(function(d){(function(f){(function(g){var c=function(){function b(){}b.createFullUrl=function(a,b){var c=a+"?",d=Object.keys(b);d.forEach(function(a,f){c+=a+"="+b[a];f!=d.length-1&&(c+="&")});return c};b.createBaseUrl=function(a,b){return d.Document.DocumentFactory.serviceUri+"/"+a+"/"+b};b.doGenericElementLoad=function(a,b,c,i,o,j){var e=this,l=!!b,k=l?b.urlMode:f.DocumentImages.elementUrlMode,n=g.ImageRequestHelper.createAjaxSettings(k,c,l?b.ajaxOptions.method:f.DocumentImages.elementAjaxMethod,
i);l||(b=new d.ImageLoader,b.urlMode=k);var m;m=function(d,k){b.preRun.remove(m);var l=false;n&&!f.DocumentFactory.doPrepareAjax(e,o,j,n)&&(l=true);n?g.ImageRequestHelper.setAjaxSettings(b,n):b.url=g.ImageRequestHelper.createFullUrl(c,i);g.ImageRequestHelper.setImageLoaderCallbacks(b,a);if(l){a.reject(null,"Canceled","Canceled").promise();k.cancel=true}};b.preRun.add(m);l||b.run();return a.promise()};b.createAjaxSettings=function(a,b,c,g){if(a===d.ImageLoaderUrlMode.imageUrl)return null;c||(c=f.DocumentImages.elementAjaxMethod);
a={url:b,type:c,method:c};"post"===c.toLowerCase()?(a.contentType="application/json; charset=utf-8",a.data=JSON.stringify(g)):a.data=g;return a};b.setAjaxSettings=function(a,b){var c=a.ajaxOptions,d=b.headers;d&&Object.keys(d).forEach(function(a){c.headers[a]=d[a]});c.method=b.method||b.type;if(c.method)if("get"===c.method.toLowerCase())a.url=g.ImageRequestHelper.createFullUrl(b.url,b.data);else if("post"===c.method.toLowerCase()){if(!d||!d["content-type"]&&!d.contentType)c.headers["content-type"]=
b.contentType;a.url=b.url;c.postData=b.data}};b.setImageLoaderCallbacks=function(a,b){var c=function(a){b.resolve(a.element)},d=function(a){f.DocumentFactory.log(a.error.message);b.reject(null,"error",a.error)},g=null,g=function(){a.done.remove(c);a.fail.remove(d);a.always.remove(g)};a.done.add(c);a.fail.add(d);a.always.add(g)};return b}();g.ImageRequestHelper=c;c=function(){function b(){}b.formatDate=function(a){var b=a.getMonth()+1,c=a.getDate(),d=a.getFullYear(),f=a.getHours(),g=11<f?"PM":"AM";
12<f&&(f-=12);0===f&&(f=12);var e=a.getMinutes();10>e&&(e="0"+e);a=a.getSeconds();10>a&&(a="0"+a);return b+"/"+c+"/"+d+" "+f+":"+e+":"+a+" "+g};return b}();g.Formatting=c;c=function(){function b(){}b.newGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0;return("x"===a?b:b&3|8).toString(16)})};return b}();g.Guid=c;c=function(){function b(){}b.copyMatchingProperties=function(a,b,c){Object.getOwnPropertyNames(b).forEach(function(g){if(1<
g.length&&"_"===g.charAt(0)&&"_"!==g.charAt(1)){var o=g.substr(1);if(!(null!=c&&-1!=c.indexOf(o))){if(!a.hasOwnProperty(o))return f.DocumentFactory.log("Missing required property: "+o),!1;var j=b[g],o=a[o];b[g]=j instanceof Date?new Date(Date.parse(o)):j instanceof d.LeadPointD?d.LeadPointD.fromJSON(o):j instanceof d.LeadSizeD?d.LeadSizeD.fromJSON(o):j instanceof d.LeadRectD?d.LeadRectD.fromJSON(o):j instanceof d.Document.ConvertItem?d.Document.ConvertItem.fromJson(o):o}}});return!0};return b}();
g.PropertyBag=c;c=function(){function b(){}b.slice=function(a,b,c){void 0===b&&(b=0);void 0===c&&(c=a.byteLength);b=Math.floor(b);c=Math.floor(c);0>b&&(b+=a.byteLength);0>c&&(c+=a.byteLength);b=Math.min(Math.max(0,b),a.byteLength);c=Math.min(Math.max(0,c),a.byteLength);if(0>=c-b)return new ArrayBuffer(0);var d=new ArrayBuffer(c-b),f=new Uint8Array(d),a=new Uint8Array(a,b,c-b);f.set(a);return d};return b}();g.ArrayBufferSlicer=c;c=function(){function b(){}b._sortElementsXY=function(a,b){return a.bounds.top===
b.bounds.top?Math.floor(a.bounds.left-b.bounds.left):Math.floor(a.bounds.top-b.bounds.top)};b._compareElements=function(a,b){return b.bounds.left<a.bounds.left&&(b.bounds.top>a.bounds.top&&b.bounds.top+0.3*b.bounds.height<a.bounds.bottom||b.bounds.bottom>a.bounds.top&&b.bounds.bottom-0.3*b.bounds.height<a.bounds.top||2>=Math.abs(b.bounds.top+b.bounds.height/2-(a.bounds.top+a.bounds.height/2))||b.bounds.top>a.bounds.top&&b.bounds.top<a.bounds.bottom&&b.bounds.right>a.bounds.left&&b.bounds.right<a.bounds.right)};
b._swapElements=function(a,b,c){var d=a[b];a[b]=a[c];a[c]=d};b._sortTextLines=function(a){var c=!1;do{for(var c=!1,d=0;d<=a.length-2;d++){var f=b._compareElements(a[d],a[d+1]);f&&(b._swapElements(a,d,d+1),c=!0)}if(!c)break;c=!1;for(d=a.length-2;0<=d;d--)if(f=b._compareElements(a[d],a[d+1]))b._swapElements(a,d,d+1),c=!0}while(c)};b._markEndOfLine=function(a){a.isEndOfWord=!0;a.isEndOfLine=!0;a.isLineBreak=!0};b._markLineBreak=function(a){a.isEndOfWord=!0;a.isLineBreak=!0};b._setCharactersFlags=function(a){for(var c=
!1,d=[],f=0;f<a.length-1;f++){var g=a[f],j=a[f+1],e=g.bounds.height*b.LINE_MAX_TOLERANCE;if(j.bounds.top+j.bounds.height*b.LINE_MAX_TOLERANCE>=g.bounds.top+g.bounds.height||j.bounds.top>=g.bounds.top+g.bounds.height-e)b._markEndOfLine(g),c=!0,d.push(f);else{var e=g.spaceWidth*b.SPACE_MAX_TOLERANCE,l=j.bounds.left,k=g.bounds.right;Math.ceil(k+e)<Math.floor(l)&&(g.isEndOfWord=!0);Math.ceil(k+6*e)<Math.floor(l)&&(b._markLineBreak(g),d.push(f))}if(c){for(c=0;c<d.length;c++)g=d[c],a[g].bounds.bottom+(a[g].bounds.height+
j.bounds.height)/2<j.bounds.top&&(a[g].isEndOfParagraph=!0);d=[];c=!1}}for(c=0;c<d.length;c++)g=d[c],a[g].isEndOfParagraph=!0;a=a[a.length-1];b._markEndOfLine(a);a.isEndOfParagraph=!0};b.sortCharacters=function(a){if(!a)throw Error("chars cannot be null");a.length&&(a.sort(b._sortElementsXY),b._sortTextLines(a),b._setCharactersFlags(a))};b.LINE_MAX_TOLERANCE=0.125;b.SPACE_MAX_TOLERANCE=0.33;return b}();g.DocumentTextSorter=c})(f.Internal||(f.Internal={}))})(d.Document||(d.Document={}))})(lt||(lt=
{}));
