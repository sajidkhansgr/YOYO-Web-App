(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{Dt16:function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));var s=i("aZQB"),r=i("fXoL"),a=i("tk/3");let c=(()=>{class t{constructor(t){this.http=t}updProfile(t){return this.http.put(""+s.a.UPD_PRFL,t)}}return t.\u0275fac=function(e){return new(e||t)(r.bc(a.b))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})()},FvCg:function(t,e,i){"use strict";i.r(e),i.d(e,"ProfileModule",(function(){return v}));var s=i("ofXK"),r=i("tyNb"),a=i("3Pt+"),c=i("kmnG"),n=i("qFsG"),o=i("d3UM"),b=i("bSwM"),d=i("Qu3c"),l=i("zJym"),u=i("NA9/"),h=i("lAA9"),p=i("VGjC"),f=i("p0iN"),m=i("Dt16"),g=i("fXoL");const S=[{path:"",component:h.a}];let v=(()=>{class t{}return t.\u0275mod=g.Lb({type:t}),t.\u0275inj=g.Kb({factory:function(e){return new(e||t)},providers:[p.a,f.a,m.a],imports:[[s.c,r.h.forChild(S),a.h,a.s,c.e,n.c,o.b,b.b,d.b,l.a,u.a]]}),t})()},M0XK:function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var s=i("0IaG"),r=i("fXoL");let a=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},imports:[[s.e]]}),t})()},TTCX:function(t,e,i){"use strict";i.r(e),i.d(e,"DivisionModule",(function(){return v}));var s=i("ofXK"),r=i("tyNb"),a=i("3Pt+"),c=i("Xa2L"),n=i("kmnG"),o=i("qFsG"),b=i("bSwM"),d=i("d3UM"),l=i("bUhK"),u=i("vLBh"),h=i("YfLq"),p=i("5dRZ"),f=i("zJym"),m=i("M0XK"),g=i("fXoL");const S=[{path:"",component:l.a}];let v=(()=>{class t{}return t.\u0275mod=g.Lb({type:t}),t.\u0275inj=g.Kb({factory:function(e){return new(e||t)},providers:[u.a,h.a,p.a],imports:[[s.c,r.h.forChild(S),a.h,a.s,c.a,n.e,o.c,b.b,d.b,f.a,m.a]]}),t})()},bUhK:function(t,e,i){"use strict";i.d(e,"a",(function(){return X}));var s=i("3Pt+"),r=i("IJgu"),a=i("fXoL"),c=i("YfLq"),n=i("vLBh"),o=i("1kSV"),b=i("5eHb"),d=i("iiaH"),l=i("p0iN"),u=i("0IaG"),h=i("5dRZ"),p=i("ofXK"),f=i("668k"),m=i("kmnG"),g=i("qFsG"),S=i("bSwM"),v=i("d3UM"),T=i("FKr1");function M(t,e){1&t&&a.Ob(0,"app-loader",5),2&t&&a.pc("type","page")}function y(t,e){if(1&t){const t=a.Ub();a.Tb(0,"a",19),a.ec("click",(function(){a.Bc(t);const i=e.$implicit;return a.ic(3).hubChange(i)})),a.Mc(1),a.Sb()}if(2&t){const t=e.$implicit;a.Ab(1),a.Nc(t.name)}}function k(t,e){if(1&t&&(a.Rb(0),a.Kc(1,y,2,1,"a",18),a.Qb()),2&t){const t=a.ic(2);a.Ab(1),a.pc("ngForOf",t.hubs)}}function I(t,e){1&t&&(a.Tb(0,"h6",20),a.Mc(1,"No Hubs Found"),a.Sb())}function A(t,e){if(1&t){const t=a.Ub();a.Tb(0,"a",21),a.ec("click",(function(){a.Bc(t);const e=a.ic(2),i=a.xc(3);return e.openModal(i,"add")})),a.Mc(1," Add New Hub "),a.Sb()}}const H=function(t,e){return{"fa-toggle-off":t,"fa-toggle-on":e}};function N(t,e){if(1&t){const t=a.Ub();a.Tb(0,"div",22),a.Tb(1,"div",9),a.Tb(2,"button",23),a.Ob(3,"i",24),a.Sb(),a.Tb(4,"div",25),a.Tb(5,"a",19),a.ec("click",(function(){a.Bc(t);const e=a.ic(2),i=a.xc(3);return e.openModal(i,"edit")})),a.Mc(6,"Edit"),a.Sb(),a.Tb(7,"a",26),a.ec("click",(function(){return a.Bc(t),a.ic(2).actDeactHub()})),a.Ob(8,"i",27),a.Mc(9),a.Sb(),a.Sb(),a.Sb(),a.Sb()}if(2&t){const t=a.ic(2);a.Ab(7),a.Db("dropdown-item curs-ptr text-",t.selHub.isActive?"primary":"success",""),a.Ab(1),a.pc("ngClass",a.uc(5,H,t.selHub.isActive,!t.selHub.isActive)),a.Ab(1),a.Oc(" ",t.selHub.isActive?"Deactivate":"Activate"," ")}}function w(t,e){if(1&t&&(a.Tb(0,"div",40),a.Mc(1),a.Tb(2,"div",22),a.Ob(3,"i",41),a.Sb(),a.Sb()),2&t){const t=e.$implicit;a.Ab(1),a.Oc(" ",t.name," ")}}function L(t,e){if(1&t&&(a.Rb(0),a.Kc(1,w,4,1,"div",39),a.Qb()),2&t){const t=a.ic(3);a.Ab(1),a.pc("ngForOf",t.selHub.groups)}}function C(t,e){1&t&&(a.Tb(0,"div",42),a.Mc(1,"No assigned groups"),a.Sb())}function O(t,e){if(1&t){const t=a.Ub();a.Tb(0,"div",28),a.Tb(1,"div",29),a.Tb(2,"div",30),a.Tb(3,"div",31),a.Mc(4," Assigned Groups "),a.Tb(5,"div",22),a.Tb(6,"i",32),a.ec("click",(function(){a.Bc(t);const e=a.ic(2),i=a.xc(5);return e.openModal(i,"grp")})),a.Sb(),a.Sb(),a.Sb(),a.Tb(7,"div",33),a.Kc(8,L,2,1,"ng-container",12),a.Kc(9,C,2,0,"ng-template",null,34,a.Lc),a.Sb(),a.Sb(),a.Sb(),a.Tb(11,"div",35),a.Tb(12,"div",30),a.Tb(13,"div",31),a.Mc(14," Promoted Members "),a.Tb(15,"div",22),a.Tb(16,"div",36),a.ec("click",(function(){a.Bc(t);const e=a.ic(2),i=a.xc(7);return e.openModal(i,"prm")})),a.Mc(17,"Promote a Member"),a.Sb(),a.Sb(),a.Sb(),a.Tb(18,"div",33),a.Tb(19,"table",37),a.Tb(20,"thead"),a.Tb(21,"tr"),a.Tb(22,"th",38),a.Mc(23,"User"),a.Sb(),a.Tb(24,"th",38),a.Mc(25,"Content"),a.Sb(),a.Tb(26,"th",38),a.Mc(27,"Collaboration"),a.Sb(),a.Tb(28,"th",38),a.Mc(29,"User Management"),a.Sb(),a.Tb(30,"th",38),a.Mc(31,"Reporting"),a.Sb(),a.Tb(32,"th",38),a.Mc(33,"Options"),a.Sb(),a.Sb(),a.Sb(),a.Tb(34,"tbody"),a.Tb(35,"tr"),a.Tb(36,"td"),a.Mc(37,"Test"),a.Sb(),a.Tb(38,"td"),a.Mc(39,"Test"),a.Sb(),a.Tb(40,"td"),a.Mc(41,"Test"),a.Sb(),a.Tb(42,"td"),a.Mc(43,"Test"),a.Sb(),a.Tb(44,"td"),a.Mc(45,"Test"),a.Sb(),a.Tb(46,"td"),a.Mc(47,"Test"),a.Sb(),a.Sb(),a.Sb(),a.Sb(),a.Sb(),a.Sb(),a.Sb(),a.Sb()}if(2&t){const t=a.xc(10),e=a.ic(2);a.Ab(8),a.pc("ngIf",e.selHub.groups&&e.selHub.groups.length>0)("ngIfElse",t)}}function x(t,e){if(1&t&&(a.Tb(0,"div",6),a.Tb(1,"h3",7),a.Tb(2,"div",8),a.Tb(3,"div",9),a.Tb(4,"div",10),a.Mc(5),a.Sb(),a.Tb(6,"div",11),a.Kc(7,k,2,1,"ng-container",12),a.Kc(8,I,2,0,"ng-template",null,13,a.Lc),a.Ob(10,"div",14),a.Kc(11,A,2,0,"a",15),a.Sb(),a.Sb(),a.Sb(),a.Kc(12,N,10,8,"div",16),a.Sb(),a.Kc(13,O,48,2,"div",17),a.Sb()),2&t){const t=a.xc(9),e=a.ic();a.Ab(5),a.Oc(" ",e.selHub&&e.selHub.id?e.selHub.name:"No Hub"," "),a.Ab(2),a.pc("ngIf",e.hubs[0])("ngIfElse",t),a.Ab(4),a.pc("ngIf",e.usrInfo&&(1==e.usrInfo.rid||2==e.usrInfo.rid)),a.Ab(1),a.pc("ngIf",e.selHub&&e.selHub.id&&e.usrInfo&&(1==e.usrInfo.rid||2==e.usrInfo.rid)),a.Ab(1),a.pc("ngIf",!e.hubLoad)}}function F(t,e){1&t&&(a.Tb(0,"mat-error"),a.Mc(1," Name is required "),a.Sb())}function K(t,e){1&t&&a.Ob(0,"app-loader",5),2&t&&a.pc("type","div")}function U(t,e){if(1&t){const t=a.Ub();a.Tb(0,"mat-checkbox",57),a.ec("change",(function(i){a.Bc(t);const s=e.$implicit;return a.ic(2).chngGrpChk(i.checked,s)})),a.Mc(1),a.Sb()}if(2&t){const t=e.$implicit;a.pc("checked",t.chk),a.Ab(1),a.Nc(t.name)}}function D(t,e){1&t&&a.Ob(0,"app-loader",5),2&t&&a.pc("type","btn")}function P(t,e){if(1&t){const t=a.Ub();a.Tb(0,"div",43),a.Tb(1,"h4",44),a.Mc(2),a.Sb(),a.Tb(3,"button",45),a.ec("click",(function(){return e.$implicit.dismiss("Cross click")})),a.Tb(4,"span",46),a.Mc(5,"\xd7"),a.Sb(),a.Sb(),a.Sb(),a.Tb(6,"form",47),a.ec("ngSubmit",(function(){return a.Bc(t),a.ic().submit()})),a.Tb(7,"div",48),a.Tb(8,"mat-form-field",49),a.Tb(9,"mat-label"),a.Mc(10,"Name"),a.Sb(),a.Ob(11,"input",50),a.Kc(12,F,2,0,"mat-error",51),a.Sb(),a.Tb(13,"mat-checkbox",52),a.Mc(14,"This division can share selected content globally. Global content can be viewed (but not edited) by all other hubs."),a.Sb(),a.Ob(15,"hr"),a.Tb(16,"mat-label",53),a.Mc(17,"Groups assigned to this division"),a.Sb(),a.Kc(18,K,1,1,"app-loader",0),a.Kc(19,U,2,2,"mat-checkbox",54),a.Sb(),a.Tb(20,"div",55),a.Tb(21,"button",56),a.Kc(22,D,1,1,"app-loader",0),a.Mc(23),a.Sb(),a.Sb(),a.Sb()}if(2&t){const t=a.ic();a.Ab(2),a.Oc("","add"==t.type?"Create New":"Edit"," Hub"),a.Ab(4),a.pc("formGroup",t.hubForm),a.Ab(6),a.pc("ngIf",t.hubForm.get("name").hasError("required")),a.Ab(6),a.pc("ngIf",t.grpLoad),a.Ab(1),a.pc("ngForOf",t.grps),a.Ab(2),a.pc("disabled",t.hubForm.invalid||t.disabled),a.Ab(1),a.pc("ngIf",t.disabled),a.Ab(1),a.Oc("","add"==t.type?"Save":"Update"," ")}}function G(t,e){1&t&&a.Ob(0,"app-loader",5),2&t&&a.pc("type","div")}function q(t,e){if(1&t){const t=a.Ub();a.Tb(0,"mat-checkbox",57),a.ec("change",(function(i){a.Bc(t);const s=e.$implicit;return a.ic(2).chngGrpChk(i.checked,s)})),a.Mc(1),a.Sb()}if(2&t){const t=e.$implicit;a.pc("checked",t.chk),a.Ab(1),a.Nc(t.name)}}function B(t,e){1&t&&a.Ob(0,"app-loader",5),2&t&&a.pc("type","btn")}function E(t,e){if(1&t){const t=a.Ub();a.Tb(0,"div",43),a.Tb(1,"h4",44),a.Mc(2,"Update Groups"),a.Sb(),a.Tb(3,"button",45),a.ec("click",(function(){return e.$implicit.dismiss("Cross click")})),a.Tb(4,"span",46),a.Mc(5,"\xd7"),a.Sb(),a.Sb(),a.Sb(),a.Tb(6,"div",48),a.Tb(7,"mat-label",53),a.Mc(8,"Groups assigned to this division"),a.Sb(),a.Kc(9,G,1,1,"app-loader",0),a.Kc(10,q,2,2,"mat-checkbox",54),a.Sb(),a.Tb(11,"div",55),a.Tb(12,"button",58),a.ec("click",(function(){return a.Bc(t),a.ic().updGrp()})),a.Kc(13,B,1,1,"app-loader",0),a.Mc(14,"Save "),a.Sb(),a.Sb()}if(2&t){const t=a.ic();a.Ab(9),a.pc("ngIf",t.grpLoad),a.Ab(1),a.pc("ngForOf",t.grps),a.Ab(2),a.pc("disabled",t.disabled),a.Ab(1),a.pc("ngIf",t.disabled)}}function j(t,e){1&t&&(a.Tb(0,"div",43),a.Tb(1,"h4",44),a.Mc(2,"Promote Division Member"),a.Sb(),a.Tb(3,"button",45),a.ec("click",(function(){return e.$implicit.dismiss("Cross click")})),a.Tb(4,"span",46),a.Mc(5,"\xd7"),a.Sb(),a.Sb(),a.Sb(),a.Tb(6,"div",59),a.Tb(7,"mat-form-field",49),a.Tb(8,"mat-label"),a.Mc(9,"Select a Member to Promote"),a.Sb(),a.Tb(10,"mat-select"),a.Tb(11,"mat-option",60),a.Mc(12,"ABC"),a.Sb(),a.Sb(),a.Sb(),a.Tb(13,"div",61),a.Tb(14,"mat-label",53),a.Mc(15,"Content"),a.Sb(),a.Tb(16,"mat-checkbox",62),a.Mc(17,"Manage Content"),a.Sb(),a.Tb(18,"mat-checkbox",62),a.Mc(19,"Manage Tags"),a.Sb(),a.Sb(),a.Tb(20,"div",63),a.Tb(21,"mat-label",53),a.Mc(22,"Collaboration"),a.Sb(),a.Tb(23,"mat-checkbox",62),a.Mc(24,"Manage Spotlights and Announcements"),a.Sb(),a.Sb(),a.Tb(25,"div",64),a.Tb(26,"mat-label",53),a.Mc(27,"User Management"),a.Sb(),a.Tb(28,"mat-checkbox",62),a.Mc(29,"Manage Users & Groups"),a.Sb(),a.Sb(),a.Tb(30,"div",65),a.Tb(31,"mat-label",53),a.Mc(32,"Reporting"),a.Sb(),a.Tb(33,"mat-checkbox",62),a.Mc(34,"View Content Reports"),a.Sb(),a.Sb(),a.Ob(35,"hr"),a.Tb(36,"div",66),a.Tb(37,"mat-label",53),a.Mc(38,"Settings"),a.Sb(),a.Tb(39,"mat-checkbox",62),a.Mc(40,"Notify user by email"),a.Sb(),a.Sb(),a.Sb(),a.Tb(41,"div",55),a.Tb(42,"button",67),a.ec("click",(function(){return e.$implicit.close("Save click")})),a.Mc(43,"Save"),a.Sb(),a.Sb())}let X=(()=>{class t{constructor(t,e,i,s,r,a,c,n,o){this.hubServ=t,this.divServ=e,this.modalService=i,this.fb=s,this.toastr=r,this.dataServ=a,this.tokenDataServ=c,this.dialog=n,this.grpServ=o,this.hubs=[],this.loading=!0,this.disabled=!1,this.grps=[],this.hubLoad=!1}ngOnInit(){this.getHubs(),this.usrInfo=this.tokenDataServ.getUser(),this.hubForm=this.fb.group({name:["",s.u.required]})}getHubs(){this.loading=!0,this.hubs=[],this.hubServ.hubList({pageNo:0}).subscribe(t=>{t&&t.result&&Array.isArray(t.result.results)&&t.result.results.length>0&&(this.hubs=t.result.results,this.getHub(this.hubs[0])),this.loading=!1},t=>{this.loading=!1,this.hubLoad=!1})}hubChange(t){this.getHub(t)}openModal(t,e){this.type=e,"prm"!==this.type&&(this.grps.length<=0&&this.grpsList(),this.chkUnchkGrp()),"add"!=this.type&&"edit"!=this.type||(this.hubForm.reset(),"edit"==this.type&&this.setHubVal()),this.modalService.open(t,{ariaLabelledBy:"modal-basic-title",size:"lg"}).result.then(t=>{},t=>{})}setHubVal(){this.hubForm.patchValue(Object.assign({},this.selHub))}submit(){if(this.hubForm.valid){this.disabled=!0;let t=Object.assign({},this.hubForm.value);"add"==this.type?this.addHub(t):this.updHub(t)}}addHub(t){t.groupIds=this.getSelGrp(),this.divServ.addHub(t).subscribe(t=>{t?(this.getHubs(),this.dataServ.passDataSend("hub-add"),this.toastr.success(t.message||"Hub added successfully","Success!"),this.disMissMdodal()):this.toastr.error("Unable to add Hub","Error!"),this.disabled=!1},t=>{this.disabled=!1})}updHub(t,e=!1){t.id=this.selHub.id,t.groupIds=this.getSelGrp(),this.divServ.updHub(t).subscribe(i=>{i?(this.selHub.groups=this.getSelGrp(!0),e?this.toastr.success("Hub groups assigned successfully","Success!"):(this.selHub.name=t.name,this.localUpd(),this.dataServ.passDataSend("hub-upd"),this.toastr.success(i.message||"Hub updated successfully","Success!")),this.disMissMdodal()):this.toastr.error("Please try after sometime","Error!"),this.disabled=!1},t=>{this.disabled=!1})}actDeactHub(){let t=this.selHub.isActive?"deactivate":"activate",e=!this.selHub.isActive;this.dialog.open(r.a,{data:{msg:`Are you sure you want to ${t} this hub?`,title:(this.selHub.isActive?"Deactivate":"Activate")+" hub"},autoFocus:!1}).afterClosed().subscribe(i=>{i&&this.divServ.actDeactHub(this.selHub.id.toString(),e).subscribe(i=>{i?(this.selHub.isActive=e,this.localUpd(),this.dataServ.passDataSend("hub-upd"),this.toastr.success(`Hub ${t}d successfully`,"Success!")):this.toastr.error(`Unable to ${t} hub`,"Error!")},t=>{})})}localUpd(){const t=this.hubs.findIndex(t=>t.id==this.selHub.id);t>=0&&(this.hubs[t]=this.selHub)}getHub(t){this.hubLoad=!0,this.hubServ.viewHub(t.id.toString()).subscribe(e=>{this.selHub=e&&e.result&&e.result.id?e.result:t,this.hubLoad=!1},e=>{this.selHub=t,this.hubLoad=!1})}grpsList(){this.grps=[],this.grpLoad=!0,this.grpServ.groupList({pageNo:0,isActive:!0}).subscribe(t=>{t&&t.result&&Array.isArray(t.result.results)&&t.result.results.length>0&&(this.grps=t.result.results,this.chkUnchkGrp()),this.grpLoad=!1},t=>{this.grpLoad=!1})}chkUnchkGrp(){for(let t=0;t<this.grps.length;t++)if(this.grps[t].chk=!1,("edit"==this.type||"grp"==this.type)&&this.selHub&&this.selHub.groups)for(let e=0;e<this.selHub.groups.length;e++)this.grps[t].id===this.selHub.groups[e].id&&(this.grps[t].chk=!0)}getSelGrp(t=!1){let e=[];for(let i=0;i<this.grps.length;i++)this.grps[i].chk&&e.push(t?this.grps[i]:this.grps[i].id);return e}chngGrpChk(t,e){e.chk=t}updGrp(){this.disabled=!0,this.updHub({name:this.selHub.name},!0)}disMissMdodal(){this.modalService&&this.modalService.dismissAll()}ngOnDestroy(){this.disMissMdodal()}}return t.\u0275fac=function(e){return new(e||t)(a.Nb(c.a),a.Nb(n.a),a.Nb(o.h),a.Nb(s.d),a.Nb(b.b),a.Nb(d.a),a.Nb(l.a),a.Nb(u.b),a.Nb(h.a))},t.\u0275cmp=a.Hb({type:t,selectors:[["app-division"]],decls:8,vars:2,consts:[[3,"type",4,"ngIf"],["class","main main-hub p-3",4,"ngIf"],["addDivision",""],["updateGroups",""],["promoteMember",""],[3,"type"],[1,"main","main-hub","p-3"],[1,"mb-4","clearfix","heading"],[1,"float-left"],[1,"dropdown"],["id","divisionsDD","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"curs-ptr","dropdown-toggle"],["aria-labelledby","divisionsDD",1,"dropdown-menu"],[4,"ngIf","ngIfElse"],["noHubs",""],[1,"dropdown-divider"],["class","dropdown-item text-primary curs-ptr",3,"click",4,"ngIf"],["class","float-right",4,"ngIf"],["class","mt-2 row",4,"ngIf"],["class","dropdown-item curs-ptr",3,"click",4,"ngFor","ngForOf"],[1,"dropdown-item","curs-ptr",3,"click"],[1,"dropdown-item","text-secondary"],[1,"dropdown-item","text-primary","curs-ptr",3,"click"],[1,"float-right"],["type","button","id","cogDD","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-light","dropdown-toggle"],[1,"fa","fa-cog"],["aria-labelledby","cogDD",1,"dropdown-menu"],[3,"click"],[1,"mr-1","fas",3,"ngClass"],[1,"mt-2","row"],[1,"col-xl-4"],[1,"card"],[1,"card-header"],[1,"fas","fa-edit","curs-ptr",3,"click"],[1,"card-body"],["noGrp",""],[1,"col-xl-8","mt-3","mt-xl-0"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"table","table-hover","text-dark","w-100"],["scope","col"],["class","assigned-group my-1",4,"ngFor","ngForOf"],[1,"assigned-group","my-1"],[1,"fas","fa-user-friends"],[1,"text-center"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["name","hubForm","novalidate","",3,"formGroup","ngSubmit"],["ngbAutofocus","",1,"modal-body"],["appearance","outline",1,"w-100"],["matInput","","type","text","placeholder","Name","formControlName","name","maxlength","100","required",""],[4,"ngIf"],[1,"ml-3","w-100"],[1,"font-weight-bold","mb-2"],["class","d-block ml-3",3,"checked","change",4,"ngFor","ngForOf"],[1,"modal-footer"],[1,"btn","btn-primary",3,"disabled"],[1,"d-block","ml-3",3,"checked","change"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[1,"modal-body"],["value","abc"],[1,"contnt"],[1,"d-block","ml-3"],[1,"collab"],[1,"userMngmnt"],[1,"reporting"],[1,"settings"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(t,e){1&t&&(a.Kc(0,M,1,1,"app-loader",0),a.Kc(1,x,14,6,"div",1),a.Kc(2,P,24,8,"ng-template",null,2,a.Lc),a.Kc(4,E,15,4,"ng-template",null,3,a.Lc),a.Kc(6,j,44,0,"ng-template",null,4,a.Lc)),2&t&&(a.pc("ngIf",e.loading||e.hubLoad),a.Ab(1),a.pc("ngIf",!e.loading&&!e.hubLoad))},directives:[p.m,f.a,p.l,p.k,s.w,s.n,s.g,m.c,m.g,g.b,s.c,s.m,s.f,s.i,s.t,S.a,m.b,v.a,T.j],styles:["@media (max-width:600px){table.table[_ngcontent-%COMP%]{font-size:10px}}"]}),t})()},lAA9:function(t,e,i){"use strict";i.d(e,"a",(function(){return x}));var s=i("3Pt+"),r=i("s0Cq"),a=i("NpNY"),c=i("cgH4"),n=i("fUzB"),o=i("fXoL"),b=i("tyNb"),d=i("1kSV"),l=i("5eHb"),u=i("VGjC"),h=i("p0iN"),p=i("Dt16"),f=i("ofXK"),m=i("668k"),g=i("Qu3c"),S=i("kmnG"),v=i("qFsG"),T=i("d3UM"),M=i("FKr1");function y(t,e){1&t&&o.Ob(0,"app-loader",3),2&t&&o.pc("type","page")}function k(t,e){if(1&t){const t=o.Ub();o.Tb(0,"div",4),o.Tb(1,"h3",5),o.Mc(2," Profile "),o.Sb(),o.Tb(3,"div",6),o.Tb(4,"div",7),o.Tb(5,"div",8),o.Tb(6,"div",9),o.Tb(7,"div",10),o.Mc(8," My User Profile "),o.Tb(9,"div",11),o.Tb(10,"i",12),o.ec("click",(function(){o.Bc(t);const e=o.ic(),i=o.xc(3);return e.openModal(i)})),o.Sb(),o.Sb(),o.Sb(),o.Tb(11,"div",13),o.Tb(12,"div",14),o.Tb(13,"div",15),o.Mc(14,"Name"),o.Sb(),o.Tb(15,"div",16),o.Mc(16),o.Sb(),o.Sb(),o.Tb(17,"div",14),o.Tb(18,"div",15),o.Mc(19,"Email"),o.Sb(),o.Tb(20,"div",16),o.Mc(21),o.Sb(),o.Sb(),o.Tb(22,"div",14),o.Tb(23,"div",15),o.Mc(24,"Language"),o.Sb(),o.Tb(25,"div",16),o.Mc(26),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Tb(27,"div",17),o.Tb(28,"div",9),o.Tb(29,"div",10),o.Mc(30," Password "),o.Tb(31,"div",11),o.Tb(32,"i",18),o.ec("click",(function(){return o.Bc(t),o.ic().openModal("","chng-pass")})),o.Sb(),o.Sb(),o.Sb(),o.Tb(33,"div",13),o.Tb(34,"div",14),o.Tb(35,"div",16),o.Mc(36,"Password"),o.Sb(),o.Tb(37,"div",16),o.Mc(38,"********"),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Sb()}if(2&t){const t=o.ic();o.Ab(16),o.Nc(t.usrInfo.name),o.Ab(5),o.Nc(t.usrInfo.email||"N/A"),o.Ab(5),o.Nc(t.usrInfo.languageId&&t.lngs[t.usrInfo.languageId]?t.lngs[t.usrInfo.languageId]:"N/A")}}function I(t,e){1&t&&(o.Tb(0,"mat-error"),o.Mc(1,"> First Name is required "),o.Sb())}function A(t,e){1&t&&(o.Tb(0,"mat-error"),o.Mc(1," Last Name is required "),o.Sb())}function H(t,e){1&t&&(o.Tb(0,"mat-error"),o.Mc(1," Email required "),o.Sb())}function N(t,e){1&t&&(o.Tb(0,"mat-error"),o.Mc(1," Please enter a valid email address "),o.Sb())}function w(t,e){if(1&t&&(o.Tb(0,"mat-option",34),o.Mc(1),o.Sb()),2&t){const t=e.$implicit;o.pc("value",t.v),o.Ab(1),o.Nc(t.n)}}function L(t,e){1&t&&(o.Tb(0,"mat-error"),o.Mc(1," Language is required "),o.Sb())}function C(t,e){1&t&&o.Ob(0,"app-loader",3),2&t&&o.pc("type","btn")}function O(t,e){if(1&t){const t=o.Ub();o.Tb(0,"div",19),o.Tb(1,"h4",20),o.Mc(2,"Edit Profile Details"),o.Sb(),o.Tb(3,"button",21),o.ec("click",(function(){return e.$implicit.dismiss("Cross click")})),o.Tb(4,"span",22),o.Mc(5,"\xd7"),o.Sb(),o.Sb(),o.Sb(),o.Tb(6,"form",23),o.ec("ngSubmit",(function(){return o.Bc(t),o.ic().updProfile()})),o.Tb(7,"div",24),o.Tb(8,"mat-form-field",25),o.Tb(9,"mat-label"),o.Mc(10,"First Name"),o.Sb(),o.Ob(11,"input",26),o.Kc(12,I,2,0,"mat-error",27),o.Sb(),o.Tb(13,"mat-form-field",25),o.Tb(14,"mat-label"),o.Mc(15,"Last Name"),o.Sb(),o.Ob(16,"input",28),o.Kc(17,A,2,0,"mat-error",27),o.Sb(),o.Tb(18,"mat-form-field",25),o.Tb(19,"mat-label"),o.Mc(20,"Email"),o.Sb(),o.Ob(21,"input",29),o.Kc(22,H,2,0,"mat-error",27),o.Kc(23,N,2,0,"mat-error",27),o.Sb(),o.Tb(24,"mat-form-field",25),o.Tb(25,"mat-label"),o.Mc(26,"Language"),o.Sb(),o.Tb(27,"mat-select",30),o.Kc(28,w,2,2,"mat-option",31),o.Sb(),o.Kc(29,L,2,0,"mat-error",27),o.Sb(),o.Sb(),o.Tb(30,"div",32),o.Tb(31,"button",33),o.Kc(32,C,1,1,"app-loader",0),o.Mc(33," Update Profile "),o.Sb(),o.Sb(),o.Sb()}if(2&t){const t=o.ic();o.Ab(6),o.pc("formGroup",t.profForm),o.Ab(6),o.pc("ngIf",t.profForm.get("firstName").hasError("required")),o.Ab(5),o.pc("ngIf",t.profForm.get("lastName").hasError("required")),o.Ab(5),o.pc("ngIf",t.profForm.get("email").hasError("required")),o.Ab(1),o.pc("ngIf",!t.profForm.get("email").hasError("required")&&t.profForm.get("email").hasError("invalidEmail")),o.Ab(5),o.pc("ngForOf",t.lngArr),o.Ab(1),o.pc("ngIf",t.profForm.get("languageId").hasError("required")),o.Ab(2),o.pc("disabled",t.profForm.invalid||t.profLoading),o.Ab(1),o.pc("ngIf",t.profLoading)}}let x=(()=>{class t{constructor(t,e,i,s,a,c,n){this.router=t,this.modalService=e,this.fb=i,this.toastr=s,this.usrServ=a,this.tokenDataServ=c,this.profServ=n,this.profLoading=!1,this.hidePass=!0,this.hideCPass=!0,this.hideCurPass=!0,this.lngs=r.i,this.loading=!1}ngOnInit(){this.loading=!0;let t=this.router.url.split("/");this.lngArr=c.a.enumToArray(this.lngs),t&&t.length>0&&"account"==t[t.length-1]&&this.router.navigate(["account/profile"]),this.usrInfo=this.tokenDataServ.getUser(),this.usrInfo&&this.usrInfo.id?(this.initForm(),this.getProfile()):(this.tokenDataServ.remTkn(),this.toastr.error("Please login again","Error!"),this.router.navigate(["auth/login"],{queryParams:{redirect_uri:window.location.href}}))}initForm(){this.profForm=this.fb.group({firstName:["",s.u.required],lastName:["",[s.u.required]],email:["",[s.u.required,a.a.emailValidator]],languageId:["",[s.u.required]]})}getProfile(){console.log("dsa"),this.usrServ.viewEmpl(this.usrInfo.id.toString()).subscribe(t=>{t&&t.result&&t.result.id&&(this.usrInfo=t.result,this.setUsrData()),this.loading=!1},t=>{this.loading=!1})}setUsrData(t=!1){this.usrInfo.name=this.usrInfo.firstName?this.usrInfo.lastName?this.usrInfo.firstName+" "+this.usrInfo.lastName:this.usrInfo.firstName:"N/A",t||(this.usrInfo.languageId=this.usrInfo.language&&this.usrInfo.language.id?this.usrInfo.language.id:"",this.profForm.patchValue(Object.assign({},this.usrInfo)))}updProfile(){if(this.profForm.valid){this.profLoading=!0;let t=Object.assign(Object.assign({},this.profForm.value),{id:this.usrInfo.id});this.profServ.updProfile(t).subscribe(e=>{e&&(this.usrInfo=Object.assign(Object.assign({},this.usrInfo),t),this.setUsrData(!0),this.toastr.success(e.message||"Profile updated successfully","Success!"),this.disMissMdodal()),this.profLoading=!1},t=>{this.profLoading=!1})}}openModal(t,e){this.modalService.open(e?n.a:t,{ariaLabelledBy:"modal-basic-title",size:"lg"}).result.then(t=>{},t=>{})}disMissMdodal(){this.modalService&&this.modalService.dismissAll()}ngOnDestroy(){this.disMissMdodal()}}return t.\u0275fac=function(e){return new(e||t)(o.Nb(b.d),o.Nb(d.h),o.Nb(s.d),o.Nb(l.b),o.Nb(u.a),o.Nb(h.a),o.Nb(p.a))},t.\u0275cmp=o.Hb({type:t,selectors:[["app-profile"]],decls:4,vars:2,consts:[[3,"type",4,"ngIf"],["class","main main-hub p-3",4,"ngIf"],["editProfile",""],[3,"type"],[1,"main","main-hub","p-3"],[1,"mb-4","clearfix","heading"],[1,"mt-2"],[1,"main-tab-nav","row"],[1,"col-lg-7"],[1,"card"],[1,"card-header"],[1,"float-right"],["matTooltip","Edit Profile",1,"fas","fa-edit","curs-ptr",3,"click"],[1,"card-body"],[1,"row","px-4","my-1"],[1,"col","font-weight-bold"],[1,"col"],[1,"col-lg-5","mt-3","mt-lg-0"],["matTooltip","Edit Password",1,"fas","fa-edit","curs-ptr",3,"click"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["name","profForm","novalidate","",3,"formGroup","ngSubmit"],["ngbAutofocus","",1,"modal-body"],["appearance","outline",1,"w-100"],["matInput","","type","text","placeholder","First Name","formControlName","firstName","maxlength","50","required",""],[4,"ngIf"],["matInput","","type","text","placeholder","Last Name","formControlName","lastName","maxlength","50","required",""],["matInput","","type","text","placeholder","Email","formControlName","email","maxlength","100","required",""],["formControlName","languageId","required",""],[3,"value",4,"ngFor","ngForOf"],[1,"modal-footer"],[1,"btn","btn-primary",3,"disabled"],[3,"value"]],template:function(t,e){1&t&&(o.Kc(0,y,1,1,"app-loader",0),o.Kc(1,k,39,3,"div",1),o.Kc(2,O,34,9,"ng-template",null,2,o.Lc)),2&t&&(o.pc("ngIf",e.loading),o.Ab(1),o.pc("ngIf",!e.loading&&e.usrInfo))},directives:[f.m,m.a,g.a,s.w,s.n,s.g,S.c,S.g,v.b,s.c,s.m,s.f,s.i,s.t,T.a,f.l,S.b,M.j],styles:[""]}),t})()},nWY6:function(t,e,i){"use strict";i.r(e),i.d(e,"SettingModule",(function(){return S}));var s=i("ofXK"),r=i("tyNb"),a=i("wZkO"),c=i("pLZG"),n=i("lJxs"),o=i("5+tZ"),b=i("fXoL"),d=i("lAA9"),l=i("bUhK");function u(t,e){1&t&&(b.Tb(0,"span"),b.Ob(1,"app-profile"),b.Sb())}function h(t,e){1&t&&(b.Tb(0,"span"),b.Ob(1,"app-division"),b.Sb())}let p=(()=>{class t{constructor(t,e){this.route=t,this.router=e}ngOnInit(){this.routerSubs=this.router.events.pipe(Object(c.a)(t=>t instanceof r.c),Object(n.a)(()=>this.route),Object(n.a)(t=>{for(;t.firstChild;)t=t.firstChild;return t}),Object(o.a)(t=>t.paramMap)).subscribe(t=>{this.checkAndGet()}),this.checkAndGet()}checkAndGet(){this.activeIndex=this.route.snapshot.firstChild.data.type}onTabChange(t){switch(t.index){case 0:this.router.navigate(["account/profile"]);break;case 1:this.router.navigate(["account/hubs/list"])}}ngOnDestroy(){this.routerSubs&&this.routerSubs.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(b.Nb(r.a),b.Nb(r.d))},t.\u0275cmp=b.Hb({type:t,selectors:[["app-setting"]],hostAttrs:[1,"w-100"],decls:5,vars:3,consts:[[3,"selectedIndex","selectedTabChange"],["label","Profile"],[4,"ngIf"],["label","Hubs"]],template:function(t,e){1&t&&(b.Tb(0,"mat-tab-group",0),b.ec("selectedTabChange",(function(t){return e.onTabChange(t)})),b.Tb(1,"mat-tab",1),b.Kc(2,u,2,0,"span",2),b.Sb(),b.Tb(3,"mat-tab",3),b.Kc(4,h,2,0,"span",2),b.Sb(),b.Sb()),2&t&&(b.pc("selectedIndex",e.activeIndex),b.Ab(2),b.pc("ngIf",0==e.activeIndex),b.Ab(2),b.pc("ngIf",1==e.activeIndex))},directives:[a.b,a.a,s.m,d.a,l.a],styles:[""]}),t})();var f=i("TTCX"),m=i("FvCg");const g=[{path:"",redirectTo:"hubs/list",pathMatch:"full"},{path:"",component:p,children:[{path:"profile",loadChildren:()=>Promise.resolve().then(i.bind(null,"FvCg")).then(t=>t.ProfileModule),data:{type:0}},{path:"hubs/list",loadChildren:()=>Promise.resolve().then(i.bind(null,"TTCX")).then(t=>t.DivisionModule),data:{type:1}}]}];let S=(()=>{class t{}return t.\u0275mod=b.Lb({type:t}),t.\u0275inj=b.Kb({factory:function(e){return new(e||t)},imports:[[s.c,r.h.forChild(g),a.f,m.ProfileModule,f.DivisionModule]]}),t})()},vLBh:function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));var s=i("aZQB"),r=i("fXoL"),a=i("tk/3");let c=(()=>{class t{constructor(t){this.http=t}addHub(t){return this.http.post(""+s.a.ADD_HUB,t)}updHub(t){return this.http.put(""+s.a.UPD_HUB,t)}actDeactHub(t,e){return this.http.patch(`${e?s.a.ACT_HUB:s.a.DEACT_HUB}?id=${t}`,{})}}return t.\u0275fac=function(e){return new(e||t)(r.bc(a.b))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})()}}]);