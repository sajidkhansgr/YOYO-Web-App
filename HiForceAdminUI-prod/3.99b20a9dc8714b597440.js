(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{CFzk:function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));var s=a("tk/3"),n=a("lJxs"),i=a("aZQB"),o=a("fXoL");let r=(()=>{class t{constructor(t){this.http=t}addContentColctn(t){return this.http.post(""+i.a.ADD_CONTENT_COLCT,t)}delContentColctn(t){return this.http.post(""+i.a.REM_CONTENT_COLCT,t)}getContentColctn(t){return this.http.get(`${i.a.GET_CONTENT_COLCT}?id=${t}`)}colctnList(t){let e=new s.e;for(let a in t)(t[a]||"pageNo"==a||"isActive"==a)&&(e=e.set(a,t[a]));return this.http.get(""+i.a.LIST_COLCT,{params:e}).pipe(Object(n.a)(t=>t))}actDeactColctn(t,e){return this.http.post(""+(e?i.a.ACT_COLCT:i.a.DEACT_COLCT),t)}getColctn(t){return this.http.get(`${i.a.GET_COLCT}?id=${t}`)}rearrCntntColl(t){return this.http.post(""+i.a.REARR_CNTNT_COLCT,t)}}return t.\u0275fac=function(e){return new(e||t)(o.bc(s.b))},t.\u0275prov=o.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},OraM:function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));var s=a("tk/3"),n=a("lJxs"),i=a("aZQB"),o=a("fXoL");let r=(()=>{class t{constructor(t){this.http=t}freezeFolderObj(t){const e=new FormData;for(let a in t)(t[a]||"IsUrl"===a||"hasIcon"===a)&&("folderIcon"===a||"content"===a||"urlIcon"===a&&t[a]&&t[a].name?e.append(a,t[a],t[a].name):e.append(a,t[a]));return e}getAllDataWrkspc(t){let e=new s.e;for(let a in t)t[a]&&(e=e.set(a,t[a]));return this.http.get(""+i.a.GET_DATA_WRKSPC,{params:e}).pipe(Object(n.a)(t=>t))}actDeactSmtFldr(t,e){return this.http.patch(`${e?i.a.ACT_SMT_FLDR:i.a.DEACT_SMT_FLDR}?id=${t}`,{})}updSmartFolder(t){return this.http.put(""+i.a.UPD_SMT_FLDR,this.freezeFolderObj(t))}addDuplSmartFolder(t,e){return this.http.post(""+(void 0===e?i.a.DUPL_SMT_FLDR:i.a.ADD_SMT_FLDR),this.freezeFolderObj(t))}getSmtFolder(t){return this.http.get(`${i.a.GET_SMT_FLDR}?id=${t}`)}actDeactFldr(t,e){return this.http.patch(`${e?i.a.ACT_FLDR:i.a.DEACT_FLDR}?id=${t}`,{})}updFolder(t){return this.http.put(""+i.a.UPD_FLDR,this.freezeFolderObj(t))}addDuplFolder(t,e){return this.http.post(""+(void 0===e?i.a.DUPL_FLDR:i.a.ADD_FLDR),this.freezeFolderObj(t))}getFolder(t){return this.http.get(`${i.a.GET_FLDR}?id=${t}`)}actDeactWrkspc(t,e){return this.http.patch(`${e?i.a.ACT_WRKSPC:i.a.DEACT_WRKSPC}?id=${t}`,{})}wrkspcList(t){let e=new s.e;for(let a in t)(t[a]||"isActive"==a||"pageNo"==a)&&(e=e.set(a,t[a]));return this.http.get(""+i.a.LIST_WRKSPC,{params:e}).pipe(Object(n.a)(t=>t))}addWrkspc(t){return this.http.post(""+i.a.ADD_WRKSPC,t)}updWrkspc(t){return this.http.put(""+i.a.UPD_WRKSPC,t)}contentBySmartFolder(t){let e=new s.e;for(let a in t)t[a]&&(e=e.set(a,t[a]));return this.http.get(""+i.a.GET_CNTNT_SMT_FLDR,{params:e}).pipe(Object(n.a)(t=>t))}contentList(t){let e=new s.e;for(let a in t)if("fltrL"===a){if(t[a]&&t[a].length>0)for(let s=0;s<t[a].length;s++)"fT"===t[a][s].type?e=e.append("fileTypes",t[a][s].v):"allTags1"===t[a][s].type?e=e.append("tags.MatchAllTagIds",t[a][s].id):"anyTags1"===t[a][s].type?e=e.append("tags.MatchAnyTagIds",t[a][s].id):"noneTags1"===t[a][s].type&&(e=e.append("tags.MatchNoneTagIds",t[a][s].id))}else(t[a]||"IsAscending"==a)&&(e=e.set(a,t[a]));return this.http.get(""+i.a.LIST_CNTNT,{params:e}).pipe(Object(n.a)(t=>t))}addContent(t){return this.http.post(""+i.a.ADD_CNTNT,this.freezeFolderObj(t))}addContentProms(t){return this.http.post(""+i.a.ADD_CNTNT,this.freezeFolderObj(t)).toPromise()}updContent(t){return this.http.post(""+i.a.UPD_CNTNT,t)}viewContent(t){return this.http.get(""+i.a.GET_CNTNT,{params:{id:t}})}addCmntToContent(t){return this.http.post(""+i.a.ADD_CMNT_CNTNT,t)}addCntntToWrkspcFldr(t){return this.http.post(""+i.a.ADD_CNTNT_WRKSPC,t)}updCntntStatusOrDel(t){return this.http.post(3==t.status?""+i.a.DEL_CNTNT:""+i.a.UPD_CNTNT_STATUS,t)}usrGrpWrkspcList(t){let e=new s.e;for(let a in t)t[a]&&(e=e.set(a,t[a]));return this.http.get(""+i.a.LIST_USR_GRP_WRKSPC,{params:e}).pipe(Object(n.a)(t=>t))}addUsrGrpWrkspc(t){return this.http.post(""+i.a.ADD_USR_GRP_WRKSPC,t)}remUsrGrpWrkspc(t){return this.http.post(""+i.a.REM_USR_GRP_WRKSPC,t)}deactCtntOrFldr(t){return t.isFldr?this.actDeactFldr(t.id,!1):this.updCntntStatusOrDel(t)}newVersion(t){return this.http.post(""+i.a.UPL_VER_CNTNT,this.freezeFolderObj(t))}processCntnt(t,e){return this.http.get(`${e?i.a.PROC_CNTNT_CNT:i.a.PROC_CNTNT}?hubId=${t}`)}rearrWrkspcData(t){return this.http.post(""+i.a.REARR_WRKSPC_ITEMS,t)}procCntntStatus(t,e){return this.http.post(""+(e?i.a.START_PROC_CNTNT:i.a.CANCEL_PROC_CNTNT),t)}actDeactCntntInWrkspc(t,e){return this.http.post(`${e?i.a.ACT_CNT_WRKSPC_FLDR:i.a.DEACT_CNT_WRKSPC_FLDR}?id=${t}`,{})}}return t.\u0275fac=function(e){return new(e||t)(o.bc(s.b))},t.\u0275prov=o.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},Q6ig:function(t,e,a){"use strict";a.d(e,"a",(function(){return b}));var s=a("3Pt+"),n=a("fXoL"),i=a("1kSV"),o=a("5eHb"),r=a("j+Cn"),c=a("kmnG"),l=a("qFsG"),d=a("ofXK"),h=a("668k");function p(t,e){1&t&&(n.Tb(0,"mat-error"),n.Mc(1," Name is required "),n.Sb())}function u(t,e){1&t&&n.Ob(0,"app-loader",12),2&t&&n.pc("type","btn")}let b=(()=>{class t{constructor(t,e,a,s){this.modalRef=t,this.fb=e,this.toastr=a,this.collServ=s}ngOnInit(){this.initialiseState(),this.cntntData&&!Array.isArray(this.cntntData)&&(this.cntntData=[this.cntntData]),console.log(this.cntntData)}initialiseState(){this.colctnForm=this.fb.group({name:["",[s.u.required]]}),"add"==this.type||"add-content"==this.type?this.multiForm=1:"ren"==this.type?this.multiForm=2:"dupl"==this.type&&(this.multiForm=3),this.colctn&&this.colctnForm.patchValue(Object.assign({},this.colctn)),this.disabled=!1}submitColctn(){if(this.colctnForm.valid){this.disabled=!0;let t=Object.assign({},this.colctnForm.value);if("add-content"==this.type){t.contents=[],t.contentPages=[];for(let e=0;e<this.cntntData.length;e++)this.cntntData[e].pageNo&&(Array.isArray(this.cntntData[e].pageNo)&&this.cntntData[e].pageNo.length>0||!Array.isArray(this.cntntData[e].pageNo))?t.contentPages.push({pageNumbers:Array.isArray(this.cntntData[e].pageNo)?[...this.cntntData[e].pageNo]:[this.cntntData[e].pageNo],contentId:this.cntntData[e].contentId?this.cntntData[e].contentId:this.cntntData[e].id}):t.contents.push(this.cntntData[e].contentId?this.cntntData[e].contentId:this.cntntData[e].id)}1==this.multiForm?this.addColctn(t):2==this.multiForm?(t.id=this.colctn.id,this.renColct(t)):3==this.multiForm&&(t.collectionNewName=t.name,t.sourceCollectionId=this.colctn.id,this.duplColct(t))}}duplColct(t){this.collServ.duplColctn(t).subscribe(t=>{t&&(this.toastr.success(t.message||"Collection duplicated successfully","Success!"),this.modalRef.close(!0)),this.modalRef.dismiss(),this.disabled=!1},t=>{this.modalRef.dismiss(),this.disabled=!1})}renColct(t){this.collServ.renColctn(t).subscribe(t=>{t&&(this.toastr.success(t.message||"Collection renamed successfully","Success!"),this.modalRef.close(this.colctnForm.value)),this.modalRef.dismiss(),this.disabled=!1},t=>{this.modalRef.dismiss(),this.disabled=!1})}addColctn(t){this.collServ.addColctn(t,this.type).subscribe(t=>{t&&(this.toastr.success(t.message||"Collection added successfully","Success!"),this.modalRef.close(!0)),this.modalRef.dismiss(),this.disabled=!1},t=>{this.modalRef.dismiss(),this.disabled=!1})}}return t.\u0275fac=function(e){return new(e||t)(n.Nb(i.b),n.Nb(s.d),n.Nb(o.b),n.Nb(r.a))},t.\u0275cmp=n.Hb({type:t,selectors:[["app-coll"]],inputs:{colctn:"colctn",type:"type",cntntData:"cntntData"},decls:17,vars:5,consts:[[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["name","colctnForm",3,"formGroup","ngSubmit"],["ngbAutofocus","",1,"modal-body"],["appearance","outline",1,"w-100"],["matInput","","type","text","placeholder","New Collection Name","formControlName","name","maxlength","100","required",""],[4,"ngIf"],[1,"modal-footer"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"type",4,"ngIf"],[3,"type"]],template:function(t,e){1&t&&(n.Tb(0,"div",0),n.Tb(1,"h4",1),n.Mc(2),n.Sb(),n.Tb(3,"button",2),n.ec("click",(function(){return e.modalRef.dismiss()})),n.Tb(4,"span",3),n.Mc(5,"\xd7"),n.Sb(),n.Sb(),n.Sb(),n.Tb(6,"form",4),n.ec("ngSubmit",(function(){return e.submitColctn()})),n.Tb(7,"div",5),n.Tb(8,"mat-form-field",6),n.Tb(9,"mat-label"),n.Mc(10,"Name"),n.Sb(),n.Ob(11,"input",7),n.Kc(12,p,2,0,"mat-error",8),n.Sb(),n.Sb(),n.Tb(13,"div",9),n.Tb(14,"button",10),n.Kc(15,u,1,1,"app-loader",11),n.Mc(16," Save "),n.Sb(),n.Sb(),n.Sb()),2&t&&(n.Ab(2),n.Oc("",1==e.multiForm?"Add":2==e.multiForm?"Rename":"Duplicate"," Collection"),n.Ab(4),n.pc("formGroup",e.colctnForm),n.Ab(6),n.pc("ngIf",e.colctnForm.get("name").hasError("required")),n.Ab(2),n.pc("disabled",e.colctnForm.invalid||e.disabled),n.Ab(1),n.pc("ngIf",e.disabled))},directives:[s.w,s.n,s.g,c.c,c.g,l.b,s.c,s.m,s.f,s.i,s.t,d.m,c.b,h.a],styles:[""]}),t})()},TNUc:function(t,e,a){"use strict";a.d(e,"a",(function(){return f}));var s=a("s0Cq"),n=a("Q6ig"),i=a("fXoL"),o=a("1kSV"),r=a("5eHb"),c=a("j+Cn"),l=a("ofXK"),d=a("668k");function h(t,e){1&t&&i.Ob(0,"app-loader",8),2&t&&i.pc("type","div")}function p(t,e){1&t&&i.Ob(0,"div")}function u(t,e){if(1&t){const t=i.Ub();i.Tb(0,"div",15),i.Tb(1,"div",16),i.Ob(2,"img",17),i.Sb(),i.Tb(3,"div",18),i.Mc(4),i.Sb(),i.Tb(5,"div",19),i.Tb(6,"button",20),i.ec("click",(function(){i.Bc(t);const a=e.$implicit;return i.ic(2).addCntntToColl(a)})),i.Mc(7,"Add"),i.Sb(),i.Sb(),i.Sb()}if(2&t){const t=e.$implicit,a=i.ic(2);i.Ab(2),i.pc("src",t.pdfImagePath?t.pdfImagePath:a.fldrIcon,i.Dc),i.Ab(2),i.Oc(" ",t.name," ")}}function b(t,e){if(1&t){const t=i.Ub();i.Tb(0,"ul",9),i.Tb(1,"li",10),i.ec("click",(function(){return i.Bc(t),i.ic().addCollThenCntnt()})),i.Tb(2,"div",11),i.Ob(3,"i",12),i.Sb(),i.Tb(4,"div",13),i.Mc(5,"Create a new Collection"),i.Sb(),i.Sb(),i.Kc(6,u,8,2,"div",14),i.Sb()}if(2&t){const t=i.ic();i.Ab(6),i.pc("ngForOf",t.colls)}}let f=(()=>{class t{constructor(t,e,a,n){this.modalRef=t,this.toastr=e,this.collServ=a,this.modalService=n,this.collLoad=!0,this.colls=[],this.fldrIcon=s.f}ngOnInit(){this.listColct()}listColct(){this.collServ.colctnList({pageNo:0}).subscribe(t=>{t&&t.result&&Array.isArray(t.result.results)&&t.result.results.length>0&&(this.colls=t.result.results),this.collLoad=!1},t=>{this.colls=[],this.collLoad=!1})}addCollThenCntnt(){const t=this.modalService.open(n.a,{size:"lg"});t.componentInstance.type="add-content",t.componentInstance.cntntData=this.data.type&&"multi"==this.data.type?this.data.data:this.data,t.result.then(t=>{t&&this.modalRef.dismiss()})}addCntntToColl(t){let e={id:t.id,contents:[],contentPages:[]};if("wrkspc"==this.data.type)e.contents=[this.data.entityId];else if("my-file"==this.data.type)e.contents=[this.data.id];else if("coll-inr"==this.data.type||"view"==this.data.type)this.data.pageNo&&(Array.isArray(this.data.pageNo)&&this.data.pageNo.length>0||!Array.isArray(this.data.pageNo))?e.contentPages=[{pageNumbers:Array.isArray(this.data.pageNo)?[...this.data.pageNo]:[this.data.pageNo],contentId:"view"==this.data.type?this.data.id:this.data.contentId}]:e.contents=["view"==this.data.type?this.data.id:this.data.contentId];else if("multi"==this.data.type)for(let a=0;a<this.data.data.length;a++)this.data.data[a].pageNo?e.contentPages.push({pageNumbers:[this.data.data[a].pageNo],contentId:this.data.data[a].contentId?this.data.data[a].contentId:this.data.data[a].id}):e.contents.push(this.data.data[a].contentId?this.data.data[a].contentId:this.data.data[a].id);this.collLoad=!0,this.collServ.addContentColctn(e).subscribe(e=>{e?(this.toastr.success(e.message||"Added successfully to collection","Success!"),this.modalRef.close(t)):this.modalRef.dismiss(),this.collLoad=!1},t=>{this.modalRef.dismiss(),this.collLoad=!1})}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(o.b),i.Nb(r.b),i.Nb(c.a),i.Nb(o.h))},t.\u0275cmp=i.Hb({type:t,selectors:[["app-add-to-coll"]],inputs:{data:"data"},decls:10,vars:3,consts:[[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["ngbAutofocus","",1,"modal-body"],[3,"type",4,"ngIf"],[4,"ngIf"],["class","list-unstyled",4,"ngIf"],[3,"type"],[1,"list-unstyled"],[1,"d-flex","text-primary","curs-ptr","border-bottom","px-2",3,"click"],[1,"icon","mr-2"],[1,"fas","fa-folder-plus",2,"font-size","40px"],[1,"info","align-self-center"],["id","coll-div","class","d-flex border-bottom p-2 dark-bg-hover",4,"ngFor","ngForOf"],["id","coll-div",1,"d-flex","border-bottom","p-2","dark-bg-hover"],[1,"icon","align-self-center","mr-2"],[2,"max-height","50px","width","40px",3,"src"],[1,"name","align-self-center"],[1,"hover-coll","ml-auto","mr-3"],[1,"btn","btn-primary","btn-sm",3,"click"]],template:function(t,e){1&t&&(i.Tb(0,"div",0),i.Tb(1,"h4",1),i.Mc(2,"Add to Collection"),i.Sb(),i.Tb(3,"button",2),i.ec("click",(function(){return e.modalRef.dismiss("Cross click")})),i.Tb(4,"span",3),i.Mc(5,"\xd7"),i.Sb(),i.Sb(),i.Sb(),i.Tb(6,"div",4),i.Kc(7,h,1,1,"app-loader",5),i.Kc(8,p,1,0,"div",6),i.Kc(9,b,7,1,"ul",7),i.Sb()),2&t&&(i.Ab(7),i.pc("ngIf",e.collLoad),i.Ab(1),i.pc("ngIf",!e.collLoad),i.Ab(1),i.pc("ngIf",!e.collLoad))},directives:[l.m,d.a,l.l],styles:[".hover-coll[_ngcontent-%COMP%]{opacity:0}#coll-div[_ngcontent-%COMP%]:hover   .hover-coll[_ngcontent-%COMP%]{opacity:1}"]}),t})()},c2Mc:function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));var s=a("s0Cq");class n{static formatBytes(t,e){if(0===t)return"0 Bytes";const a=e<=0?0:e||2,s=Math.floor(Math.log(t)/Math.log(1024));return parseFloat((t/Math.pow(1024,s)).toFixed(a))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][s]}static getImg(t,e=""){if(t){if(t.folderIconPath)return t.folderIconPath;if(t.imagePath)return t.imagePath;if(t.pdfImagePath)return t.pdfImagePath;if(t.urlIconPath)return t.urlIconPath;if(2===t.contentType&&t.contentPath)return t.contentPath;if(t.pdfImage)return t.pdfImage;if(Array.isArray(t.pdfImages)&&t.pdfImages.length>0&&t.pdfImages[0].imagePath)return t.pdfImages[0].imagePath}return"icon"==e?s.b:"fldr"==e?s.f:s.c}static bytestoOther(t,e){let a=0;switch(e){case"kb":a=1;break;case"mb":a=2;break;case"gb":a=3}return parseFloat((t/Math.pow(1024,a)).toFixed(2))}}},"j+Cn":function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));var s=a("tk/3"),n=a("lJxs"),i=a("aZQB"),o=a("fXoL");let r=(()=>{class t{constructor(t){this.http=t}addColctn(t,e){return this.http.post(""+("add-content"==e?i.a.ADD_COLCT_THEN_CNTNT:i.a.ADD_COLCT),t)}renColctn(t){return this.http.put(""+i.a.REN_COLCT,t)}duplColctn(t){return this.http.patch(""+i.a.DUPL_COLCT,t)}colctnList(t){let e=new s.e;for(let a in t)(t[a]||"pageNo"==a)&&(e=e.set(a,t[a]));return this.http.get(""+i.a.LIST_COLCT,{params:e}).pipe(Object(n.a)(t=>t))}addContentColctn(t){return this.http.post(""+i.a.ADD_CONTENT_COLCT,t)}}return t.\u0275fac=function(e){return new(e||t)(o.bc(s.b))},t.\u0275prov=o.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);