(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{Amnm:function(t,e,i){"use strict";i.d(e,"a",(function(){return u}));var n=i("ofXK"),r=i("3Pt+"),s=i("kmnG"),o=i("qFsG"),c=i("bSwM"),l=i("A5z7"),a=i("CzEO"),d=i("T/Ok"),b=i("liE0"),h=i("zJym"),m=i("CFzk"),p=i("fXoL");let u=(()=>{class t{}return t.\u0275mod=p.Lb({type:t}),t.\u0275inj=p.Kb({factory:function(e){return new(e||t)},providers:[d.a,b.a,m.a],imports:[[n.c,r.h,r.s,s.e,o.c,c.b,l.e,h.a,a.b.forRoot()]]}),t})()},"E/a4":function(t,e,i){"use strict";i.d(e,"a",(function(){return M}));var n=i("vLcq"),r=i("s0Cq"),s=i("3Pt+"),o=i("c2Mc"),c=i("fXoL"),l=i("1kSV"),a=i("CFzk"),d=i("5eHb"),b=i("liE0"),h=i("ofXK"),m=i("kmnG"),p=i("qFsG"),u=i("bSwM"),f=i("668k");function g(t,e){1&t&&(c.Tb(0,"mat-error"),c.Mc(1," Name is required "),c.Sb())}function v(t,e){1&t&&c.Ob(0,"app-loader",28),2&t&&c.pc("type","div")}function S(t,e){if(1&t&&(c.Tb(0,"div",39),c.Mc(1),c.Sb()),2&t){const t=c.ic().$implicit;c.Ab(1),c.Oc("Page ",t.pageNo,"")}}function A(t,e){if(1&t){const t=c.Ub();c.Tb(0,"div",31),c.Tb(1,"div",32),c.Ob(2,"img",33),c.Sb(),c.Tb(3,"div",34),c.Tb(4,"div",35),c.Mc(5),c.Sb(),c.Kc(6,S,2,1,"div",36),c.Sb(),c.Tb(7,"div",37),c.Tb(8,"i",38),c.ec("click",(function(){c.Bc(t);const i=e.$implicit;return c.ic(3).removeMe(i)})),c.Sb(),c.Sb(),c.Sb()}if(2&t){const t=e.$implicit,i=c.ic(3);c.Ab(2),c.pc("src",i.getImg(t),c.Dc),c.Ab(3),c.Nc(t.name),c.Ab(1),c.pc("ngIf",t.pageNo)}}function y(t,e){if(1&t&&(c.Tb(0,"div",29),c.Kc(1,A,9,3,"div",30),c.Sb()),2&t){const t=c.ic(2);c.Ab(1),c.pc("ngForOf",t.viewSel)}}function w(t,e){if(1&t){const t=c.Ub();c.Rb(0),c.Tb(1,"mat-form-field",12),c.Tb(2,"mat-label"),c.Mc(3,"Name"),c.Sb(),c.Ob(4,"input",13),c.Kc(5,g,2,0,"mat-error",14),c.Sb(),c.Tb(6,"mat-checkbox",15),c.Mc(7,"Allow downloads"),c.Sb(),c.Tb(8,"div",16),c.Tb(9,"div",17),c.Mc(10,"Resources"),c.Sb(),c.Sb(),c.Tb(11,"div",18),c.Tb(12,"div",19),c.Tb(13,"div",20),c.Tb(14,"mat-form-field",21),c.Ob(15,"i",22),c.Ob(16,"input",23),c.Sb(),c.Sb(),c.Tb(17,"div",24),c.Tb(18,"div",25),c.ec("click",(function(){return c.Bc(t),c.ic().openRsrcModal()})),c.Ob(19,"i",26),c.Mc(20,"Add resource "),c.Sb(),c.Sb(),c.Sb(),c.Kc(21,v,1,1,"app-loader",10),c.Kc(22,y,2,1,"div",27),c.Sb(),c.Qb()}if(2&t){const t=c.ic();c.Ab(5),c.pc("ngIf",t.linkForm.get("name").hasError("required")),c.Ab(9),c.pc("floatLabel","never"),c.Ab(7),c.pc("ngIf",t.loading),c.Ab(1),c.pc("ngIf",!t.loading)}}function k(t,e){if(1&t){const t=c.Ub();c.Tb(0,"div",40),c.Ob(1,"input",41,42),c.Tb(3,"div",43),c.ec("click",(function(){c.Bc(t);const e=c.xc(2);return c.ic().copyLink(e)})),c.Mc(4,"Copy Link"),c.Sb(),c.Sb()}if(2&t){const t=c.ic();c.Ab(1),c.qc("value",t.link)}}function C(t,e){1&t&&c.Ob(0,"app-loader",28),2&t&&c.pc("type","btn")}function T(t,e){if(1&t){const t=c.Ub();c.Tb(0,"button",44),c.ec("click",(function(){return c.Bc(t),c.ic().modalRef.dismiss()})),c.Mc(1,"Done"),c.Sb()}}let M=(()=>{class t{constructor(t,e,i,n,s,o){this.modalRef=t,this.modalService=e,this.colctnSrv=i,this.toastr=n,this.fb=s,this.shareSrv=o,this.defImg=r.b,this.copyLink=t=>{t.select(),t.setSelectionRange(0,99999),document.execCommand("copy"),this.toastr.success("Link copied","Copied!")}}ngOnInit(){this.initialiseState()}initialiseState(){if(this.viewSel=[],this.viewMe=!0,this.link="",this.disabled=!1,this.loading=!0,this.viewSel=[],this.linkForm=this.fb.group({name:["abc",[s.u.required]]}),this.data)if("collection"===this.type)this.getCntntByClctn(this.data.id);else if("content"===this.type)this.loading=!1,this.viewSel=Array.isArray(this.data)?[...this.data]:[this.data];else if("multi-collection"===this.type)for(let t=0;t<this.data.length;t++)this.getCntntByClctn(this.data[t]);this.linkForm=this.fb.group({name:["",[s.u.required]],allowDownload:[!0]})}getImg(t){return o.a.getImg(t,"icon")}openRsrcModal(){this.modalService.open(n.a,{size:"lg"}).result.then(t=>{t&&this.viewSel.push(...t)})}removeMe(t){this.viewSel=this.viewSel.filter(e=>t.contentId&&t.contentId==e.contentId?t.pageNo||e.pageNo?e.pageNo!==t.pageNo:e.contentId!==t.contentId:!t.id||t.id!=e.id||(t.pageNo||e.pageNo?e.pageNo!==t.pageNo:e.id!==t.id))}getCntntByClctn(t){this.colctnSrv.getContentColctn(t).subscribe(t=>{t&&t.result&&Array.isArray(t.result)?this.viewSel.push(...t.result):(this.toastr.error(t.message||"Something went wrong","Error!"),this.modalRef.dismiss()),this.loading=!1},t=>{this.loading=!1,this.modalRef.dismiss()})}rsrcBtn(t){"done"==t?this.getContentLink():"change"==t&&this.removeLink()}getContentLink(){this.disabled=!0;let t=Object.assign(Object.assign({},this.linkForm.value),{shareContents:[]});for(let e=0;e<this.viewSel.length;e++)t.shareContents.push({contentId:this.viewSel[e].contentId?this.viewSel[e].contentId:this.viewSel[e].id,pageNumber:this.viewSel[e].pageNo||0});this.shareSrv.addShare(t).subscribe(t=>{t&&t.result?(this.link=t.result,this.viewMe=!1):(this.toastr.error(t.message||"Something went wrong","Error!"),this.viewMe=!0),this.disabled=!1},t=>{this.viewMe=!0,this.disabled=!1})}removeLink(){this.disabled=!0;let t=this.link.split("/")[this.link.split("/").length-1];this.shareSrv.delLink(t).subscribe(t=>{t?(this.link="",this.viewMe=!0):this.toastr.error(t.message||"Something went wrong","Error!"),this.disabled=!1},t=>{this.link="",this.disabled=!1})}}return t.\u0275fac=function(e){return new(e||t)(c.Nb(l.b),c.Nb(l.h),c.Nb(a.a),c.Nb(d.b),c.Nb(s.d),c.Nb(b.a))},t.\u0275cmp=c.Hb({type:t,selectors:[["app-get-link"]],inputs:{type:"type",data:"data"},decls:16,vars:10,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["name","linkForm",3,"formGroup"],["ngbAutofocus","",1,"modal-body"],[4,"ngIf","ngIfElse"],["elseNotMe",""],[1,"modal-footer"],["type","button",3,"disabled","click"],[3,"type",4,"ngIf"],["type","button","class","btn btn-primary",3,"click",4,"ngIf"],["appearance","outline",1,"w-100"],["type","text","matInput","","placeholder","Name","formControlName","name","required",""],[4,"ngIf"],["formControlName","allowDownload",1,"ml-3"],[1,"bg-hi-grey","p-2","rounded","d-flex","mt-3"],[1,"ml-3","align-self-center"],[1,"rounded","border","m-2","p-2"],[1,"row","mt-2"],[1,"col-8"],["appearance","outline",1,"custom-mat-input","w-100","mb-2",3,"floatLabel"],["matPrefix","",1,"fas","fa-search"],["matInput","","placeholder","Search Content"],[1,"col-4"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-file-medical","mr-1"],["class","view-selected",4,"ngIf"],[3,"type"],[1,"view-selected"],["class","d-flex bg-hi-grey border rounded px-3 py-1 my-2",4,"ngFor","ngForOf"],[1,"d-flex","bg-hi-grey","border","rounded","px-3","py-1","my-2"],[1,"align-self-center"],[3,"src"],[1,"ml-2","align-self-center","w-75"],[1,"text-truncate"],["class","text-secondary",4,"ngIf"],[1,"ml-auto","align-self-center"],[1,"fas","fa-trash-alt","curs-ptr",3,"click"],[1,"text-secondary"],[1,"d-flex","px-4","py-3"],["type","text","readonly","",1,"w-75",3,"value"],["copyMe",""],[1,"btn","btn-primary","ml-auto",3,"click"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(t,e){if(1&t&&(c.Tb(0,"div",0),c.Tb(1,"h4",1),c.Mc(2,"Get a Link"),c.Sb(),c.Tb(3,"button",2),c.ec("click",(function(){return e.modalRef.dismiss("Cross click")})),c.Tb(4,"span",3),c.Mc(5,"\xd7"),c.Sb(),c.Sb(),c.Sb(),c.Tb(6,"form",4),c.Tb(7,"div",5),c.Kc(8,w,23,4,"ng-container",6),c.Kc(9,k,5,1,"ng-template",null,7,c.Lc),c.Sb(),c.Tb(11,"div",8),c.Tb(12,"button",9),c.ec("click",(function(){return e.rsrcBtn(e.viewMe?"done":"change")})),c.Kc(13,C,1,1,"app-loader",10),c.Mc(14),c.Sb(),c.Kc(15,T,2,0,"button",11),c.Sb(),c.Sb()),2&t){const t=c.xc(10);c.Ab(6),c.pc("formGroup",e.linkForm),c.Ab(2),c.pc("ngIf",e.viewMe)("ngIfElse",t),c.Ab(4),c.Db("btn btn-",e.viewMe?"primary":"secondary",""),c.pc("disabled",e.linkForm.invalid||e.disabled||0==e.viewSel.length),c.Ab(1),c.pc("ngIf",e.disabled),c.Ab(1),c.Oc(" ",e.viewMe?"Next":"Back"," "),c.Ab(1),c.pc("ngIf",!e.viewMe)}},directives:[s.w,s.n,s.g,h.m,m.c,m.g,p.b,s.c,s.m,s.f,s.t,u.a,m.h,m.b,f.a,h.l],styles:[".view-selected[_ngcontent-%COMP%]   .bg-hi-grey[_ngcontent-%COMP%]{min-height:3.45rem}.view-selected[_ngcontent-%COMP%]   .bg-hi-grey[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:2rem;max-height:3rem}.view-selected[_ngcontent-%COMP%]   .bg-hi-grey[_ngcontent-%COMP%]   .text-secondary[_ngcontent-%COMP%]{font-size:12px}"]}),t})()},FGg4:function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));var n=i("tk/3"),r=i("lJxs"),s=i("aZQB"),o=i("fXoL");let c=(()=>{class t{constructor(t){this.http=t}freezeFormObj(t){const e=new FormData;for(let i in t)if(t[i]||"IsUrl"===i)if("mulFile"===i){if(t[i]&&t[i].length>0)for(let n=0;n<t[i].length;n++)e.append("Contents",t[i][n],t[i][n].name)}else e.append(i,t[i]);return e}myFiles(t){let e=new n.e;for(let i in t)t[i]&&(e=e.set(i,t[i]));return this.http.get(""+s.a.MY_FILES,{params:e}).pipe(Object(r.a)(t=>t))}addFldr(t){return this.http.post(""+s.a.ADD_FLDR_EMPL,t)}updFldr(t){return this.http.post(""+s.a.UPD_FLDR_EMPL,t)}addMyCntnt(t){return this.http.post(""+s.a.ADD_CNTNT_EMPL,this.freezeFormObj(t))}procesMyData(){return this.http.get(""+s.a.PROC_CNTNT_EMPL)}delMyCntnt(t){return this.http.post(""+s.a.DEL_MY_CNTNT,t)}relocMyFiles(t){return this.http.post(""+s.a.RELOC_MY_CNTNT,t)}}return t.\u0275fac=function(e){return new(e||t)(o.bc(n.b))},t.\u0275prov=o.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},IpHC:function(t,e,i){"use strict";i.d(e,"a",(function(){return b}));var n=i("3Pt+"),r=i("ofXK"),s=i("kmnG"),o=i("qFsG"),c=i("bSwM"),l=i("CFzk"),a=i("zJym"),d=i("fXoL");let b=(()=>{class t{}return t.\u0275mod=d.Lb({type:t}),t.\u0275inj=d.Kb({factory:function(e){return new(e||t)},providers:[l.a],imports:[[r.c,s.e,o.c,c.b,a.a,n.h,n.s]]}),t})()},"OQ+D":function(t,e,i){"use strict";i.d(e,"a",(function(){return D}));var n=i("3Pt+"),r=i("FtGj"),s=i("vLcq"),o=i("s0Cq"),c=i("NpNY"),l=i("c2Mc"),a=i("uYcE"),d=i("fXoL"),b=i("1kSV"),h=i("T/Ok"),m=i("5eHb"),p=i("liE0"),u=i("CFzk"),f=i("kmnG"),g=i("A5z7"),v=i("ofXK"),S=i("qFsG"),A=i("CzEO"),y=i("bSwM"),w=i("668k");function k(t,e){if(1&t){const t=d.Ub();d.Tb(0,"mat-chip",32),d.ec("removed",(function(){d.Bc(t);const i=e.$implicit;return d.ic().removeChip(i)})),d.Mc(1),d.Ob(2,"i",33),d.Sb()}if(2&t){const t=e.$implicit;d.Ab(1),d.Oc(" ",t," ")}}function C(t,e){1&t&&(d.Tb(0,"mat-error"),d.Mc(1," Email Address is required "),d.Sb())}function T(t,e){1&t&&(d.Tb(0,"mat-error"),d.Mc(1," Please enter a valid email address "),d.Sb())}function M(t,e){1&t&&(d.Tb(0,"mat-error"),d.Mc(1," Subject is required "),d.Sb())}function I(t,e){1&t&&d.Ob(0,"app-loader",34),2&t&&d.pc("type","btn")}function O(t,e){if(1&t){const t=d.Ub();d.Tb(0,"div",35),d.Tb(1,"div",36),d.Tb(2,"mat-form-field",37),d.Ob(3,"i",38),d.Ob(4,"input",39),d.Sb(),d.Sb(),d.Tb(5,"div",40),d.Tb(6,"div",41),d.ec("click",(function(){return d.Bc(t),d.ic().openRsrcModal()})),d.Ob(7,"i",42),d.Mc(8,"Add resource "),d.Sb(),d.Sb(),d.Sb()}2&t&&(d.Ab(2),d.pc("floatLabel","never"))}function F(t,e){1&t&&d.Ob(0,"app-loader",34),2&t&&d.pc("type","div")}function L(t,e){if(1&t&&(d.Tb(0,"div",52),d.Mc(1),d.Sb()),2&t){const t=d.ic().$implicit;d.Ab(1),d.Oc("Page ",t.pageNo,"")}}function N(t,e){if(1&t){const t=d.Ub();d.Tb(0,"div",53),d.Tb(1,"i",54),d.ec("click",(function(){d.Bc(t);const e=d.ic().$implicit;return d.ic(2).removeMe(e)})),d.Sb(),d.Sb()}}function x(t,e){if(1&t&&(d.Tb(0,"div",45),d.Tb(1,"div",46),d.Ob(2,"img",47),d.Sb(),d.Tb(3,"div",48),d.Tb(4,"div",49),d.Mc(5),d.Sb(),d.Kc(6,L,2,1,"div",50),d.Sb(),d.Kc(7,N,2,0,"div",51),d.Sb()),2&t){const t=e.$implicit,i=d.ic(2);d.Ab(2),d.pc("src",i.getImg(t),d.Dc),d.Ab(3),d.Nc(t.name),d.Ab(1),d.pc("ngIf",t.pageNo),d.Ab(1),d.pc("ngIf",i.viewMe)}}function E(t,e){if(1&t&&(d.Tb(0,"div",43),d.Kc(1,x,8,4,"div",44),d.Sb()),2&t){const t=d.ic();d.Ab(1),d.pc("ngForOf",t.viewSel)}}function P(t,e){1&t&&(d.Tb(0,"mat-error",55),d.Mc(1," Message is required "),d.Sb())}function K(t,e){1&t&&d.Ob(0,"app-loader",34),2&t&&d.pc("type","btn")}let D=(()=>{class t{constructor(t,e,i,n,s,c,l){this.modalRef=t,this.fb=e,this.mailSrv=i,this.toastr=n,this.modalService=s,this.shareSrv=c,this.colctnSrv=l,this.defImg=o.b,this.separatorKeysCodes=[r.g,r.c],this.quillConfig=a.a}ngOnInit(){this.initialiseState()}initialiseState(){if(this.emailForm=this.fb.group({emailAddresses:["",[n.u.required,c.a.emailValidator]],title:["",[n.u.required]],body:["",[n.u.required]],sendMeCopy:[!1],allowDownload:[!0]}),this.disabled=!1,this.linkDisabled=!1,this.emailAddresses=[],this.viewMe=!0,this.link=void 0,this.viewSel=[],this.loading=!0,"collection"===this.type)this.getCntntByClctn(this.data.id);else if("content"===this.type)this.loading=!1,this.viewSel=Array.isArray(this.data)?[...this.data]:[this.data];else if("multi-collection"===this.type)for(let t=0;t<this.data.length;t++)this.getCntntByClctn(this.data[t])}getImg(t){return l.a.getImg(t,"icon")}openRsrcModal(){this.modalService.open(s.a,{size:"lg"}).result.then(t=>{t&&this.viewSel.push(...t)})}removeMe(t){this.viewSel=this.viewSel.filter(e=>t.contentId&&t.contentId==e.contentId?t.pageNo||e.pageNo?e.pageNo!==t.pageNo:e.contentId!==t.contentId:!t.id||t.id!=e.id||(t.pageNo||e.pageNo?e.pageNo!==t.pageNo:e.id!==t.id))}sendMail(){if(this.emailForm.valid){this.disabled=!0;let t=Object.assign(Object.assign({},this.emailForm.value),{sendMeCopy:this.emailForm.get("sendMeCopy").value,emailAddresses:this.emailAddresses});t.body+=`\n      <br />\n      <br />\n      Attached Link: <a href="${this.link.link}">${this.link.name}</a>\n      `,this.mailSrv.sendMail(t).subscribe(t=>{t&&t.result?this.toastr.success(t.result||"Email sent successfully","Success!"):this.toastr.error(t.result||"Email not sent","Error!"),this.disabled=!1,this.modalRef.dismiss()},t=>{this.disabled=!1,this.modalRef.dismiss()})}}addChips(t){const e=t.input,i=t.value;(i||"").trim()&&!this.emailForm.get("emailAddresses").hasError("invalidEmail")&&this.emailAddresses.push(i.trim()),e&&!this.emailForm.get("emailAddresses").hasError("invalidEmail")&&(e.value="")}removeChip(t){const e=this.emailAddresses.indexOf(t);e>=0&&this.emailAddresses.splice(e,1)}getContentLink(){let t={allowDownload:this.emailForm.get("allowDownload").value,shareContents:[]};for(let e=0;e<this.viewSel.length;e++)t.shareContents.push({contentId:this.viewSel[e].contentId?this.viewSel[e].contentId:this.viewSel[e].id,pageNumber:this.viewSel[e].pageNo||0});this.shareSrv.addShare(t).subscribe(t=>{t&&t.result?this.link={name:this.data.name,link:t.result}:(this.toastr.error(t.message||"Something went wrong","Error!"),this.viewMe=!0),this.linkDisabled=!1},t=>{this.viewMe=!0,this.linkDisabled=!1})}removeLink(){let t=this.link.link.split("/")[this.link.link.split("/").length-1];this.shareSrv.delLink(t).subscribe(t=>{t?this.link=void 0:this.toastr.error(t.message||"Something went wrong","Error!")},t=>{this.link=void 0})}rsrcBtn(t){"done"==t?(this.viewMe=!1,this.linkDisabled=!0,this.getContentLink()):"change"==t&&(this.removeLink(),this.viewMe=!0)}getCntntByClctn(t){this.colctnSrv.getContentColctn(t).subscribe(t=>{t&&t.result&&Array.isArray(t.result)?this.viewSel.push(...t.result):(this.toastr.error(t.message||"Something went wrong","Error!"),this.modalRef.dismiss()),this.loading=!1},t=>{this.loading=!1,this.modalRef.dismiss()})}}return t.\u0275fac=function(e){return new(e||t)(d.Nb(b.b),d.Nb(n.d),d.Nb(h.a),d.Nb(m.b),d.Nb(b.h),d.Nb(p.a),d.Nb(u.a))},t.\u0275cmp=d.Hb({type:t,selectors:[["app-share-mail"]],inputs:{type:"type",data:"data"},decls:52,vars:18,consts:[[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["name","emailForm",3,"formGroup","ngSubmit"],["ngbAutofocus","",1,"modal-body"],[1,"row"],[1,"col-9","border-right"],["appearance","outline",1,"w-100"],["aria-label","Email addresses","formControlName","emailAddresses"],["emailList",""],["selectable","","removable","",3,"removed",4,"ngFor","ngForOf"],["placeholder","Add Email Addresses (Separate by comma or enter)","matChipInputAddOnBlur","","formControlName","emailAddresses",3,"matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputTokenEnd"],[4,"ngIf"],["matInput","","type","text","placeholder","Subject","formControlName","title","required",""],[1,"bg-hi-grey","p-2","rounded","d-flex"],[1,"ml-3","align-self-center"],[1,"ml-auto"],["type","button",1,"btn","btn-primary","btn-sm",3,"disabled","click"],[3,"type",4,"ngIf"],[1,"rounded","border","m-2","p-2"],["class","row mt-2",4,"ngIf"],["class","view-selected",4,"ngIf"],["appearance","outline",1,"w-100","quill-editor-container","mt-3",3,"floatLabel"],["matInput","",1,"d-none"],["placeholder","Message","formControlName","body",1,"quill-edt",3,"modules"],["class","ml-0-9 mb-0",4,"ngIf"],[1,"col-3"],["formControlName","allowDownload",1,"ml-2"],["formControlName","sendMeCopy",1,"ml-2"],[1,"modal-footer"],["type","submit",1,"btn","btn-primary",3,"disabled"],["selectable","","removable","",3,"removed"],["matChipRemove","",1,"fa","fa-times"],[3,"type"],[1,"row","mt-2"],[1,"col-8"],["appearance","outline",1,"custom-mat-input","w-100","mb-2",3,"floatLabel"],["matPrefix","",1,"fas","fa-search"],["matInput","","placeholder","Search Content"],[1,"col-4"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-file-medical","mr-1"],[1,"view-selected"],["class","d-flex bg-hi-grey border rounded px-3 py-1 my-2",4,"ngFor","ngForOf"],[1,"d-flex","bg-hi-grey","border","rounded","px-3","py-1","my-2"],[1,"align-self-center"],[3,"src"],[1,"ml-2","align-self-center","w-75"],[1,"text-truncate"],["class","text-secondary",4,"ngIf"],["class","ml-auto align-self-center",4,"ngIf"],[1,"text-secondary"],[1,"ml-auto","align-self-center"],[1,"fas","fa-trash-alt","curs-ptr",3,"click"],[1,"ml-0-9","mb-0"]],template:function(t,e){if(1&t&&(d.Tb(0,"div",0),d.Tb(1,"h4",1),d.Mc(2,"Email"),d.Sb(),d.Tb(3,"button",2),d.ec("click",(function(){return e.modalRef.dismiss("Cross click")})),d.Tb(4,"span",3),d.Mc(5,"\xd7"),d.Sb(),d.Sb(),d.Sb(),d.Tb(6,"form",4),d.ec("ngSubmit",(function(){return e.sendMail()})),d.Tb(7,"div",5),d.Tb(8,"div",6),d.Tb(9,"div",7),d.Tb(10,"mat-form-field",8),d.Tb(11,"mat-label"),d.Mc(12,"To"),d.Sb(),d.Tb(13,"mat-chip-list",9,10),d.Kc(15,k,3,1,"mat-chip",11),d.Tb(16,"input",12),d.ec("matChipInputTokenEnd",(function(t){return e.addChips(t)})),d.Sb(),d.Sb(),d.Kc(17,C,2,0,"mat-error",13),d.Kc(18,T,2,0,"mat-error",13),d.Sb(),d.Tb(19,"mat-form-field",8),d.Tb(20,"mat-label"),d.Mc(21,"Subject"),d.Sb(),d.Ob(22,"input",14),d.Kc(23,M,2,0,"mat-error",13),d.Sb(),d.Tb(24,"div",15),d.Tb(25,"div",16),d.Mc(26,"Resources"),d.Sb(),d.Tb(27,"div",17),d.Tb(28,"button",18),d.ec("click",(function(){return e.rsrcBtn(e.viewMe?"done":"change")})),d.Kc(29,I,1,1,"app-loader",19),d.Mc(30),d.Sb(),d.Sb(),d.Sb(),d.Tb(31,"div",20),d.Kc(32,O,9,1,"div",21),d.Kc(33,F,1,1,"app-loader",19),d.Kc(34,E,2,1,"div",22),d.Sb(),d.Tb(35,"mat-form-field",23),d.Tb(36,"mat-label"),d.Mc(37,"Message"),d.Sb(),d.Ob(38,"input",24),d.Ob(39,"quill-editor",25),d.Sb(),d.Kc(40,P,2,0,"mat-error",26),d.Sb(),d.Tb(41,"div",27),d.Tb(42,"h5"),d.Mc(43,"Sharing Settings"),d.Sb(),d.Tb(44,"mat-checkbox",28),d.Mc(45,"Allow downloads"),d.Sb(),d.Tb(46,"mat-checkbox",29),d.Mc(47,"Send me a copy"),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Tb(48,"div",30),d.Tb(49,"button",31),d.Kc(50,K,1,1,"app-loader",19),d.Mc(51," Send "),d.Sb(),d.Sb(),d.Sb()),2&t){const t=d.xc(14);d.Ab(6),d.pc("formGroup",e.emailForm),d.Ab(9),d.pc("ngForOf",e.emailAddresses),d.Ab(1),d.pc("matChipInputFor",t)("matChipInputSeparatorKeyCodes",e.separatorKeysCodes),d.Ab(1),d.pc("ngIf",e.emailForm.get("emailAddresses").hasError("required")),d.Ab(1),d.pc("ngIf",!e.emailForm.get("emailAddresses").hasError("required")&&e.emailForm.get("emailAddresses").hasError("invalidEmail")),d.Ab(5),d.pc("ngIf",e.emailForm.get("title").hasError("required")),d.Ab(5),d.pc("disabled",e.linkDisabled||e.disabled||e.loading),d.Ab(1),d.pc("ngIf",e.linkDisabled),d.Ab(1),d.Oc(" ",e.viewMe||e.linkDisabled?"Done":"Change Resources"," "),d.Ab(2),d.pc("ngIf",e.viewMe),d.Ab(1),d.pc("ngIf",e.loading),d.Ab(1),d.pc("ngIf",!e.loading),d.Ab(1),d.pc("floatLabel","always"),d.Ab(4),d.pc("modules",e.quillConfig),d.Ab(1),d.pc("ngIf",(e.emailForm.get("body").touched||e.emailForm.get("body").dirty)&&e.emailForm.get("body").hasError("required")),d.Ab(9),d.pc("disabled",e.emailForm.invalid||e.disabled||e.viewMe||0==e.viewSel.length),d.Ab(1),d.pc("ngIf",e.disabled)}},directives:[n.w,n.n,n.g,f.c,f.g,g.c,n.m,n.f,v.l,n.c,g.b,v.m,S.b,n.t,A.a,y.a,g.a,g.d,f.b,w.a,f.h],styles:[".view-selected[_ngcontent-%COMP%]   .bg-hi-grey[_ngcontent-%COMP%]{min-height:3.45rem}.view-selected[_ngcontent-%COMP%]   .bg-hi-grey[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:2rem;max-height:3rem}.view-selected[_ngcontent-%COMP%]   .bg-hi-grey[_ngcontent-%COMP%]   .text-secondary[_ngcontent-%COMP%]{font-size:12px}"]}),t})()},"P/0q":function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));var n=i("tk/3"),r=i("lJxs"),s=i("aZQB"),o=i("fXoL");let c=(()=>{class t{constructor(t){this.http=t}wrkspcListEmp(){return this.http.get(""+s.a.GET_WRKSPC_EMP).pipe(Object(r.a)(t=>t))}getAllDataWrkspc(t){let e=new n.e;for(let i in t)t[i]&&(e=e.set(i,t[i]));return this.http.get(""+s.a.GET_DATA_WRKSPC_EMP,{params:e}).pipe(Object(r.a)(t=>t))}}return t.\u0275fac=function(e){return new(e||t)(o.bc(n.b))},t.\u0275prov=o.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"T/Ok":function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var n=i("aZQB"),r=i("fXoL"),s=i("tk/3");let o=(()=>{class t{constructor(t){this.http=t}sendMail(t){return this.http.post(""+n.a.SEND_MAIL,t)}}return t.\u0275fac=function(e){return new(e||t)(r.bc(s.b))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},liE0:function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var n=i("aZQB"),r=i("fXoL"),s=i("tk/3");let o=(()=>{class t{constructor(t){this.http=t}addShare(t){return this.http.post(""+n.a.ADD_SHARE,t)}delLink(t){return this.http.post(`${n.a.DEL_SHARE}?identifier=${t}`,{})}}return t.\u0275fac=function(e){return new(e||t)(r.bc(s.b))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},uYcE:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));const n={toolbar:{container:[["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}]]}}},vLcq:function(t,e,i){"use strict";i.d(e,"a",(function(){return F}));var n=i("s0Cq"),r=i("fXoL"),s=i("1kSV"),o=i("P/0q"),c=i("FGg4"),l=i("CFzk"),a=i("OraM"),d=i("kmnG"),b=i("qFsG"),h=i("ofXK"),m=i("668k"),p=i("bSwM");function u(t,e){if(1&t){const t=r.Ub();r.Tb(0,"li",20),r.ec("click",(function(){return r.Bc(t),r.ic(2).backNav()})),r.Ob(1,"i",21),r.Sb()}}function f(t,e){if(1&t&&(r.Tb(0,"li",22),r.Mc(1),r.Sb()),2&t){const t=e.$implicit;r.Ab(1),r.Nc(t.name)}}function g(t,e){if(1&t&&(r.Tb(0,"nav",15),r.Tb(1,"ol",16),r.Kc(2,u,2,0,"li",17),r.Kc(3,f,2,1,"li",18),r.Sb(),r.Ob(4,"hr",19),r.Sb()),2&t){const t=r.ic();r.Ab(2),r.pc("ngIf",t.contentNav.length>0),r.Ab(1),r.pc("ngForOf",t.contentNav)}}function v(t,e){1&t&&(r.Rb(0),r.Ob(1,"app-loader",23),r.Qb()),2&t&&(r.Ab(1),r.pc("type","div"))}function S(t,e){if(1&t){const t=r.Ub();r.Tb(0,"div",27),r.ec("click",(function(){r.Bc(t);const i=e.$implicit;return r.ic(3).showWorkspcFldrs(i)})),r.Tb(1,"div",33),r.Ob(2,"img",34),r.Sb(),r.Tb(3,"div",30),r.Mc(4),r.Sb(),r.Tb(5,"div",31),r.Ob(6,"i",32),r.Sb(),r.Sb()}if(2&t){const t=e.$implicit,i=r.ic(3);r.Ab(2),r.qc("src",i.fldrIcon,r.Dc),r.Ab(2),r.Oc(" ",t.name," ")}}function A(t,e){if(1&t){const t=r.Ub();r.Tb(0,"div",27),r.ec("click",(function(){r.Bc(t);const i=e.$implicit;return r.ic(3).getCntntColl(i)})),r.Tb(1,"div",33),r.Ob(2,"img",34),r.Sb(),r.Tb(3,"div",30),r.Mc(4),r.Sb(),r.Tb(5,"div",31),r.Ob(6,"i",32),r.Sb(),r.Sb()}if(2&t){const t=e.$implicit,i=r.ic(3);r.Ab(2),r.qc("src",t.pdfImagePath?t.pdfImagePath:i.fldrIcon,r.Dc),r.Ab(2),r.Nc(t.name)}}function y(t,e){if(1&t){const t=r.Ub();r.Tb(0,"div"),r.Tb(1,"div",25),r.Mc(2,"Workspaces"),r.Sb(),r.Kc(3,S,7,2,"div",26),r.Tb(4,"div",25),r.Mc(5,"My Files"),r.Sb(),r.Tb(6,"div",27),r.ec("click",(function(){return r.Bc(t),r.ic(2).showMyFiles()})),r.Tb(7,"div",28),r.Ob(8,"i",29),r.Sb(),r.Tb(9,"div",30),r.Mc(10," My Files "),r.Sb(),r.Tb(11,"div",31),r.Ob(12,"i",32),r.Sb(),r.Sb(),r.Tb(13,"div",25),r.Mc(14,"Collections"),r.Sb(),r.Kc(15,A,7,2,"div",26),r.Sb()}if(2&t){const t=r.ic(2);r.Ab(3),r.pc("ngForOf",t.workspcArr),r.Ab(12),r.pc("ngForOf",t.colctnArr)}}function w(t,e){if(1&t){const t=r.Ub();r.Tb(0,"div",27),r.ec("click",(function(){r.Bc(t);const i=e.$implicit,n=r.ic(4);return!1===n.showAll?n.showWorkspcFldrs(void 0,i):n.showMyFiles(i)})),r.Tb(1,"div",33),r.Ob(2,"img",34),r.Sb(),r.Tb(3,"div",30),r.Mc(4),r.Sb(),r.Tb(5,"div",31),r.Ob(6,"i",32),r.Sb(),r.Sb()}if(2&t){const t=e.$implicit,i=r.ic(4);r.Ab(2),r.qc("src",t.imagePath?t.imagePath:t.folderIconPath?t.folderIconPath:i.fldrIcon,r.Dc),r.Ab(2),r.Oc(" ",t.name," ")}}function k(t,e){if(1&t){const t=r.Ub();r.Tb(0,"div",37),r.Tb(1,"mat-checkbox",38),r.ec("change",(function(i){r.Bc(t);const n=e.$implicit;return r.ic(4).selectContent(n,i.checked)})),r.Sb(),r.Tb(2,"div",33),r.Ob(3,"img",34),r.Sb(),r.Tb(4,"div",30),r.Mc(5),r.Sb(),r.Sb()}if(2&t){const t=e.$implicit,i=r.ic(4);r.Ab(3),r.qc("src",t.imagePath?t.imagePath:t.pdfImagePath?t.pdfImagePath:t.urlIconPath?t.urlIconPath:i.defIcon,r.Dc),r.Ab(2),r.Oc(" ",t.name," ")}}function C(t,e){if(1&t&&(r.Rb(0),r.Kc(1,w,7,2,"div",26),r.Kc(2,k,6,2,"div",36),r.Qb()),2&t){const t=r.ic(3);r.Ab(1),r.pc("ngForOf",t.fldrArr),r.Ab(1),r.pc("ngForOf",t.mdlCntntArr)}}function T(t,e){1&t&&(r.Tb(0,"div",39),r.Mc(1," No Data Found "),r.Sb())}function M(t,e){if(1&t&&(r.Tb(0,"div"),r.Kc(1,C,3,2,"ng-container",10),r.Kc(2,T,2,0,"ng-template",null,35,r.Lc),r.Sb()),2&t){const t=r.xc(3),e=r.ic(2);r.Ab(1),r.pc("ngIf",e.fldrArr.length>0||e.mdlCntntArr.length>0)("ngIfElse",t)}}function I(t,e){if(1&t&&(r.Kc(0,y,16,2,"div",24),r.Kc(1,M,4,2,"div",24)),2&t){const t=r.ic();r.pc("ngIf",t.showAll),r.Ab(1),r.pc("ngIf",!t.showAll)}}function O(t,e){1&t&&r.Ob(0,"app-loader",23),2&t&&r.pc("type","btn")}let F=(()=>{class t{constructor(t,e,i,r,s){this.modalRef=t,this.expServ=e,this.fileServ=i,this.colctnSrv=r,this.cwServ=s,this.fldrIcon=n.f,this.defIcon=n.b}ngOnInit(){this.initialiseState(),this.getWrkspcList(),this.listColctn()}initialiseState(){this.wrkspcLoading=!0,this.colctnLoading=!0,this.fldrLoading=!1,this.cntntLoading=!1,this.workspcArr=[],this.colctnArr=[],this.fldrArr=[],this.selWrkspc=void 0,this.selFldr=void 0,this.mdlCntntArr=[],this.addContentArr=[],this.showAll=!0,this.contentNav=[],this.disabled=!1}addContent(){this.modalRef.close(this.addContentArr)}selectContent(t,e){e?this.addContentArr.push(t):this.addContentArr=this.addContentArr.filter(e=>e.id!=t.id)}showMyFiles(t,e){this.fldrLoading=!0,this.cntntLoading=!0,"back"!==e&&(t?this.contentNav.push(t):this.contentNav=[{name:"My Files"}]),this.fileServ.myFiles({folderId:t?t.id:void 0}).subscribe(t=>{t&&t.result&&(Array.isArray(t.result.contents)&&t.result.contents.length>0?this.mdlCntntArr=t.result.contents:Array.isArray(t.result.contents)&&0==t.result.contents.length&&(this.mdlCntntArr=[]),Array.isArray(t.result.folders)&&t.result.folders.length>0?this.fldrArr=t.result.folders:Array.isArray(t.result.folders)&&0==t.result.folders.length&&(this.fldrArr=[])),this.showAll=void 0,this.fldrLoading=!1,this.cntntLoading=!1},t=>{this.showAll=!1,this.fldrLoading=!1,this.cntntLoading=!1})}getWrkspcList(){this.wrkspcLoading=!0,this.expServ.wrkspcListEmp().subscribe(t=>{t&&t.result&&Array.isArray(t.result)&&t.result.length>0&&(this.workspcArr=t.result),this.wrkspcLoading=!1},t=>{this.wrkspcLoading=!1})}getAllObjWrkspc(){this.fldrLoading=!0,this.expServ.getAllDataWrkspc({workspaceId:this.selWrkspc.id,isActive:!0,parentId:this.selFldr?this.selFldr.id:void 0}).subscribe(t=>{if(t&&t.result&&Array.isArray(t.result))for(let e=0;e<t.result.length;e++)3===t.result[e].entityType?this.mdlCntntArr.push(t.result[e]):this.fldrArr.push(t.result[e]);this.fldrLoading=!1},t=>{this.fldrLoading=!1})}listColctn(){this.colctnArr=[],this.colctnLoading=!0,this.colctnSrv.colctnList({pageNo:0}).subscribe(t=>{t&&t.result&&Array.isArray(t.result.results)&&t.result.results.length>0&&(this.colctnArr=t.result.results),this.colctnLoading=!1},t=>{this.colctnLoading=!1})}showWorkspcFldrs(t,e){e?(this.contentNav.push(e),this.selFldr=e,this.mdlCntntArr=[]):(this.selWrkspc=t,this.contentNav=[t]),this.getAllObjWrkspc(),this.fldrArr=[],this.showAll=!1}backNav(){this.contentNav.pop(),this.selFldr=this.contentNav.length>1?this.contentNav[this.contentNav.length-1]:void 0,this.fldrArr=[],this.mdlCntntArr=[],0==this.contentNav.length?(this.selFldr=void 0,this.showAll=!0):!1===this.showAll?this.getAllObjWrkspc():this.showMyFiles(this.selFldr,"back")}getCntntColl(t){let e=t.id;this.contentNav=[t],this.cntntLoading=!0,this.colctnSrv.getContentColctn(e).subscribe(t=>{console.log(t),t&&t.result&&Array.isArray(t.result)&&t.result.length>0?this.mdlCntntArr=t.result:t&&t.result&&Array.isArray(t.result)&&0==t.result.length&&(this.mdlCntntArr=[]),this.showAll=!1,this.cntntLoading=!1},t=>{this.showAll=!1,this.cntntLoading=!1})}getContentSmtFldr(){this.cntntLoading=!0,this.cwServ.contentBySmartFolder({workspaceId:this.selWrkspc.id,folderId:this.selFldr?this.selFldr.id:void 0}).subscribe(t=>{t&&t.result&&Array.isArray(t.result)&&t.result.length>0&&this.mdlCntntArr.push(...t.result),this.cntntLoading=!1},t=>{this.cntntLoading=!1})}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(s.b),r.Nb(o.a),r.Nb(c.a),r.Nb(l.a),r.Nb(a.a))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-add-rsrc"]],decls:19,vars:7,consts:[[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["ngbAutofocus","",1,"modal-body","min-height-val"],[1,"search"],["appearance","outline",1,"custom-mat-input","w-100","mb-2","bg-white",3,"floatLabel"],["matPrefix","",1,"fas","fa-search"],["matInput","","placeholder","Search"],["aria-label","breadcrumb",4,"ngIf"],[4,"ngIf","ngIfElse"],["loaded",""],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[3,"type",4,"ngIf"],["aria-label","breadcrumb"],[1,"breadcrumb","bg-white","mb-0","p-0","ml-1"],["class","curs-ptr text-primary mr-2","style","font-size: 16px;",3,"click",4,"ngIf"],["class","breadcrumb-item",4,"ngFor","ngForOf"],[1,"mt-1"],[1,"curs-ptr","text-primary","mr-2",2,"font-size","16px",3,"click"],[1,"fa","fa-arrow-left","align-self-center"],[1,"breadcrumb-item"],[3,"type"],[4,"ngIf"],[1,"text-secondary","font-weight-bold","my-2"],["class","d-flex border-bottom p-2 dark-bg-hover",3,"click",4,"ngFor","ngForOf"],[1,"d-flex","border-bottom","p-2","dark-bg-hover",3,"click"],[1,"icon","text-center","mr-2",2,"height","50px","width","40px"],[1,"fas","fa-folder","mt-3"],[1,"name","align-self-center"],[1,"arrow","align-self-center","ml-auto","mr-3"],[1,"fa","fa-angle-right"],[1,"icon","align-self-center","mr-2"],[2,"max-height","50px","width","40px",3,"src"],["noDATA",""],["class","d-flex border-bottom p-2 dark-bg-hover",4,"ngFor","ngForOf"],[1,"d-flex","border-bottom","p-2","dark-bg-hover"],[1,"align-self-center","mr-2",3,"change"],[1,"text-secondary","text-center","mt-5"]],template:function(t,e){if(1&t&&(r.Tb(0,"div",0),r.Tb(1,"h4",1),r.Mc(2,"Select Resource"),r.Sb(),r.Tb(3,"button",2),r.ec("click",(function(){return e.modalRef.dismiss()})),r.Tb(4,"span",3),r.Mc(5,"\xd7"),r.Sb(),r.Sb(),r.Sb(),r.Tb(6,"div",4),r.Tb(7,"div",5),r.Tb(8,"mat-form-field",6),r.Ob(9,"i",7),r.Ob(10,"input",8),r.Sb(),r.Sb(),r.Kc(11,g,5,2,"nav",9),r.Kc(12,v,2,1,"ng-container",10),r.Kc(13,I,2,2,"ng-template",null,11,r.Lc),r.Sb(),r.Tb(15,"div",12),r.Tb(16,"button",13),r.ec("click",(function(){return e.addContent()})),r.Kc(17,O,1,1,"app-loader",14),r.Mc(18),r.Sb(),r.Sb()),2&t){const t=r.xc(14);r.Ab(8),r.pc("floatLabel","never"),r.Ab(3),r.pc("ngIf",!e.showAll),r.Ab(1),r.pc("ngIf",e.wrkspcLoading&&e.colctnLoading||e.fldrLoading||e.cntntLoading)("ngIfElse",t),r.Ab(4),r.pc("disabled",0==e.addContentArr.length||e.disabled),r.Ab(1),r.pc("ngIf",e.disabled),r.Ab(1),r.Oc(" ",0==e.addContentArr.length?"0 Items Selected":"Insert "+e.addContentArr.length+" item(s)"," ")}},directives:[d.c,d.h,b.b,h.m,h.l,m.a,p.a],styles:[""]}),t})()}}]);