(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{Amnm:function(t,e,r){"use strict";r.d(e,"a",(function(){return p}));var n=r("ofXK"),i=r("3Pt+"),s=r("kmnG"),o=r("qFsG"),c=r("bSwM"),a=r("T/Ok"),l=r("liE0"),d=r("zJym"),b=r("fXoL");let p=(()=>{class t{}return t.\u0275mod=b.Lb({type:t}),t.\u0275inj=b.Kb({factory:function(e){return new(e||t)},providers:[a.a,l.a],imports:[[n.c,i.h,i.s,s.e,o.c,c.b,d.a]]}),t})()},CFzk:function(t,e,r){"use strict";r.d(e,"a",(function(){return c}));var n=r("tk/3"),i=r("lJxs"),s=r("aZQB"),o=r("fXoL");let c=(()=>{class t{constructor(t){this.http=t}addContentColctn(t){return this.http.post(""+s.a.ADD_CONTENT_COLCT,t)}delContentColctn(t){return this.http.post(""+s.a.REM_CONTENT_COLCT,t)}getContentColctn(t){return this.http.get(`${s.a.GET_CONTENT_COLCT}?id=${t}`)}colctnList(t){let e=new n.e;for(let r in t)(t[r]||"pageNo"==r||"isActive"==r)&&(e=e.set(r,t[r]));return this.http.get(""+s.a.LIST_COLCT,{params:e}).pipe(Object(i.a)(t=>t))}actDeactColctn(t,e){return this.http.post(""+(e?s.a.ACT_COLCT:s.a.DEACT_COLCT),t)}getColctn(t){return this.http.get(`${s.a.GET_COLCT}?id=${t}`)}}return t.\u0275fac=function(e){return new(e||t)(o.bc(n.b))},t.\u0275prov=o.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"E/a4":function(t,e,r){"use strict";r.d(e,"a",(function(){return a}));var n=r("fXoL"),i=r("1kSV"),s=r("kmnG"),o=r("qFsG"),c=r("bSwM");let a=(()=>{class t{constructor(t){this.modalRef=t}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(n.Nb(i.b))},t.\u0275cmp=n.Hb({type:t,selectors:[["app-get-link"]],decls:28,vars:0,consts:[[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["ngbAutofocus","",1,"modal-body"],["appearance","outline",1,"w-100"],["type","text","matInput","","placeholder","Name"],[1,"d-block","mt-3"],[1,"row"],[1,"col-9"],["appearance","outline",1,"w-100","search"],[1,"ml-2"],["type","text","matInput","","placeholder","Search for content",1,"ml-2"],["matPrefix","",1,"fa","fa-search","text-secondary",2,"font-size","18px"],[1,"col-3","mt-3"],[1,"btn","btn-primary"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(t,e){1&t&&(n.Tb(0,"div",0),n.Tb(1,"h4",1),n.Lc(2,"Common Get a Link"),n.Sb(),n.Tb(3,"button",2),n.ec("click",(function(){return e.modalRef.dismiss("Cross click")})),n.Tb(4,"span",3),n.Lc(5,"\xd7"),n.Sb(),n.Sb(),n.Sb(),n.Tb(6,"div",4),n.Tb(7,"mat-form-field",5),n.Tb(8,"mat-label"),n.Lc(9,"Name"),n.Sb(),n.Ob(10,"input",6),n.Sb(),n.Tb(11,"mat-checkbox"),n.Lc(12,"Allow downloads"),n.Sb(),n.Tb(13,"mat-label",7),n.Lc(14,"Content"),n.Sb(),n.Tb(15,"div",8),n.Tb(16,"div",9),n.Tb(17,"mat-form-field",10),n.Tb(18,"mat-label",11),n.Lc(19,"Search for content"),n.Sb(),n.Ob(20,"input",12),n.Ob(21,"i",13),n.Sb(),n.Sb(),n.Tb(22,"div",14),n.Tb(23,"div",15),n.Lc(24,"Browse"),n.Sb(),n.Sb(),n.Sb(),n.Sb(),n.Tb(25,"div",16),n.Tb(26,"button",17),n.ec("click",(function(){return e.modalRef.close("Save click")})),n.Lc(27,"Save"),n.Sb(),n.Sb())},directives:[s.c,s.g,o.b,c.a,s.h],styles:[""]}),t})()},FGg4:function(t,e,r){"use strict";r.d(e,"a",(function(){return c}));var n=r("tk/3"),i=r("lJxs"),s=r("aZQB"),o=r("fXoL");let c=(()=>{class t{constructor(t){this.http=t}myFiles(t){let e=new n.e;for(let r in t)t[r]&&(e=e.set(r,t[r]));return this.http.get(""+s.a.MY_FILES,{params:e}).pipe(Object(i.a)(t=>t))}addFldr(t){return this.http.post(""+s.a.ADD_FLDR_EMPL,t)}updFldr(t){return this.http.post(""+s.a.UPD_FLDR_EMPL,t)}}return t.\u0275fac=function(e){return new(e||t)(o.bc(n.b))},t.\u0275prov=o.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},IpHC:function(t,e,r){"use strict";r.d(e,"a",(function(){return a}));var n=r("ofXK"),i=r("kmnG"),s=r("qFsG"),o=r("bSwM"),c=r("fXoL");let a=(()=>{class t{}return t.\u0275mod=c.Lb({type:t}),t.\u0275inj=c.Kb({factory:function(e){return new(e||t)},providers:[],imports:[[n.c,i.e,s.c,o.b]]}),t})()},"OQ+D":function(t,e,r){"use strict";r.d(e,"a",(function(){return m}));var n=r("3Pt+"),i=r("vLcq"),s=r("fXoL"),o=r("1kSV"),c=r("T/Ok"),a=r("5eHb"),l=r("liE0"),d=r("kmnG"),b=r("qFsG"),p=r("bSwM"),h=r("ofXK"),u=r("668k");function f(t,e){1&t&&s.Ob(0,"app-loader",23),2&t&&s.pc("type","btn")}let m=(()=>{class t{constructor(t,e,r,n,i,s){this.modalRef=t,this.fb=e,this.mailSrv=r,this.toastr=n,this.modalService=i,this.shareSrv=s}ngOnInit(){this.initialiseState()}initialiseState(){this.emailForm=this.fb.group({emailAddresses:["",[n.u.required]],title:["",[n.u.required]],body:["",[n.u.required]],sendMeCopy:[""],allowDownload:[!0]}),this.disabled=!1,"collection"===this.type?this.link=`<a href="http://hiforce.imobisoft.eu/web-app/resource/collections/${this.data.id}">${this.data.name}</a>`:"content"===this.type&&this.getContentLink()}openRsrcModal(){this.modalService.open(i.a,{size:"lg"}).result.then(t=>{t&&console.log(t)})}sendMail(){console.log(this.emailForm.get("allowDownload").value)}getContentLink(){let t={allowDownload:this.emailForm.get("allowDownload").value,shareContents:[]};t.shareContents.push({contentId:this.data.contentId,pageNumber:this.data.pageNo}),console.log(t)}}return t.\u0275fac=function(e){return new(e||t)(s.Nb(o.b),s.Nb(n.d),s.Nb(c.a),s.Nb(a.b),s.Nb(o.f),s.Nb(l.a))},t.\u0275cmp=s.Hb({type:t,selectors:[["app-share-mail"]],inputs:{type:"type",data:"data"},decls:42,vars:3,consts:[[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["name","emailForm",3,"formGroup","ngSubmit"],["ngbAutofocus","",1,"modal-body"],[1,"row"],[1,"col-9","border-right"],["appearance","outline",1,"w-100"],["matInput","","type","text","placeholder","Recipients","formControlName","emailAddresses","required",""],["matInput","","type","text","placeholder","Subject","formControlName","title","required",""],["appearance","outline",1,"col-8"],["matInput","","type","text","placeholder","Search Content"],[1,"col-4","mt-3"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-file-medical","mr-1"],["matInput","","type","text","placeholder","Message","formControlName","body"],[1,"col-3"],["formControlName","allowDownload",1,"ml-2"],["formControlName","sendMeCopy",1,"ml-2"],[1,"modal-footer"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"type",4,"ngIf"],[3,"type"]],template:function(t,e){1&t&&(s.Tb(0,"div",0),s.Tb(1,"h4",1),s.Lc(2,"Email"),s.Sb(),s.Tb(3,"button",2),s.ec("click",(function(){return e.modalRef.dismiss("Cross click")})),s.Tb(4,"span",3),s.Lc(5,"\xd7"),s.Sb(),s.Sb(),s.Sb(),s.Tb(6,"form",4),s.ec("ngSubmit",(function(){return e.sendMail()})),s.Tb(7,"div",5),s.Tb(8,"div",6),s.Tb(9,"div",7),s.Tb(10,"mat-form-field",8),s.Tb(11,"mat-label"),s.Lc(12,"To"),s.Sb(),s.Ob(13,"input",9),s.Sb(),s.Tb(14,"mat-form-field",8),s.Tb(15,"mat-label"),s.Lc(16,"Subject"),s.Sb(),s.Ob(17,"input",10),s.Sb(),s.Tb(18,"div",6),s.Tb(19,"mat-form-field",11),s.Tb(20,"mat-label"),s.Lc(21,"Search Content"),s.Sb(),s.Ob(22,"input",12),s.Sb(),s.Tb(23,"div",13),s.Tb(24,"div",14),s.ec("click",(function(){return e.openRsrcModal()})),s.Ob(25,"i",15),s.Lc(26,"Add resource "),s.Sb(),s.Sb(),s.Sb(),s.Tb(27,"mat-form-field",8),s.Tb(28,"mat-label"),s.Lc(29,"Message"),s.Sb(),s.Ob(30,"textarea",16),s.Sb(),s.Sb(),s.Tb(31,"div",17),s.Tb(32,"h5"),s.Lc(33,"Sharing Settings"),s.Sb(),s.Tb(34,"mat-checkbox",18),s.Lc(35,"Allow downloads"),s.Sb(),s.Tb(36,"mat-checkbox",19),s.Lc(37,"Send me a copy"),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Tb(38,"div",20),s.Tb(39,"button",21),s.Jc(40,f,1,1,"app-loader",22),s.Lc(41," Save "),s.Sb(),s.Sb(),s.Sb()),2&t&&(s.Ab(6),s.pc("formGroup",e.emailForm),s.Ab(33),s.pc("disabled",e.emailForm.invalid||e.disabled),s.Ab(1),s.pc("ngIf",e.disabled))},directives:[n.w,n.n,n.g,d.c,d.g,b.b,n.c,n.m,n.f,n.t,p.a,h.m,u.a],styles:[""]}),t})()},OraM:function(t,e,r){"use strict";r.d(e,"a",(function(){return c}));var n=r("tk/3"),i=r("lJxs"),s=r("aZQB"),o=r("fXoL");let c=(()=>{class t{constructor(t){this.http=t}freezeFolderObj(t){console.log("sdf");const e=new FormData;for(let r in t)(t[r]||"IsUrl"===r)&&("folderIcon"===r||"Content"===r||"UrlIcon"===r&&t[r]&&t[r].name?e.append(r,t[r],t[r].name):e.append(r,t[r]));return e}getAllObjWrkspc(t){let e=new n.e;for(let r in t)t[r]&&(e=e.set(r,t[r]));return this.http.get(""+s.a.GET_OBJ_WRKSPC,{params:e}).pipe(Object(i.a)(t=>t))}actDeactSmtFldr(t,e){return this.http.patch(`${e?s.a.ACT_SMT_FLDR:s.a.DEACT_SMT_FLDR}?id=${t}`,{})}updSmartFolder(t){return this.http.put(""+s.a.UPD_SMT_FLDR,this.freezeFolderObj(t))}addSmartFolder(t){return this.http.post(""+s.a.ADD_SMT_FLDR,this.freezeFolderObj(t))}getSmtFolder(t){return this.http.get(`${s.a.GET_SMT_FLDR}?id=${t}`)}actDeactFldr(t,e){return this.http.patch(`${e?s.a.ACT_FLDR:s.a.DEACT_FLDR}?id=${t}`,{})}updFolder(t){return this.http.put(""+s.a.UPD_FLDR,this.freezeFolderObj(t))}addFolder(t){return this.http.post(""+s.a.ADD_FLDR,this.freezeFolderObj(t))}getFolder(t){return this.http.get(`${s.a.GET_FLDR}?id=${t}`)}actDeactWrkspc(t,e){return this.http.patch(`${e?s.a.ACT_WRKSPC:s.a.DEACT_WRKSPC}?id=${t}`,{})}wrkspcList(t){let e=new n.e;for(let r in t)(t[r]||"isActive"==r)&&(e=e.set(r,t[r]));return this.http.get(""+s.a.LIST_WRKSPC,{params:e}).pipe(Object(i.a)(t=>t))}addWrkspc(t){return this.http.post(""+s.a.ADD_WRKSPC,t)}updWrkspc(t){return this.http.put(""+s.a.UPD_WRKSPC,t)}contentByFolder(t){let e=new n.e;for(let r in t)t[r]&&(e=e.set(r,t[r]));return this.http.get(""+s.a.GET_CNTNT_FLDR,{params:e}).pipe(Object(i.a)(t=>t))}contentBySmartFolder(t){let e=new n.e;for(let r in t)t[r]&&(e=e.set(r,t[r]));return this.http.get(""+s.a.GET_CNTNT_SMT_FLDR,{params:e}).pipe(Object(i.a)(t=>t))}contentList(t){let e=new n.e;for(let r in t)if("fltrL"===r){if(t[r]&&t[r].length>0)for(let n=0;n<t[r].length;n++)"fT"===t[r][n].type?e=e.append("fileTypes",t[r][n].v):"allTags1"===t[r][n].type?e=e.append("tags.MatchAllTagIds",t[r][n].id):"anyTags1"===t[r][n].type?e=e.append("tags.MatchAnyTagIds",t[r][n].id):"noneTags1"===t[r][n].type&&(e=e.append("tags.MatchNoneTagIds",t[r][n].id))}else(t[r]||"IsAscending"==r)&&(e=e.set(r,t[r]));return this.http.get(""+s.a.LIST_CNTNT,{params:e}).pipe(Object(i.a)(t=>t))}addContent(t){return this.http.post(""+s.a.ADD_CNTNT,this.freezeFolderObj(t))}updContent(t){return this.http.post(""+s.a.UPD_CNTNT,t)}viewContent(t){return this.http.get(""+s.a.GET_CNTNT,{params:{id:t}})}addCmntToContent(t){return this.http.post(""+s.a.ADD_CMNT_CNTNT,t)}addCntntToWrkspcFldr(t){return this.http.post(""+s.a.ADD_CNTNT_WRKSPC,t)}delCntnt(t){return this.http.post(`${s.a.DEL_CNTNT}?id=${t}`,{})}usrGrpWrkspcList(t){let e=new n.e;for(let r in t)t[r]&&(e=e.set(r,t[r]));return this.http.get(""+s.a.LIST_USR_GRP_WRKSPC,{params:e}).pipe(Object(i.a)(t=>t))}addUsrGrpWrkspc(t){return this.http.post(""+s.a.ADD_USR_GRP_WRKSPC,t)}remUsrGrpWrkspc(t){return this.http.post(""+s.a.REM_USR_GRP_WRKSPC,t)}}return t.\u0275fac=function(e){return new(e||t)(o.bc(n.b))},t.\u0275prov=o.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"P/0q":function(t,e,r){"use strict";r.d(e,"a",(function(){return c}));var n=r("tk/3"),i=r("lJxs"),s=r("aZQB"),o=r("fXoL");let c=(()=>{class t{constructor(t){this.http=t}wrkspcListEmp(){return this.http.get(""+s.a.GET_WRKSPC_EMP).pipe(Object(i.a)(t=>t))}getAllObjWrkspc(t){let e=new n.e;for(let r in t)t[r]&&(e=e.set(r,t[r]));return this.http.get(""+s.a.GET_OBJ_WRKSPC_EMP,{params:e}).pipe(Object(i.a)(t=>t))}}return t.\u0275fac=function(e){return new(e||t)(o.bc(n.b))},t.\u0275prov=o.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"T/Ok":function(t,e,r){"use strict";r.d(e,"a",(function(){return o}));var n=r("aZQB"),i=r("fXoL"),s=r("tk/3");let o=(()=>{class t{constructor(t){this.http=t}sendMail(t){return this.http.post(""+n.a.SEND_MAIL,t)}}return t.\u0275fac=function(e){return new(e||t)(i.bc(s.b))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"j+Cn":function(t,e,r){"use strict";r.d(e,"a",(function(){return c}));var n=r("tk/3"),i=r("lJxs"),s=r("aZQB"),o=r("fXoL");let c=(()=>{class t{constructor(t){this.http=t}addColctn(t){return this.http.post(""+s.a.ADD_COLCT,t)}renColctn(t){return this.http.put(""+s.a.REN_COLCT,t)}duplColctn(t){return this.http.patch(""+s.a.DUPL_COLCT,t)}colctnList(t){let e=new n.e;for(let r in t)(t[r]||"pageNo"==r)&&(e=e.set(r,t[r]));return this.http.get(""+s.a.LIST_COLCT,{params:e}).pipe(Object(i.a)(t=>t))}addContentColctn(t){return this.http.post(""+s.a.ADD_CONTENT_COLCT,t)}}return t.\u0275fac=function(e){return new(e||t)(o.bc(n.b))},t.\u0275prov=o.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},liE0:function(t,e,r){"use strict";r.d(e,"a",(function(){return o}));var n=r("aZQB"),i=r("fXoL"),s=r("tk/3");let o=(()=>{class t{constructor(t){this.http=t}addShare(t){return this.http.post(""+n.a.ADD_SHARE,t)}}return t.\u0275fac=function(e){return new(e||t)(i.bc(s.b))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},vLcq:function(t,e,r){"use strict";r.d(e,"a",(function(){return O}));var n=r("fXoL"),i=r("1kSV"),s=r("P/0q"),o=r("FGg4"),c=r("CFzk"),a=r("OraM"),l=r("kmnG"),d=r("qFsG"),b=r("ofXK"),p=r("668k"),h=r("bSwM");function u(t,e){if(1&t){const t=n.Ub();n.Tb(0,"li",20),n.ec("click",(function(){return n.Ac(t),n.ic(2).backNav()})),n.Ob(1,"i",21),n.Sb()}}function f(t,e){if(1&t&&(n.Tb(0,"li",22),n.Lc(1),n.Sb()),2&t){const t=e.$implicit;n.Ab(1),n.Mc(t.name)}}function m(t,e){if(1&t&&(n.Tb(0,"nav",15),n.Tb(1,"ol",16),n.Jc(2,u,2,0,"li",17),n.Jc(3,f,2,1,"li",18),n.Sb(),n.Ob(4,"hr",19),n.Sb()),2&t){const t=n.ic();n.Ab(2),n.pc("ngIf",t.contentNav.length>0),n.Ab(1),n.pc("ngForOf",t.contentNav)}}function g(t,e){1&t&&(n.Rb(0),n.Ob(1,"app-loader",23),n.Qb()),2&t&&(n.Ab(1),n.pc("type","div"))}function T(t,e){if(1&t){const t=n.Ub();n.Tb(0,"div",27),n.ec("click",(function(){n.Ac(t);const r=e.$implicit;return n.ic(3).showWorkspcFldrs(r)})),n.Tb(1,"div",33),n.Ob(2,"img",34),n.Sb(),n.Tb(3,"div",30),n.Lc(4),n.Sb(),n.Tb(5,"div",31),n.Ob(6,"i",32),n.Sb(),n.Sb()}if(2&t){const t=e.$implicit;n.Ab(4),n.Nc(" ",t.name," ")}}function S(t,e){if(1&t){const t=n.Ub();n.Tb(0,"div",27),n.ec("click",(function(){n.Ac(t);const r=e.$implicit;return n.ic(3).getCntntColl(r)})),n.Tb(1,"div",33),n.Ob(2,"img",34),n.Sb(),n.Tb(3,"div",30),n.Lc(4),n.Sb(),n.Tb(5,"div",31),n.Ob(6,"i",32),n.Sb(),n.Sb()}if(2&t){const t=e.$implicit;n.Ab(4),n.Mc(t.name)}}function A(t,e){if(1&t){const t=n.Ub();n.Tb(0,"div"),n.Tb(1,"div",25),n.Lc(2,"Workspaces"),n.Sb(),n.Jc(3,T,7,1,"div",26),n.Tb(4,"div",25),n.Lc(5,"My Files"),n.Sb(),n.Tb(6,"div",27),n.ec("click",(function(){return n.Ac(t),n.ic(2).showMyFiles()})),n.Tb(7,"div",28),n.Ob(8,"i",29),n.Sb(),n.Tb(9,"div",30),n.Lc(10," My Files "),n.Sb(),n.Tb(11,"div",31),n.Ob(12,"i",32),n.Sb(),n.Sb(),n.Tb(13,"div",25),n.Lc(14,"Collections"),n.Sb(),n.Jc(15,S,7,1,"div",26),n.Sb()}if(2&t){const t=n.ic(2);n.Ab(3),n.pc("ngForOf",t.workspcArr),n.Ab(12),n.pc("ngForOf",t.colctnArr)}}function v(t,e){if(1&t){const t=n.Ub();n.Tb(0,"div",27),n.ec("click",(function(){n.Ac(t);const r=e.$implicit,i=n.ic(4);return!1===i.showAll?i.showWorkspcFldrs(void 0,r):i.showMyFiles(r)})),n.Tb(1,"div",33),n.Ob(2,"img",37),n.Sb(),n.Tb(3,"div",30),n.Lc(4),n.Sb(),n.Tb(5,"div",31),n.Ob(6,"i",32),n.Sb(),n.Sb()}if(2&t){const t=e.$implicit;n.Ab(2),n.qc("src",t.folderIconPath?t.folderIconPath:"assets/images/folderIcon.png",n.Cc),n.Ab(2),n.Nc(" ",t.name," ")}}function C(t,e){if(1&t){const t=n.Ub();n.Tb(0,"div",38),n.Tb(1,"mat-checkbox",39),n.ec("change",(function(r){n.Ac(t);const i=e.$implicit;return n.ic(4).selectContent(i,r.checked)})),n.Sb(),n.Tb(2,"div",33),n.Ob(3,"img",37),n.Sb(),n.Tb(4,"div",30),n.Lc(5),n.Sb(),n.Sb()}if(2&t){const t=e.$implicit;n.Ab(3),n.qc("src",t.pdfImages&&t.pdfImages.length>0?t.pdfImages[0].imagePath:t.urlIconPath,n.Cc),n.Ab(2),n.Nc(" ",t.name," ")}}function L(t,e){if(1&t&&(n.Rb(0),n.Jc(1,v,7,2,"div",26),n.Jc(2,C,6,2,"div",36),n.Qb()),2&t){const t=n.ic(3);n.Ab(1),n.pc("ngForOf",t.fldrArr),n.Ab(1),n.pc("ngForOf",t.mdlCntntArr)}}function k(t,e){1&t&&(n.Tb(0,"div",40),n.Lc(1," No Data Found "),n.Sb())}function y(t,e){if(1&t&&(n.Tb(0,"div"),n.Jc(1,L,3,2,"ng-container",10),n.Jc(2,k,2,0,"ng-template",null,35,n.Kc),n.Sb()),2&t){const t=n.xc(3),e=n.ic(2);n.Ab(1),n.pc("ngIf",e.fldrArr.length>0||e.mdlCntntArr.length>0)("ngIfElse",t)}}function w(t,e){if(1&t&&(n.Jc(0,A,16,2,"div",24),n.Jc(1,y,4,2,"div",24)),2&t){const t=n.ic();n.pc("ngIf",t.showAll),n.Ab(1),n.pc("ngIf",!t.showAll)}}function F(t,e){1&t&&n.Ob(0,"app-loader",23),2&t&&n.pc("type","btn")}let O=(()=>{class t{constructor(t,e,r,n,i){this.modalRef=t,this.expServ=e,this.fileServ=r,this.colctnSrv=n,this.cwServ=i}ngOnInit(){this.initialiseState(),this.getWrkspcList(),this.listColctn()}initialiseState(){this.wrkspcLoading=!0,this.colctnLoading=!0,this.fldrLoading=!1,this.cntntLoading=!1,this.workspcArr=[],this.colctnArr=[],this.fldrArr=[],this.selWrkspc=void 0,this.selFldr=void 0,this.mdlCntntArr=[],this.addContentArr=[],this.showAll=!0,this.contentNav=[],this.disabled=!1}addContent(){this.modalRef.close(this.addContentArr)}selectContent(t,e){e?this.addContentArr.push(t):this.addContentArr=this.addContentArr.filter(e=>e.id!=t.id)}showMyFiles(t,e){this.fldrLoading=!0,this.cntntLoading=!0,"back"!==e&&(t?this.contentNav.push(t):this.contentNav=[{name:"My Files"}]),this.fileServ.myFiles({folderId:t?t.id:void 0}).subscribe(t=>{t&&t.result&&(Array.isArray(t.result.contents)&&t.result.contents.length>0?this.mdlCntntArr=t.result.contents:Array.isArray(t.result.contents)&&0==t.result.contents.length&&(this.mdlCntntArr=[]),Array.isArray(t.result.folders)&&t.result.folders.length>0?this.fldrArr=t.result.folders:Array.isArray(t.result.folders)&&0==t.result.folders.length&&(this.fldrArr=[])),this.showAll=void 0,this.fldrLoading=!1,this.cntntLoading=!1},t=>{this.showAll=!1,this.fldrLoading=!1,this.cntntLoading=!1})}getWrkspcList(){this.wrkspcLoading=!0,this.expServ.wrkspcListEmp().subscribe(t=>{t&&t.result&&Array.isArray(t.result)&&t.result.length>0&&(this.workspcArr=t.result),this.wrkspcLoading=!1},t=>{this.wrkspcLoading=!1})}getAllObjWrkspc(){this.fldrLoading=!0,this.expServ.getAllObjWrkspc({workspaceId:this.selWrkspc.id,isActive:!0,folderId:this.selFldr?this.selFldr.id:void 0}).subscribe(t=>{if(t&&t.result){if(Array.isArray(t.result[0].contents)&&t.result[0].contents.length>0&&this.mdlCntntArr.push(...t.result[0].contents),Array.isArray(t.result[0].folders)&&t.result[0].folders.length>0)for(let e=0;e<t.result[0].folders.length;e++)this.fldrArr.push(Object.assign(Object.assign({},t.result[0].folders[e]),{key:"fldr"}));if(Array.isArray(t.result[0].smartFolders)&&t.result[0].smartFolders.length>0)for(let e=0;e<t.result[0].smartFolders.length;e++)this.fldrArr.push(Object.assign(Object.assign({},t.result[0].smartFolders[e]),{key:"smtFldr"}))}this.fldrLoading=!1},t=>{this.fldrLoading=!1})}listColctn(){this.colctnArr=[],this.colctnLoading=!0,this.colctnSrv.colctnList({pageNo:0}).subscribe(t=>{t&&t.result&&Array.isArray(t.result.results)&&t.result.results.length>0&&(this.colctnArr=t.result.results),this.colctnLoading=!1},t=>{this.colctnLoading=!1})}showWorkspcFldrs(t,e){e?(this.contentNav.push(e),this.selFldr=e,this.mdlCntntArr=[]):(this.selWrkspc=t,this.contentNav=[t]),e?"fldr"==this.selFldr.key?this.getAllObjWrkspc():this.getContentSmtFldr():this.getAllObjWrkspc(),this.fldrArr=[],this.showAll=!1}backNav(){this.contentNav.pop(),this.selFldr=this.contentNav.length>1?this.contentNav[this.contentNav.length-1]:void 0,this.fldrArr=[],this.mdlCntntArr=[],0==this.contentNav.length?(this.selFldr=void 0,this.showAll=!0):!1===this.showAll?this.getAllObjWrkspc():this.showMyFiles(this.selFldr,"back")}getCntntColl(t){let e=t.id;this.contentNav=[t],this.cntntLoading=!0,this.colctnSrv.getContentColctn(e).subscribe(t=>{t&&t.result&&Array.isArray(t.result)&&t.result.length>0?this.mdlCntntArr=t.result:t&&t.result&&Array.isArray(t.result)&&0==t.result.length&&(this.mdlCntntArr=[]),this.showAll=!1,this.cntntLoading=!1},t=>{this.showAll=!1,this.cntntLoading=!1})}getContentSmtFldr(){this.cntntLoading=!0,this.cwServ.contentBySmartFolder({workspaceId:this.selWrkspc.id,folderId:this.selFldr?this.selFldr.id:void 0}).subscribe(t=>{t&&t.result&&Array.isArray(t.result)&&t.result.length>0&&this.mdlCntntArr.push(...t.result),this.cntntLoading=!1},t=>{this.cntntLoading=!1})}}return t.\u0275fac=function(e){return new(e||t)(n.Nb(i.b),n.Nb(s.a),n.Nb(o.a),n.Nb(c.a),n.Nb(a.a))},t.\u0275cmp=n.Hb({type:t,selectors:[["app-add-rsrc"]],decls:19,vars:7,consts:[[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["ngbAutofocus","",1,"modal-body","min-height-val"],[1,"search"],["appearance","outline",1,"custom-mat-input","w-100","mb-2","bg-white",3,"floatLabel"],["matPrefix","",1,"fas","fa-search"],["matInput","","placeholder","Search"],["aria-label","breadcrumb",4,"ngIf"],[4,"ngIf","ngIfElse"],["loaded",""],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[3,"type",4,"ngIf"],["aria-label","breadcrumb"],[1,"breadcrumb","bg-white","mb-0","p-0","ml-1"],["class","curs-ptr text-primary mr-2","style","font-size: 16px;",3,"click",4,"ngIf"],["class","breadcrumb-item",4,"ngFor","ngForOf"],[1,"mt-1"],[1,"curs-ptr","text-primary","mr-2",2,"font-size","16px",3,"click"],[1,"fa","fa-arrow-left","align-self-center"],[1,"breadcrumb-item"],[3,"type"],[4,"ngIf"],[1,"text-secondary","font-weight-bold","my-2"],["class","d-flex border-bottom p-2 dark-bg-hover",3,"click",4,"ngFor","ngForOf"],[1,"d-flex","border-bottom","p-2","dark-bg-hover",3,"click"],[1,"icon","text-center","mr-2",2,"height","50px","width","40px"],[1,"fas","fa-folder","mt-3"],[1,"name","align-self-center"],[1,"arrow","align-self-center","ml-auto","mr-3"],[1,"fa","fa-angle-right"],[1,"icon","align-self-center","mr-2"],["src","assets/images/discription.png",2,"max-height","50px","width","40px"],["noDATA",""],["class","d-flex border-bottom p-2 dark-bg-hover",4,"ngFor","ngForOf"],[2,"max-height","50px","width","40px",3,"src"],[1,"d-flex","border-bottom","p-2","dark-bg-hover"],[1,"align-self-center","mr-2",3,"change"],[1,"text-secondary","text-center","mt-5"]],template:function(t,e){if(1&t&&(n.Tb(0,"div",0),n.Tb(1,"h4",1),n.Lc(2,"Select Resource"),n.Sb(),n.Tb(3,"button",2),n.ec("click",(function(){return e.modalRef.dismiss("Cross click")})),n.Tb(4,"span",3),n.Lc(5,"\xd7"),n.Sb(),n.Sb(),n.Sb(),n.Tb(6,"div",4),n.Tb(7,"div",5),n.Tb(8,"mat-form-field",6),n.Ob(9,"i",7),n.Ob(10,"input",8),n.Sb(),n.Sb(),n.Jc(11,m,5,2,"nav",9),n.Jc(12,g,2,1,"ng-container",10),n.Jc(13,w,2,2,"ng-template",null,11,n.Kc),n.Sb(),n.Tb(15,"div",12),n.Tb(16,"button",13),n.ec("click",(function(){return e.addContent()})),n.Jc(17,F,1,1,"app-loader",14),n.Lc(18),n.Sb(),n.Sb()),2&t){const t=n.xc(14);n.Ab(8),n.pc("floatLabel","never"),n.Ab(3),n.pc("ngIf",!e.showAll),n.Ab(1),n.pc("ngIf",e.wrkspcLoading&&e.colctnLoading||e.fldrLoading||e.cntntLoading)("ngIfElse",t),n.Ab(4),n.pc("disabled",0==e.addContentArr.length||e.disabled),n.Ab(1),n.pc("ngIf",e.disabled),n.Ab(1),n.Nc(" ",0==e.addContentArr.length?"0 Items Selected":"Insert "+e.addContentArr.length+" item(s)"," ")}},directives:[l.c,l.h,d.b,b.m,b.l,p.a,h.a],styles:[""]}),t})()}}]);