(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{FvCg:function(t,e,i){"use strict";i.r(e),i.d(e,"ProfileModule",(function(){return T}));var s=i("ofXK"),a=i("tyNb"),r=i("3Pt+"),b=i("kmnG"),o=i("qFsG"),c=i("d3UM"),n=i("bSwM"),d=i("Qu3c"),l=i("zJym"),u=i("NA9/"),h=i("lAA9"),p=i("VGjC"),m=i("Qr3z"),f=i("p0iN"),g=i("fXoL");const S=[{path:"",component:h.a}];let T=(()=>{class t{}return t.\u0275mod=g.Lb({type:t}),t.\u0275inj=g.Kb({factory:function(e){return new(e||t)},providers:[m.a,p.a,f.a],imports:[[s.c,a.h.forChild(S),r.h,r.s,b.e,o.c,c.b,n.b,d.b,l.a,u.a]]}),t})()},M0XK:function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var s=i("0IaG"),a=i("fXoL");let r=(()=>{class t{}return t.\u0275mod=a.Lb({type:t}),t.\u0275inj=a.Kb({factory:function(e){return new(e||t)},imports:[[s.e]]}),t})()},TTCX:function(t,e,i){"use strict";i.r(e),i.d(e,"DivisionModule",(function(){return S}));var s=i("ofXK"),a=i("tyNb"),r=i("3Pt+"),b=i("Xa2L"),o=i("kmnG"),c=i("qFsG"),n=i("bSwM"),d=i("d3UM"),l=i("bUhK"),u=i("vLBh"),h=i("YfLq"),p=i("zJym"),m=i("M0XK"),f=i("fXoL");const g=[{path:"",component:l.a}];let S=(()=>{class t{}return t.\u0275mod=f.Lb({type:t}),t.\u0275inj=f.Kb({factory:function(e){return new(e||t)},providers:[u.a,h.a],imports:[[s.c,a.h.forChild(g),r.h,r.s,b.a,o.e,c.c,n.b,d.b,p.a,m.a]]}),t})()},bUhK:function(t,e,i){"use strict";i.d(e,"a",(function(){return O}));var s=i("3Pt+"),a=i("IJgu"),r=i("fXoL"),b=i("YfLq"),o=i("vLBh"),c=i("1kSV"),n=i("5eHb"),d=i("iiaH"),l=i("p0iN"),u=i("0IaG"),h=i("ofXK"),p=i("668k"),m=i("kmnG"),f=i("qFsG"),g=i("bSwM"),S=i("d3UM"),T=i("FKr1");function v(t,e){1&t&&r.Ob(0,"app-loader",5),2&t&&r.pc("type","page")}function M(t,e){if(1&t){const t=r.Ub();r.Tb(0,"a",32),r.ec("click",(function(){r.Bc(t);const i=e.$implicit;return r.ic(3).hubChange(i)})),r.Mc(1),r.Sb()}if(2&t){const t=e.$implicit;r.Ab(1),r.Nc(t.name)}}function y(t,e){if(1&t&&(r.Rb(0),r.Kc(1,M,2,1,"a",31),r.Qb()),2&t){const t=r.ic(2);r.Ab(1),r.pc("ngForOf",t.hubs)}}function A(t,e){1&t&&(r.Tb(0,"h6",33),r.Mc(1,"No Hubs Found"),r.Sb())}function I(t,e){if(1&t){const t=r.Ub();r.Tb(0,"a",34),r.ec("click",(function(){r.Bc(t);const e=r.ic(2),i=r.xc(3);return e.openModal(i,"add")})),r.Mc(1," Add New Hub "),r.Sb()}}const k=function(t,e){return{"fa-toggle-off":t,"fa-toggle-on":e}};function w(t,e){if(1&t){const t=r.Ub();r.Tb(0,"div",21),r.Tb(1,"div",9),r.Tb(2,"button",35),r.Ob(3,"i",36),r.Sb(),r.Tb(4,"div",37),r.Tb(5,"a",32),r.ec("click",(function(){r.Bc(t);const e=r.ic(2),i=r.xc(3);return e.openModal(i,"edit")})),r.Mc(6,"Edit"),r.Sb(),r.Tb(7,"a",38),r.ec("click",(function(){return r.Bc(t),r.ic(2).actDeactHub()})),r.Ob(8,"i",39),r.Mc(9),r.Sb(),r.Sb(),r.Sb(),r.Sb()}if(2&t){const t=r.ic(2);r.Ab(7),r.Db("dropdown-item curs-ptr text-",t.selHub.isActive?"primary":"success",""),r.Ab(1),r.pc("ngClass",r.uc(5,k,t.selHub.isActive,!t.selHub.isActive)),r.Ab(1),r.Oc(" ",t.selHub.isActive?"Deactivate":"Activate"," ")}}function N(t,e){if(1&t){const t=r.Ub();r.Tb(0,"div",6),r.Tb(1,"h3",7),r.Tb(2,"div",8),r.Tb(3,"div",9),r.Tb(4,"div",10),r.Mc(5),r.Sb(),r.Tb(6,"div",11),r.Kc(7,y,2,1,"ng-container",12),r.Kc(8,A,2,0,"ng-template",null,13,r.Lc),r.Ob(10,"div",14),r.Kc(11,I,2,0,"a",15),r.Sb(),r.Sb(),r.Sb(),r.Kc(12,w,10,8,"div",16),r.Sb(),r.Tb(13,"div",17),r.Tb(14,"div",18),r.Tb(15,"div",19),r.Tb(16,"div",20),r.Mc(17," Assigned Groups "),r.Tb(18,"div",21),r.Tb(19,"i",22),r.ec("click",(function(){r.Bc(t);const e=r.ic(),i=r.xc(5);return e.openModal(i)})),r.Sb(),r.Sb(),r.Sb(),r.Tb(20,"div",23),r.Tb(21,"div",24),r.Mc(22," All Users "),r.Tb(23,"div",21),r.Tb(24,"span",25),r.Mc(25,"359"),r.Sb(),r.Ob(26,"i",26),r.Sb(),r.Sb(),r.Tb(27,"div",24),r.Mc(28," All Users "),r.Tb(29,"div",21),r.Tb(30,"span",25),r.Mc(31,"359"),r.Sb(),r.Ob(32,"i",26),r.Sb(),r.Sb(),r.Tb(33,"div",24),r.Mc(34," All Users "),r.Tb(35,"div",21),r.Tb(36,"span",25),r.Mc(37,"359"),r.Sb(),r.Ob(38,"i",26),r.Sb(),r.Sb(),r.Tb(39,"div",24),r.Mc(40," All Users "),r.Tb(41,"div",21),r.Tb(42,"span",25),r.Mc(43,"359"),r.Sb(),r.Ob(44,"i",26),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Tb(45,"div",27),r.Tb(46,"div",19),r.Tb(47,"div",20),r.Mc(48," Promoted Members "),r.Tb(49,"div",21),r.Tb(50,"div",28),r.ec("click",(function(){r.Bc(t);const e=r.ic(),i=r.xc(7);return e.openModal(i)})),r.Mc(51,"Promote a Member"),r.Sb(),r.Sb(),r.Sb(),r.Tb(52,"div",23),r.Tb(53,"table",29),r.Tb(54,"thead"),r.Tb(55,"tr"),r.Tb(56,"th",30),r.Mc(57,"User"),r.Sb(),r.Tb(58,"th",30),r.Mc(59,"Content"),r.Sb(),r.Tb(60,"th",30),r.Mc(61,"Collaboration"),r.Sb(),r.Tb(62,"th",30),r.Mc(63,"User Management"),r.Sb(),r.Tb(64,"th",30),r.Mc(65,"Reporting"),r.Sb(),r.Tb(66,"th",30),r.Mc(67,"Options"),r.Sb(),r.Sb(),r.Sb(),r.Tb(68,"tbody"),r.Tb(69,"tr"),r.Tb(70,"td"),r.Mc(71,"Test"),r.Sb(),r.Tb(72,"td"),r.Mc(73,"Test"),r.Sb(),r.Tb(74,"td"),r.Mc(75,"Test"),r.Sb(),r.Tb(76,"td"),r.Mc(77,"Test"),r.Sb(),r.Tb(78,"td"),r.Mc(79,"Test"),r.Sb(),r.Tb(80,"td"),r.Mc(81,"Test"),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb()}if(2&t){const t=r.xc(9),e=r.ic();r.Ab(5),r.Oc(" ",e.selHub&&e.selHub.id?e.selHub.name:"No Hub"," "),r.Ab(2),r.pc("ngIf",e.hubs[0])("ngIfElse",t),r.Ab(4),r.pc("ngIf",e.usrInfo&&1==e.usrInfo.rid),r.Ab(1),r.pc("ngIf",e.selHub&&e.selHub.id&&e.usrInfo&&1==e.usrInfo.rid)}}function H(t,e){1&t&&(r.Tb(0,"mat-error"),r.Mc(1," Name is required "),r.Sb())}function F(t,e){1&t&&r.Ob(0,"app-loader",5),2&t&&r.pc("type","btn")}function x(t,e){if(1&t){const t=r.Ub();r.Tb(0,"div",40),r.Tb(1,"h4",41),r.Mc(2),r.Sb(),r.Tb(3,"button",42),r.ec("click",(function(){return e.$implicit.dismiss("Cross click")})),r.Tb(4,"span",43),r.Mc(5,"\xd7"),r.Sb(),r.Sb(),r.Sb(),r.Tb(6,"form",44),r.ec("ngSubmit",(function(){return r.Bc(t),r.ic().submit()})),r.Tb(7,"div",45),r.Tb(8,"mat-form-field",46),r.Tb(9,"mat-label"),r.Mc(10,"Name"),r.Sb(),r.Ob(11,"input",47),r.Kc(12,H,2,0,"mat-error",48),r.Sb(),r.Tb(13,"mat-checkbox",49),r.Mc(14,"This division can share selected content globally. Global content can be viewed (but not edited) by all other hubs."),r.Sb(),r.Ob(15,"hr"),r.Tb(16,"mat-label",50),r.Mc(17,"Groups assigned to this division"),r.Sb(),r.Tb(18,"mat-checkbox",51),r.Mc(19,"All Users"),r.Sb(),r.Tb(20,"mat-checkbox",51),r.Mc(21,"HES & Hi-Force"),r.Sb(),r.Tb(22,"mat-checkbox",51),r.Mc(23,"Hi-Force"),r.Sb(),r.Tb(24,"mat-checkbox",51),r.Mc(25,"Hi-Force Distributors"),r.Sb(),r.Tb(26,"mat-checkbox",51),r.Mc(27,"Protec & Hi-Force"),r.Sb(),r.Sb(),r.Tb(28,"div",52),r.Tb(29,"button",53),r.Kc(30,F,1,1,"app-loader",0),r.Mc(31),r.Sb(),r.Sb(),r.Sb()}if(2&t){const t=r.ic();r.Ab(2),r.Oc("","add"==t.type?"Create New":"Edit"," Hub"),r.Ab(4),r.pc("formGroup",t.hubForm),r.Ab(6),r.pc("ngIf",t.hubForm.get("name").hasError("required")),r.Ab(17),r.pc("disabled",t.hubForm.invalid||t.disabled),r.Ab(1),r.pc("ngIf",t.disabled),r.Ab(1),r.Oc("","add"==t.type?"Save":"Update"," ")}}function P(t,e){1&t&&(r.Tb(0,"div",40),r.Tb(1,"h4",41),r.Mc(2,"Update Groups"),r.Sb(),r.Tb(3,"button",42),r.ec("click",(function(){return e.$implicit.dismiss("Cross click")})),r.Tb(4,"span",43),r.Mc(5,"\xd7"),r.Sb(),r.Sb(),r.Sb(),r.Tb(6,"div",45),r.Tb(7,"mat-label",50),r.Mc(8,"Groups assigned to this division"),r.Sb(),r.Tb(9,"mat-checkbox",51),r.Mc(10,"All Users"),r.Sb(),r.Tb(11,"mat-checkbox",51),r.Mc(12,"HES & Hi-Force"),r.Sb(),r.Tb(13,"mat-checkbox",51),r.Mc(14,"Hi-Force"),r.Sb(),r.Tb(15,"mat-checkbox",51),r.Mc(16,"Hi-Force Distributors"),r.Sb(),r.Tb(17,"mat-checkbox",51),r.Mc(18,"Protec & Hi-Force"),r.Sb(),r.Sb(),r.Tb(19,"div",52),r.Tb(20,"button",54),r.ec("click",(function(){return e.$implicit.close("Save click")})),r.Mc(21,"Save"),r.Sb(),r.Sb())}function C(t,e){1&t&&(r.Tb(0,"div",40),r.Tb(1,"h4",41),r.Mc(2,"Promote Division Member"),r.Sb(),r.Tb(3,"button",42),r.ec("click",(function(){return e.$implicit.dismiss("Cross click")})),r.Tb(4,"span",43),r.Mc(5,"\xd7"),r.Sb(),r.Sb(),r.Sb(),r.Tb(6,"div",55),r.Tb(7,"mat-form-field",46),r.Tb(8,"mat-label"),r.Mc(9,"Select a Member to Promote"),r.Sb(),r.Tb(10,"mat-select"),r.Tb(11,"mat-option",56),r.Mc(12,"ABC"),r.Sb(),r.Sb(),r.Sb(),r.Tb(13,"div",57),r.Tb(14,"mat-label",50),r.Mc(15,"Content"),r.Sb(),r.Tb(16,"mat-checkbox",51),r.Mc(17,"Manage Content"),r.Sb(),r.Tb(18,"mat-checkbox",51),r.Mc(19,"Manage Tags"),r.Sb(),r.Sb(),r.Tb(20,"div",58),r.Tb(21,"mat-label",50),r.Mc(22,"Collaboration"),r.Sb(),r.Tb(23,"mat-checkbox",51),r.Mc(24,"Manage Spotlights and Announcements"),r.Sb(),r.Sb(),r.Tb(25,"div",59),r.Tb(26,"mat-label",50),r.Mc(27,"User Management"),r.Sb(),r.Tb(28,"mat-checkbox",51),r.Mc(29,"Manage Users & Groups"),r.Sb(),r.Sb(),r.Tb(30,"div",60),r.Tb(31,"mat-label",50),r.Mc(32,"Reporting"),r.Sb(),r.Tb(33,"mat-checkbox",51),r.Mc(34,"View Content Reports"),r.Sb(),r.Sb(),r.Ob(35,"hr"),r.Tb(36,"div",61),r.Tb(37,"mat-label",50),r.Mc(38,"Settings"),r.Sb(),r.Tb(39,"mat-checkbox",51),r.Mc(40,"Notify user by email"),r.Sb(),r.Sb(),r.Sb(),r.Tb(41,"div",52),r.Tb(42,"button",54),r.ec("click",(function(){return e.$implicit.close("Save click")})),r.Mc(43,"Save"),r.Sb(),r.Sb())}let O=(()=>{class t{constructor(t,e,i,s,a,r,b,o){this.hubServ=t,this.divServ=e,this.modalService=i,this.fb=s,this.toastr=a,this.dataServ=r,this.tokenDataServ=b,this.dialog=o,this.hubs=[],this.loading=!0,this.disabled=!1}ngOnInit(){this.getHubs(),this.usrInfo=this.tokenDataServ.getUser(),this.hubForm=this.fb.group({name:["",s.u.required]})}getHubs(){this.loading=!0,this.hubs=[],this.hubServ.hubList({pageNo:0}).subscribe(t=>{t&&t.result&&Array.isArray(t.result.results)&&t.result.results.length>0&&(this.hubs=t.result.results,this.selHub=t.result.results[0]),this.loading=!1},t=>{this.loading=!1})}hubChange(t){this.selHub=t}openModal(t,e){this.type=e,"add"!=this.type&&"edit"!=this.type||(this.hubForm.reset(),"edit"==this.type&&this.setHubVal()),this.modalService.open(t,{ariaLabelledBy:"modal-basic-title",size:"lg"}).result.then(t=>{},t=>{})}setHubVal(){this.hubForm.patchValue(Object.assign({},this.selHub))}submit(){if(this.hubForm.valid){this.disabled=!0;let t=Object.assign({},this.hubForm.value);"add"==this.type?this.addHub(t):this.updHub(t)}}addHub(t){this.divServ.addHub(t).subscribe(t=>{t?(this.getHubs(),this.dataServ.passDataSend("hub-add"),this.toastr.success(t.message||"Hub added successfully","Success!"),this.disMissMdodal()):this.toastr.error("Unable to add Hub","Error!"),this.disabled=!1},t=>{this.disabled=!1})}updHub(t){t.id=this.selHub.id,this.divServ.updHub(t).subscribe(e=>{e?(this.selHub.name=t.name,this.localUpd(),this.dataServ.passDataSend("hub-upd"),this.toastr.success(e.message||"Hub updated successfully","Success!"),this.disMissMdodal()):this.toastr.error(e.result.data||"Unable to update Hub","Error!"),this.disabled=!1},t=>{this.disabled=!1})}actDeactHub(){let t=this.selHub.isActive?"deactivate":"activate",e=!this.selHub.isActive;this.dialog.open(a.a,{data:{msg:`Are you sure you want to ${t} this hub?`,title:(this.selHub.isActive?"Deactivate":"Activate")+" hub"},autoFocus:!1}).afterClosed().subscribe(i=>{i&&this.divServ.actDeactHub(this.selHub.id.toString(),e).subscribe(i=>{i?(this.selHub.isActive=e,this.localUpd(),this.dataServ.passDataSend("hub-upd"),this.toastr.success(`Hub ${t}d successfully`,"Success!")):this.toastr.error(`Unable to ${t} hub`,"Error!")},t=>{})})}localUpd(){const t=this.hubs.findIndex(t=>t.id==this.selHub.id);t>=0&&(this.hubs[t]=this.selHub)}disMissMdodal(){this.modalService&&this.modalService.dismissAll()}ngOnDestroy(){this.disMissMdodal()}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(b.a),r.Nb(o.a),r.Nb(c.f),r.Nb(s.d),r.Nb(n.b),r.Nb(d.a),r.Nb(l.a),r.Nb(u.b))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-division"]],decls:8,vars:2,consts:[[3,"type",4,"ngIf"],["class","main main-hub p-3",4,"ngIf"],["addDivision",""],["updateGroups",""],["promoteMember",""],[3,"type"],[1,"main","main-hub","p-3"],[1,"mb-4","clearfix","heading"],[1,"float-left"],[1,"dropdown"],["id","divisionsDD","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"curs-ptr","dropdown-toggle"],["aria-labelledby","divisionsDD",1,"dropdown-menu"],[4,"ngIf","ngIfElse"],["noHubs",""],[1,"dropdown-divider"],["class","dropdown-item text-primary curs-ptr",3,"click",4,"ngIf"],["class","float-right",4,"ngIf"],[1,"mt-2","row"],[1,"col-xl-4"],[1,"card"],[1,"card-header"],[1,"float-right"],[1,"fas","fa-edit","curs-ptr",3,"click"],[1,"card-body"],[1,"assigned-group","my-1"],[1,"badge","badge-primary","mr-2"],[1,"fas","fa-user-friends"],[1,"col-xl-8","mt-3","mt-xl-0"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"table","table-hover","text-dark","w-100"],["scope","col"],["class","dropdown-item curs-ptr",3,"click",4,"ngFor","ngForOf"],[1,"dropdown-item","curs-ptr",3,"click"],[1,"dropdown-item","text-secondary"],[1,"dropdown-item","text-primary","curs-ptr",3,"click"],["type","button","id","cogDD","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-light","dropdown-toggle"],[1,"fa","fa-cog"],["aria-labelledby","cogDD",1,"dropdown-menu"],[3,"click"],[1,"mr-1","fas",3,"ngClass"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["name","hubForm","novalidate","",3,"formGroup","ngSubmit"],["ngbAutofocus","",1,"modal-body"],["appearance","outline",1,"w-100"],["matInput","","type","text","placeholder","Name","formControlName","name","maxlength","100","required",""],[4,"ngIf"],[1,"ml-3","w-100"],[1,"font-weight-bold","mb-2"],[1,"d-block","ml-3"],[1,"modal-footer"],[1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-primary",3,"click"],[1,"modal-body"],["value","abc"],[1,"contnt"],[1,"collab"],[1,"userMngmnt"],[1,"reporting"],[1,"settings"]],template:function(t,e){1&t&&(r.Kc(0,v,1,1,"app-loader",0),r.Kc(1,N,82,5,"div",1),r.Kc(2,x,32,6,"ng-template",null,2,r.Lc),r.Kc(4,P,22,0,"ng-template",null,3,r.Lc),r.Kc(6,C,44,0,"ng-template",null,4,r.Lc)),2&t&&(r.pc("ngIf",e.loading),r.Ab(1),r.pc("ngIf",!e.loading))},directives:[h.m,p.a,h.l,h.k,s.w,s.n,s.g,m.c,m.g,f.b,s.c,s.m,s.f,s.i,s.t,g.a,m.b,S.a,T.j],styles:["@media (max-width:600px){table.table[_ngcontent-%COMP%]{font-size:10px}}"]}),t})()},lAA9:function(t,e,i){"use strict";i.d(e,"a",(function(){return U}));var s=i("3Pt+"),a=i("XNiG"),r=i("1G5W"),b=i("s0Cq"),o=i("NpNY"),c=i("cgH4"),n=i("fUzB"),d=i("fXoL"),l=i("tyNb"),u=i("1kSV"),h=i("5eHb"),p=i("Qr3z"),m=i("VGjC"),f=i("p0iN"),g=i("ofXK"),S=i("668k"),T=i("Qu3c"),v=i("kmnG"),M=i("qFsG"),y=i("d3UM"),A=i("FKr1");function I(t,e){1&t&&d.Ob(0,"app-loader",3),2&t&&d.pc("type","page")}function k(t,e){if(1&t){const t=d.Ub();d.Tb(0,"div",4),d.Tb(1,"h3",5),d.Mc(2," Profile "),d.Sb(),d.Tb(3,"div",6),d.Tb(4,"div",7),d.Tb(5,"div",8),d.Tb(6,"div",9),d.Tb(7,"div",10),d.Mc(8," My User Profile "),d.Tb(9,"div",11),d.Tb(10,"i",12),d.ec("click",(function(){d.Bc(t);const e=d.ic(),i=d.xc(3);return e.openModal(i)})),d.Sb(),d.Sb(),d.Sb(),d.Tb(11,"div",13),d.Tb(12,"div",14),d.Tb(13,"div",15),d.Mc(14,"Name"),d.Sb(),d.Tb(15,"div",16),d.Mc(16),d.Sb(),d.Sb(),d.Tb(17,"div",14),d.Tb(18,"div",15),d.Mc(19,"Email"),d.Sb(),d.Tb(20,"div",16),d.Mc(21),d.Sb(),d.Sb(),d.Tb(22,"div",14),d.Tb(23,"div",15),d.Mc(24,"Language"),d.Sb(),d.Tb(25,"div",16),d.Mc(26),d.Sb(),d.Sb(),d.Tb(27,"div",14),d.Tb(28,"div",15),d.Mc(29,"Time Zone"),d.Sb(),d.Tb(30,"div",16),d.Mc(31),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Tb(32,"div",17),d.Tb(33,"div",9),d.Tb(34,"div",10),d.Mc(35," Password "),d.Tb(36,"div",11),d.Tb(37,"i",18),d.ec("click",(function(){return d.Bc(t),d.ic().openModal("","chng-pass")})),d.Sb(),d.Sb(),d.Sb(),d.Tb(38,"div",13),d.Tb(39,"div",14),d.Tb(40,"div",16),d.Mc(41,"Password"),d.Sb(),d.Tb(42,"div",16),d.Mc(43,"********"),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb()}if(2&t){const t=d.ic();d.Ab(16),d.Nc(t.usrInfo.name),d.Ab(5),d.Nc(t.usrInfo.email||"N/A"),d.Ab(5),d.Nc(t.usrInfo.languageId&&t.lngs[t.usrInfo.languageId]?t.lngs[t.usrInfo.languageId]:"N/A"),d.Ab(5),d.Nc(t.usrInfo.timeZone||"N/A")}}function w(t,e){1&t&&(d.Tb(0,"mat-error"),d.Mc(1,"> First Name is required "),d.Sb())}function N(t,e){1&t&&(d.Tb(0,"mat-error"),d.Mc(1," Last Name is required "),d.Sb())}function H(t,e){1&t&&(d.Tb(0,"mat-error"),d.Mc(1," Email required "),d.Sb())}function F(t,e){1&t&&(d.Tb(0,"mat-error"),d.Mc(1," Please enter a valid email address "),d.Sb())}function x(t,e){if(1&t&&(d.Tb(0,"mat-option",36),d.Mc(1),d.Sb()),2&t){const t=e.$implicit;d.pc("value",t.v),d.Ab(1),d.Nc(t.n)}}function P(t,e){1&t&&(d.Tb(0,"mat-error"),d.Mc(1," Language is required "),d.Sb())}function C(t,e){1&t&&d.Ob(0,"app-loader",3),2&t&&d.pc("type","btn")}function O(t,e){if(1&t){const t=d.Ub();d.Tb(0,"div",19),d.Tb(1,"h4",20),d.Mc(2,"Edit Profile Details"),d.Sb(),d.Tb(3,"button",21),d.ec("click",(function(){return e.$implicit.dismiss("Cross click")})),d.Tb(4,"span",22),d.Mc(5,"\xd7"),d.Sb(),d.Sb(),d.Sb(),d.Tb(6,"form",23),d.ec("ngSubmit",(function(){return d.Bc(t),d.ic().updProfile()})),d.Tb(7,"div",24),d.Tb(8,"mat-form-field",25),d.Tb(9,"mat-label"),d.Mc(10,"First Name"),d.Sb(),d.Ob(11,"input",26),d.Kc(12,w,2,0,"mat-error",27),d.Sb(),d.Tb(13,"mat-form-field",25),d.Tb(14,"mat-label"),d.Mc(15,"Last Name"),d.Sb(),d.Ob(16,"input",28),d.Kc(17,N,2,0,"mat-error",27),d.Sb(),d.Tb(18,"mat-form-field",25),d.Tb(19,"mat-label"),d.Mc(20,"Email"),d.Sb(),d.Ob(21,"input",29),d.Kc(22,H,2,0,"mat-error",27),d.Kc(23,F,2,0,"mat-error",27),d.Sb(),d.Tb(24,"mat-form-field",25),d.Tb(25,"mat-label"),d.Mc(26,"Language"),d.Sb(),d.Tb(27,"mat-select",30),d.Kc(28,x,2,2,"mat-option",31),d.Sb(),d.Kc(29,P,2,0,"mat-error",27),d.Sb(),d.Tb(30,"mat-form-field",25),d.Tb(31,"mat-label"),d.Mc(32,"Time Zone"),d.Sb(),d.Tb(33,"mat-select",32),d.Tb(34,"mat-option",33),d.Mc(35,"abc"),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Tb(36,"div",34),d.Tb(37,"button",35),d.Kc(38,C,1,1,"app-loader",0),d.Mc(39," Update Profile "),d.Sb(),d.Sb(),d.Sb()}if(2&t){const t=d.ic();d.Ab(6),d.pc("formGroup",t.profForm),d.Ab(6),d.pc("ngIf",t.profForm.get("firstName").hasError("required")),d.Ab(5),d.pc("ngIf",t.profForm.get("lastName").hasError("required")),d.Ab(5),d.pc("ngIf",t.profForm.get("email").hasError("required")),d.Ab(1),d.pc("ngIf",!t.profForm.get("email").hasError("required")&&t.profForm.get("email").hasError("invalidEmail")),d.Ab(5),d.pc("ngForOf",t.lngArr),d.Ab(1),d.pc("ngIf",t.profForm.get("languageId").hasError("required")),d.Ab(8),d.pc("disabled",t.profForm.invalid||t.profLoading),d.Ab(1),d.pc("ngIf",t.profLoading)}}let U=(()=>{class t{constructor(t,e,i,s,r,o,c,n){this.route=t,this.router=e,this.modalService=i,this.fb=s,this.toastr=r,this.pswdServ=o,this.usrServ=c,this.tokenDataServ=n,this.passLoading=!1,this.profLoading=!1,this.hidePass=!0,this.hideCPass=!0,this.hideCurPass=!0,this.lngs=b.i,this.loading=!1,this._unsubscribeAll=new a.a}ngOnInit(){this.loading=!0;let t=this.router.url.split("/");this.lngArr=c.a.enumToArray(this.lngs),t&&t.length>0&&"account"==t[t.length-1]&&this.router.navigate(["account/profile"]),this.usrInfo=this.tokenDataServ.getUser(),this.usrInfo&&this.usrInfo.id?(this.initForm(),this.getProfile()):(this.tokenDataServ.remTkn(),this.toastr.error("Please login again","Error!"),this.router.navigate(["auth/login"],{queryParams:{redirect_uri:window.location.href}}))}initForm(){this.profForm=this.fb.group({firstName:["",s.u.required],lastName:["",[s.u.required]],email:["",[s.u.required,o.a.emailValidator]],languageId:["",[s.u.required]],timeZone:["",[s.u.required]]}),this.chngPassForm=this.fb.group({currPswd:["",s.u.required],pswd:["",s.u.required],confirmPswd:["",[s.u.required,o.a.MatchPassword]]}),this.chngPassForm.get("pswd").valueChanges.pipe(Object(r.a)(this._unsubscribeAll)).subscribe(()=>{this.chngPassForm.get("confirmPswd").updateValueAndValidity()})}getProfile(){this.usrServ.viewEmpl(this.usrInfo.id.toString()).subscribe(t=>{t&&t.result&&t.result.id&&(this.usrInfo=t.result,this.setUsrData()),this.loading=!1},t=>{this.loading=!1})}setUsrData(){this.usrInfo.name=this.usrInfo.firstName?this.usrInfo.lastName?this.usrInfo.firstName+" "+this.usrInfo.lastName:this.usrInfo.firstName:"N/A",this.usrInfo.languageId=this.usrInfo.language&&this.usrInfo.language.id?this.usrInfo.language.id:"",this.profForm.patchValue(Object.assign({},this.usrInfo))}changePassword(){this.chngPassForm.valid&&(this.passLoading=!0,this.pswdServ.changePassword({currentPassword:this.chngPassForm.value.currPswd,newPassword:this.chngPassForm.value.pswd}).subscribe(t=>{t&&(this.toastr.success(t.message||"Password changed successfully","Success!"),this.disMissMdodal()),this.passLoading=!1},t=>{this.passLoading=!1}))}updProfile(){if(this.profForm.valid){this.profLoading=!0;let t=Object.assign(Object.assign({},this.profForm.value),{id:this.usrInfo.id});this.usrServ.updateEmpl(t).subscribe(t=>{t&&(this.toastr.success(t.message||"User profile updated successfully","Success!"),this.disMissMdodal()),this.profLoading=!1},t=>{this.profLoading=!1})}}openModal(t,e){this.modalService.open(e?n.a:t,{ariaLabelledBy:"modal-basic-title",size:"lg"}).result.then(t=>{},t=>{})}disMissMdodal(){this.modalService&&this.modalService.dismissAll()}ngOnDestroy(){this.disMissMdodal()}}return t.\u0275fac=function(e){return new(e||t)(d.Nb(l.a),d.Nb(l.d),d.Nb(u.f),d.Nb(s.d),d.Nb(h.b),d.Nb(p.a),d.Nb(m.a),d.Nb(f.a))},t.\u0275cmp=d.Hb({type:t,selectors:[["app-profile"]],decls:4,vars:2,consts:[[3,"type",4,"ngIf"],["class","main main-hub p-3",4,"ngIf"],["editProfile",""],[3,"type"],[1,"main","main-hub","p-3"],[1,"mb-4","clearfix","heading"],[1,"mt-2"],[1,"main-tab-nav","row"],[1,"col-lg-7"],[1,"card"],[1,"card-header"],[1,"float-right"],["matTooltip","Edit Profile",1,"fas","fa-edit","curs-ptr",3,"click"],[1,"card-body"],[1,"row","px-4","my-1"],[1,"col","font-weight-bold"],[1,"col"],[1,"col-lg-5","mt-3","mt-lg-0"],["matTooltip","Edit Password",1,"fas","fa-edit","curs-ptr",3,"click"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["name","profForm","novalidate","",3,"formGroup","ngSubmit"],["ngbAutofocus","",1,"modal-body"],["appearance","outline",1,"w-100"],["matInput","","type","text","placeholder","First Name","formControlName","firstName","maxlength","50","required",""],[4,"ngIf"],["matInput","","type","text","placeholder","Last Name","formControlName","lastName","maxlength","50","required",""],["matInput","","type","text","placeholder","Email","formControlName","email","maxlength","100","required",""],["formControlName","languageId","required",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","timeZone"],["value","abc"],[1,"modal-footer"],[1,"btn","btn-primary",3,"disabled"],[3,"value"]],template:function(t,e){1&t&&(d.Kc(0,I,1,1,"app-loader",0),d.Kc(1,k,44,4,"div",1),d.Kc(2,O,40,9,"ng-template",null,2,d.Lc)),2&t&&(d.pc("ngIf",e.loading),d.Ab(1),d.pc("ngIf",!e.loading&&e.usrInfo))},directives:[g.m,S.a,T.a,s.w,s.n,s.g,v.c,v.g,M.b,s.c,s.m,s.f,s.i,s.t,y.a,g.l,A.j,v.b],styles:[""]}),t})()},nWY6:function(t,e,i){"use strict";i.r(e),i.d(e,"SettingModule",(function(){return S}));var s=i("ofXK"),a=i("tyNb"),r=i("wZkO"),b=i("pLZG"),o=i("lJxs"),c=i("5+tZ"),n=i("fXoL"),d=i("lAA9"),l=i("bUhK");function u(t,e){1&t&&(n.Tb(0,"span"),n.Ob(1,"app-profile"),n.Sb())}function h(t,e){1&t&&(n.Tb(0,"span"),n.Ob(1,"app-division"),n.Sb())}let p=(()=>{class t{constructor(t,e){this.route=t,this.router=e}ngOnInit(){this.routerSubs=this.router.events.pipe(Object(b.a)(t=>t instanceof a.c),Object(o.a)(()=>this.route),Object(o.a)(t=>{for(;t.firstChild;)t=t.firstChild;return t}),Object(c.a)(t=>t.paramMap)).subscribe(t=>{this.checkAndGet()}),this.checkAndGet()}checkAndGet(){this.activeIndex=this.route.snapshot.firstChild.data.type}onTabChange(t){switch(t.index){case 0:this.router.navigate(["account/profile"]);break;case 1:this.router.navigate(["account/hubs/list"])}}ngOnDestroy(){this.routerSubs&&this.routerSubs.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(n.Nb(a.a),n.Nb(a.d))},t.\u0275cmp=n.Hb({type:t,selectors:[["app-setting"]],hostAttrs:[1,"w-100"],decls:5,vars:3,consts:[[3,"selectedIndex","selectedTabChange"],["label","Profile"],[4,"ngIf"],["label","Hubs"]],template:function(t,e){1&t&&(n.Tb(0,"mat-tab-group",0),n.ec("selectedTabChange",(function(t){return e.onTabChange(t)})),n.Tb(1,"mat-tab",1),n.Kc(2,u,2,0,"span",2),n.Sb(),n.Tb(3,"mat-tab",3),n.Kc(4,h,2,0,"span",2),n.Sb(),n.Sb()),2&t&&(n.pc("selectedIndex",e.activeIndex),n.Ab(2),n.pc("ngIf",0==e.activeIndex),n.Ab(2),n.pc("ngIf",1==e.activeIndex))},directives:[r.b,r.a,s.m,d.a,l.a],styles:[""]}),t})();var m=i("TTCX"),f=i("FvCg");const g=[{path:"",redirectTo:"hubs/list",pathMatch:"full"},{path:"",component:p,children:[{path:"profile",loadChildren:()=>Promise.resolve().then(i.bind(null,"FvCg")).then(t=>t.ProfileModule),data:{type:0}},{path:"hubs/list",loadChildren:()=>Promise.resolve().then(i.bind(null,"TTCX")).then(t=>t.DivisionModule),data:{type:1}}]}];let S=(()=>{class t{}return t.\u0275mod=n.Lb({type:t}),t.\u0275inj=n.Kb({factory:function(e){return new(e||t)},imports:[[s.c,a.h.forChild(g),r.f,f.ProfileModule,m.DivisionModule]]}),t})()},vLBh:function(t,e,i){"use strict";i.d(e,"a",(function(){return b}));var s=i("aZQB"),a=i("fXoL"),r=i("tk/3");let b=(()=>{class t{constructor(t){this.http=t}addHub(t){return this.http.post(""+s.a.ADD_HUB,t)}updHub(t){return this.http.put(""+s.a.UPD_HUB,t)}actDeactHub(t,e){return this.http.patch(`${e?s.a.ACT_HUB:s.a.DEACT_HUB}?id=${t}`,{})}}return t.\u0275fac=function(e){return new(e||t)(a.bc(r.b))},t.\u0275prov=a.Jb({token:t,factory:t.\u0275fac}),t})()}}]);