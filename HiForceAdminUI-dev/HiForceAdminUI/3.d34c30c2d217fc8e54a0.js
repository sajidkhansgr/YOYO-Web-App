(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{Amnm:function(t,e,i){"use strict";i.d(e,"a",(function(){return u}));var n=i("ofXK"),r=i("3Pt+"),s=i("kmnG"),a=i("qFsG"),o=i("bSwM"),c=i("A5z7"),l=i("T/Ok"),d=i("liE0"),b=i("zJym"),h=i("CFzk"),p=i("fXoL");let u=(()=>{class t{}return t.\u0275mod=p.Lb({type:t}),t.\u0275inj=p.Kb({factory:function(e){return new(e||t)},providers:[l.a,d.a,h.a],imports:[[n.c,r.h,r.s,s.e,a.c,o.b,c.e,b.a]]}),t})()},CFzk:function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var n=i("tk/3"),r=i("lJxs"),s=i("aZQB"),a=i("fXoL");let o=(()=>{class t{constructor(t){this.http=t}addContentColctn(t){return this.http.post(""+s.a.ADD_CONTENT_COLCT,t)}delContentColctn(t){return this.http.post(""+s.a.REM_CONTENT_COLCT,t)}getContentColctn(t){return this.http.get(`${s.a.GET_CONTENT_COLCT}?id=${t}`)}colctnList(t){let e=new n.e;for(let i in t)(t[i]||"pageNo"==i||"isActive"==i)&&(e=e.set(i,t[i]));return this.http.get(""+s.a.LIST_COLCT,{params:e}).pipe(Object(r.a)(t=>t))}actDeactColctn(t,e){return this.http.post(""+(e?s.a.ACT_COLCT:s.a.DEACT_COLCT),t)}getColctn(t){return this.http.get(`${s.a.GET_COLCT}?id=${t}`)}rearrCntntColl(t){return this.http.post(""+s.a.REARR_CNTNT_COLCT,t)}}return t.\u0275fac=function(e){return new(e||t)(a.bc(n.b))},t.\u0275prov=a.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"E/a4":function(t,e,i){"use strict";i.d(e,"a",(function(){return I}));var n=i("vLcq"),r=i("s0Cq"),s=i("3Pt+"),a=i("c2Mc"),o=i("fXoL"),c=i("1kSV"),l=i("CFzk"),d=i("5eHb"),b=i("liE0"),h=i("ofXK"),p=i("kmnG"),u=i("qFsG"),f=i("bSwM"),m=i("668k");function g(t,e){1&t&&(o.Tb(0,"mat-error"),o.Mc(1," Name is required "),o.Sb())}function v(t,e){1&t&&o.Ob(0,"app-loader",28),2&t&&o.pc("type","div")}function S(t,e){if(1&t&&(o.Tb(0,"div",39),o.Mc(1),o.Sb()),2&t){const t=o.ic().$implicit;o.Ab(1),o.Oc("Page ",t.pageNo,"")}}function C(t,e){if(1&t){const t=o.Ub();o.Tb(0,"div",31),o.Tb(1,"div",32),o.Ob(2,"img",33),o.Sb(),o.Tb(3,"div",34),o.Tb(4,"div",35),o.Mc(5),o.Sb(),o.Kc(6,S,2,1,"div",36),o.Sb(),o.Tb(7,"div",37),o.Tb(8,"i",38),o.ec("click",(function(){o.Bc(t);const i=e.$implicit;return o.ic(3).removeMe(i)})),o.Sb(),o.Sb(),o.Sb()}if(2&t){const t=e.$implicit,i=o.ic(3);o.Ab(2),o.pc("src",i.getImg(t),o.Dc),o.Ab(3),o.Nc(t.name),o.Ab(1),o.pc("ngIf",t.pageNo)}}function T(t,e){if(1&t&&(o.Tb(0,"div",29),o.Kc(1,C,9,3,"div",30),o.Sb()),2&t){const t=o.ic(2);o.Ab(1),o.pc("ngForOf",t.viewSel)}}function A(t,e){if(1&t){const t=o.Ub();o.Rb(0),o.Tb(1,"mat-form-field",12),o.Tb(2,"mat-label"),o.Mc(3,"Name"),o.Sb(),o.Ob(4,"input",13),o.Kc(5,g,2,0,"mat-error",14),o.Sb(),o.Tb(6,"mat-checkbox",15),o.Mc(7,"Allow downloads"),o.Sb(),o.Tb(8,"div",16),o.Tb(9,"div",17),o.Mc(10,"Resources"),o.Sb(),o.Sb(),o.Tb(11,"div",18),o.Tb(12,"div",19),o.Tb(13,"div",20),o.Tb(14,"mat-form-field",21),o.Ob(15,"i",22),o.Ob(16,"input",23),o.Sb(),o.Sb(),o.Tb(17,"div",24),o.Tb(18,"div",25),o.ec("click",(function(){return o.Bc(t),o.ic().openRsrcModal()})),o.Ob(19,"i",26),o.Mc(20,"Add resource "),o.Sb(),o.Sb(),o.Sb(),o.Kc(21,v,1,1,"app-loader",10),o.Kc(22,T,2,1,"div",27),o.Sb(),o.Qb()}if(2&t){const t=o.ic();o.Ab(5),o.pc("ngIf",t.linkForm.get("name").hasError("required")),o.Ab(9),o.pc("floatLabel","never"),o.Ab(7),o.pc("ngIf",t.loading),o.Ab(1),o.pc("ngIf",!t.loading)}}function y(t,e){if(1&t){const t=o.Ub();o.Tb(0,"div",40),o.Ob(1,"input",41,42),o.Tb(3,"div",43),o.ec("click",(function(){o.Bc(t);const e=o.xc(2);return o.ic().copyLink(e)})),o.Mc(4,"Copy Link"),o.Sb(),o.Sb()}if(2&t){const t=o.ic();o.Ab(1),o.qc("value",t.link)}}function k(t,e){1&t&&o.Ob(0,"app-loader",28),2&t&&o.pc("type","btn")}function w(t,e){if(1&t){const t=o.Ub();o.Tb(0,"button",44),o.ec("click",(function(){return o.Bc(t),o.ic().modalRef.dismiss()})),o.Mc(1,"Done"),o.Sb()}}let I=(()=>{class t{constructor(t,e,i,n,s,a){this.modalRef=t,this.modalService=e,this.colctnSrv=i,this.toastr=n,this.fb=s,this.shareSrv=a,this.defImg=r.b,this.copyLink=t=>{t.select(),t.setSelectionRange(0,99999),document.execCommand("copy"),this.toastr.success("Link copied","Copied!")}}ngOnInit(){this.initialiseState()}initialiseState(){if(this.viewSel=[],this.viewMe=!0,this.link="",this.disabled=!1,this.loading=!0,this.viewSel=[],this.linkForm=this.fb.group({name:["abc",[s.u.required]]}),this.data)if("collection"===this.type)this.getCntntByClctn(this.data.id);else if("content"===this.type)this.loading=!1,this.viewSel=Array.isArray(this.data)?[...this.data]:[this.data];else if("multi-collection"===this.type)for(let t=0;t<this.data.length;t++)this.getCntntByClctn(this.data[t]);this.linkForm=this.fb.group({name:["",[s.u.required]],allowDownload:[!0]})}getImg(t){return a.a.getImg(t,"icon")}openRsrcModal(){this.modalService.open(n.a,{size:"lg"}).result.then(t=>{t&&this.viewSel.push(...t)})}removeMe(t){this.viewSel=this.viewSel.filter(e=>t.contentId&&t.contentId==e.contentId?t.pageNo||e.pageNo?e.pageNo!==t.pageNo:e.contentId!==t.contentId:!t.id||t.id!=e.id||(t.pageNo||e.pageNo?e.pageNo!==t.pageNo:e.id!==t.id))}getCntntByClctn(t){this.colctnSrv.getContentColctn(t).subscribe(t=>{t&&t.result&&Array.isArray(t.result)?this.viewSel.push(...t.result):(this.toastr.error(t.message||"Something went wrong","Error!"),this.modalRef.dismiss()),this.loading=!1},t=>{this.loading=!1,this.modalRef.dismiss()})}rsrcBtn(t){"done"==t?this.getContentLink():"change"==t&&this.removeLink()}getContentLink(){this.disabled=!0;let t=Object.assign(Object.assign({},this.linkForm.value),{shareContents:[]});for(let e=0;e<this.viewSel.length;e++)t.shareContents.push({contentId:this.viewSel[e].contentId?this.viewSel[e].contentId:this.viewSel[e].id,pageNumber:this.viewSel[e].pageNo||0});this.shareSrv.addShare(t).subscribe(t=>{t&&t.result?(this.link=t.result,this.viewMe=!1):(this.toastr.error(t.message||"Something went wrong","Error!"),this.viewMe=!0),this.disabled=!1},t=>{this.viewMe=!0,this.disabled=!1})}removeLink(){this.disabled=!0;let t=this.link.split("/")[this.link.split("/").length-1];this.shareSrv.delLink(t).subscribe(t=>{t?(this.link="",this.viewMe=!0):this.toastr.error(t.message||"Something went wrong","Error!"),this.disabled=!1},t=>{this.link="",this.disabled=!1})}}return t.\u0275fac=function(e){return new(e||t)(o.Nb(c.b),o.Nb(c.f),o.Nb(l.a),o.Nb(d.b),o.Nb(s.d),o.Nb(b.a))},t.\u0275cmp=o.Hb({type:t,selectors:[["app-get-link"]],inputs:{type:"type",data:"data"},decls:16,vars:10,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["name","linkForm",3,"formGroup"],["ngbAutofocus","",1,"modal-body"],[4,"ngIf","ngIfElse"],["elseNotMe",""],[1,"modal-footer"],["type","button",3,"disabled","click"],[3,"type",4,"ngIf"],["type","button","class","btn btn-primary",3,"click",4,"ngIf"],["appearance","outline",1,"w-100"],["type","text","matInput","","placeholder","Name","formControlName","name","required",""],[4,"ngIf"],["formControlName","allowDownload",1,"ml-3"],[1,"bg-hi-grey","p-2","rounded","d-flex","mt-3"],[1,"ml-3","align-self-center"],[1,"rounded","border","m-2","p-2"],[1,"row","mt-2"],[1,"col-8"],["appearance","outline",1,"custom-mat-input","w-100","mb-2",3,"floatLabel"],["matPrefix","",1,"fas","fa-search"],["matInput","","placeholder","Search Content"],[1,"col-4"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-file-medical","mr-1"],["class","view-selected",4,"ngIf"],[3,"type"],[1,"view-selected"],["class","d-flex bg-hi-grey border rounded px-3 py-1 my-2",4,"ngFor","ngForOf"],[1,"d-flex","bg-hi-grey","border","rounded","px-3","py-1","my-2"],[1,"align-self-center"],[3,"src"],[1,"ml-2","align-self-center","w-75"],[1,"text-truncate"],["class","text-secondary",4,"ngIf"],[1,"ml-auto","align-self-center"],[1,"fas","fa-trash-alt","curs-ptr",3,"click"],[1,"text-secondary"],[1,"d-flex","px-4","py-3"],["type","text","readonly","",1,"w-75",3,"value"],["copyMe",""],[1,"btn","btn-primary","ml-auto",3,"click"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(t,e){if(1&t&&(o.Tb(0,"div",0),o.Tb(1,"h4",1),o.Mc(2,"Get a Link"),o.Sb(),o.Tb(3,"button",2),o.ec("click",(function(){return e.modalRef.dismiss("Cross click")})),o.Tb(4,"span",3),o.Mc(5,"\xd7"),o.Sb(),o.Sb(),o.Sb(),o.Tb(6,"form",4),o.Tb(7,"div",5),o.Kc(8,A,23,4,"ng-container",6),o.Kc(9,y,5,1,"ng-template",null,7,o.Lc),o.Sb(),o.Tb(11,"div",8),o.Tb(12,"button",9),o.ec("click",(function(){return e.rsrcBtn(e.viewMe?"done":"change")})),o.Kc(13,k,1,1,"app-loader",10),o.Mc(14),o.Sb(),o.Kc(15,w,2,0,"button",11),o.Sb(),o.Sb()),2&t){const t=o.xc(10);o.Ab(6),o.pc("formGroup",e.linkForm),o.Ab(2),o.pc("ngIf",e.viewMe)("ngIfElse",t),o.Ab(4),o.Db("btn btn-",e.viewMe?"primary":"secondary",""),o.pc("disabled",e.linkForm.invalid||e.disabled||0==e.viewSel.length),o.Ab(1),o.pc("ngIf",e.disabled),o.Ab(1),o.Oc(" ",e.viewMe?"Next":"Back"," "),o.Ab(1),o.pc("ngIf",!e.viewMe)}},directives:[s.w,s.n,s.g,h.m,p.c,p.g,u.b,s.c,s.m,s.f,s.t,f.a,p.h,p.b,m.a,h.l],styles:[".view-selected[_ngcontent-%COMP%]   .bg-hi-grey[_ngcontent-%COMP%]{min-height:3.45rem}.view-selected[_ngcontent-%COMP%]   .bg-hi-grey[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:2rem;max-height:3rem}.view-selected[_ngcontent-%COMP%]   .bg-hi-grey[_ngcontent-%COMP%]   .text-secondary[_ngcontent-%COMP%]{font-size:12px}"]}),t})()},FGg4:function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var n=i("tk/3"),r=i("lJxs"),s=i("aZQB"),a=i("fXoL");let o=(()=>{class t{constructor(t){this.http=t}freezeFormObj(t){const e=new FormData;for(let i in t)if(t[i]||"IsUrl"===i)if("mulFile"===i){if(t[i]&&t[i].length>0)for(let n=0;n<t[i].length;n++)e.append("Contents",t[i][n],t[i][n].name)}else e.append(i,t[i]);return e}myFiles(t){let e=new n.e;for(let i in t)t[i]&&(e=e.set(i,t[i]));return this.http.get(""+s.a.MY_FILES,{params:e}).pipe(Object(r.a)(t=>t))}addFldr(t){return this.http.post(""+s.a.ADD_FLDR_EMPL,t)}updFldr(t){return this.http.post(""+s.a.UPD_FLDR_EMPL,t)}addMyCntnt(t){return this.http.post(""+s.a.ADD_CNTNT_EMPL,this.freezeFormObj(t))}procesMyData(){return this.http.get(""+s.a.PROC_CNTNT_EMPL)}}return t.\u0275fac=function(e){return new(e||t)(a.bc(n.b))},t.\u0275prov=a.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},IpHC:function(t,e,i){"use strict";i.d(e,"a",(function(){return b}));var n=i("3Pt+"),r=i("ofXK"),s=i("kmnG"),a=i("qFsG"),o=i("bSwM"),c=i("CFzk"),l=i("zJym"),d=i("fXoL");let b=(()=>{class t{}return t.\u0275mod=d.Lb({type:t}),t.\u0275inj=d.Kb({factory:function(e){return new(e||t)},providers:[c.a],imports:[[r.c,s.e,a.c,o.b,l.a,n.h,n.s]]}),t})()},"OQ+D":function(t,e,i){"use strict";i.d(e,"a",(function(){return P}));var n=i("3Pt+"),r=i("FtGj"),s=i("vLcq"),a=i("s0Cq"),o=i("NpNY"),c=i("c2Mc"),l=i("fXoL"),d=i("1kSV"),b=i("T/Ok"),h=i("5eHb"),p=i("liE0"),u=i("CFzk"),f=i("kmnG"),m=i("A5z7"),g=i("ofXK"),v=i("qFsG"),S=i("bSwM"),C=i("668k");function T(t,e){if(1&t){const t=l.Ub();l.Tb(0,"mat-chip",29),l.ec("removed",(function(){l.Bc(t);const i=e.$implicit;return l.ic().removeChip(i)})),l.Mc(1),l.Ob(2,"i",30),l.Sb()}if(2&t){const t=e.$implicit;l.Ab(1),l.Oc(" ",t," ")}}function A(t,e){1&t&&(l.Tb(0,"mat-error"),l.Mc(1," Email Address is required "),l.Sb())}function y(t,e){1&t&&(l.Tb(0,"mat-error"),l.Mc(1," Please enter a valid email address "),l.Sb())}function k(t,e){1&t&&(l.Tb(0,"mat-error"),l.Mc(1," Subject is required "),l.Sb())}function w(t,e){1&t&&l.Ob(0,"app-loader",31),2&t&&l.pc("type","btn")}function I(t,e){if(1&t){const t=l.Ub();l.Tb(0,"div",32),l.Tb(1,"div",33),l.Tb(2,"mat-form-field",34),l.Ob(3,"i",35),l.Ob(4,"input",36),l.Sb(),l.Sb(),l.Tb(5,"div",37),l.Tb(6,"div",38),l.ec("click",(function(){return l.Bc(t),l.ic().openRsrcModal()})),l.Ob(7,"i",39),l.Mc(8,"Add resource "),l.Sb(),l.Sb(),l.Sb()}2&t&&(l.Ab(2),l.pc("floatLabel","never"))}function M(t,e){1&t&&l.Ob(0,"app-loader",31),2&t&&l.pc("type","div")}function O(t,e){if(1&t&&(l.Tb(0,"div",49),l.Mc(1),l.Sb()),2&t){const t=l.ic().$implicit;l.Ab(1),l.Oc("Page ",t.pageNo,"")}}function N(t,e){if(1&t){const t=l.Ub();l.Tb(0,"div",50),l.Tb(1,"i",51),l.ec("click",(function(){l.Bc(t);const e=l.ic().$implicit;return l.ic(2).removeMe(e)})),l.Sb(),l.Sb()}}function L(t,e){if(1&t&&(l.Tb(0,"div",42),l.Tb(1,"div",43),l.Ob(2,"img",44),l.Sb(),l.Tb(3,"div",45),l.Tb(4,"div",46),l.Mc(5),l.Sb(),l.Kc(6,O,2,1,"div",47),l.Sb(),l.Kc(7,N,2,0,"div",48),l.Sb()),2&t){const t=e.$implicit,i=l.ic(2);l.Ab(2),l.pc("src",i.getImg(t),l.Dc),l.Ab(3),l.Nc(t.name),l.Ab(1),l.pc("ngIf",t.pageNo),l.Ab(1),l.pc("ngIf",i.viewMe)}}function F(t,e){if(1&t&&(l.Tb(0,"div",40),l.Kc(1,L,8,4,"div",41),l.Sb()),2&t){const t=l.ic();l.Ab(1),l.pc("ngForOf",t.viewSel)}}function _(t,e){1&t&&(l.Tb(0,"mat-error"),l.Mc(1," Message is required "),l.Sb())}function D(t,e){1&t&&l.Ob(0,"app-loader",31),2&t&&l.pc("type","btn")}let P=(()=>{class t{constructor(t,e,i,n,s,o,c){this.modalRef=t,this.fb=e,this.mailSrv=i,this.toastr=n,this.modalService=s,this.shareSrv=o,this.colctnSrv=c,this.defImg=a.b,this.separatorKeysCodes=[r.g,r.c]}ngOnInit(){this.initialiseState()}initialiseState(){if(this.emailForm=this.fb.group({emailAddresses:["",[n.u.required,o.a.emailValidator]],title:["",[n.u.required]],body:["",[n.u.required]],sendMeCopy:[!1],allowDownload:[!0]}),this.disabled=!1,this.linkDisabled=!1,this.emailAddresses=[],this.viewMe=!0,this.link=void 0,this.viewSel=[],this.loading=!0,"collection"===this.type)this.getCntntByClctn(this.data.id);else if("content"===this.type)this.loading=!1,this.viewSel=Array.isArray(this.data)?[...this.data]:[this.data];else if("multi-collection"===this.type)for(let t=0;t<this.data.length;t++)this.getCntntByClctn(this.data[t])}getImg(t){return c.a.getImg(t,"icon")}openRsrcModal(){this.modalService.open(s.a,{size:"lg"}).result.then(t=>{t&&this.viewSel.push(...t)})}removeMe(t){this.viewSel=this.viewSel.filter(e=>t.contentId&&t.contentId==e.contentId?t.pageNo||e.pageNo?e.pageNo!==t.pageNo:e.contentId!==t.contentId:!t.id||t.id!=e.id||(t.pageNo||e.pageNo?e.pageNo!==t.pageNo:e.id!==t.id))}sendMail(){if(this.emailForm.valid){this.disabled=!0;let t=Object.assign(Object.assign({},this.emailForm.value),{sendMeCopy:this.emailForm.get("sendMeCopy").value,emailAddresses:this.emailAddresses});t.body+=`\n      <br />\n      <br />\n      Attached Link: <a href="${this.link.link}">${this.link.name}</a>\n      `,this.mailSrv.sendMail(t).subscribe(t=>{t&&t.result?this.toastr.success(t.result||"Email sent successfully","Success!"):this.toastr.error(t.result||"Email not sent","Error!"),this.disabled=!1,this.modalRef.dismiss()},t=>{this.disabled=!1,this.modalRef.dismiss()})}}addChips(t){const e=t.input,i=t.value;(i||"").trim()&&!this.emailForm.get("emailAddresses").hasError("invalidEmail")&&this.emailAddresses.push(i.trim()),e&&!this.emailForm.get("emailAddresses").hasError("invalidEmail")&&(e.value="")}removeChip(t){const e=this.emailAddresses.indexOf(t);e>=0&&this.emailAddresses.splice(e,1)}getContentLink(){let t={allowDownload:this.emailForm.get("allowDownload").value,shareContents:[]};for(let e=0;e<this.viewSel.length;e++)t.shareContents.push({contentId:this.viewSel[e].contentId?this.viewSel[e].contentId:this.viewSel[e].id,pageNumber:this.viewSel[e].pageNo||0});this.shareSrv.addShare(t).subscribe(t=>{t&&t.result?this.link={name:this.data.name,link:t.result}:(this.toastr.error(t.message||"Something went wrong","Error!"),this.viewMe=!0),this.linkDisabled=!1},t=>{this.viewMe=!0,this.linkDisabled=!1})}removeLink(){let t=this.link.link.split("/")[this.link.link.split("/").length-1];this.shareSrv.delLink(t).subscribe(t=>{t?this.link=void 0:this.toastr.error(t.message||"Something went wrong","Error!")},t=>{this.link=void 0})}rsrcBtn(t){"done"==t?(this.viewMe=!1,this.linkDisabled=!0,this.getContentLink()):"change"==t&&(this.removeLink(),this.viewMe=!0)}getCntntByClctn(t){this.colctnSrv.getContentColctn(t).subscribe(t=>{t&&t.result&&Array.isArray(t.result)?this.viewSel.push(...t.result):(this.toastr.error(t.message||"Something went wrong","Error!"),this.modalRef.dismiss()),this.loading=!1},t=>{this.loading=!1,this.modalRef.dismiss()})}}return t.\u0275fac=function(e){return new(e||t)(l.Nb(d.b),l.Nb(n.d),l.Nb(b.a),l.Nb(h.b),l.Nb(d.f),l.Nb(p.a),l.Nb(u.a))},t.\u0275cmp=l.Hb({type:t,selectors:[["app-share-mail"]],inputs:{type:"type",data:"data"},decls:51,vars:16,consts:[[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["name","emailForm",3,"formGroup","ngSubmit"],["ngbAutofocus","",1,"modal-body"],[1,"row"],[1,"col-9","border-right"],["appearance","outline",1,"w-100"],["aria-label","Email addresses","formControlName","emailAddresses"],["emailList",""],["selectable","","removable","",3,"removed",4,"ngFor","ngForOf"],["placeholder","Add Email Addresses (Separate by comma or enter)","matChipInputAddOnBlur","","formControlName","emailAddresses",3,"matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputTokenEnd"],[4,"ngIf"],["matInput","","type","text","placeholder","Subject","formControlName","title","required",""],[1,"bg-hi-grey","p-2","rounded","d-flex"],[1,"ml-3","align-self-center"],[1,"ml-auto"],["type","button",1,"btn","btn-primary","btn-sm",3,"disabled","click"],[3,"type",4,"ngIf"],[1,"rounded","border","m-2","p-2"],["class","row mt-2",4,"ngIf"],["class","view-selected",4,"ngIf"],["matInput","","type","text","placeholder","Message","formControlName","body"],[1,"col-3"],["formControlName","allowDownload",1,"ml-2"],["formControlName","sendMeCopy",1,"ml-2"],[1,"modal-footer"],["type","submit",1,"btn","btn-primary",3,"disabled"],["selectable","","removable","",3,"removed"],["matChipRemove","",1,"fa","fa-times"],[3,"type"],[1,"row","mt-2"],[1,"col-8"],["appearance","outline",1,"custom-mat-input","w-100","mb-2",3,"floatLabel"],["matPrefix","",1,"fas","fa-search"],["matInput","","placeholder","Search Content"],[1,"col-4"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-file-medical","mr-1"],[1,"view-selected"],["class","d-flex bg-hi-grey border rounded px-3 py-1 my-2",4,"ngFor","ngForOf"],[1,"d-flex","bg-hi-grey","border","rounded","px-3","py-1","my-2"],[1,"align-self-center"],[3,"src"],[1,"ml-2","align-self-center","w-75"],[1,"text-truncate"],["class","text-secondary",4,"ngIf"],["class","ml-auto align-self-center",4,"ngIf"],[1,"text-secondary"],[1,"ml-auto","align-self-center"],[1,"fas","fa-trash-alt","curs-ptr",3,"click"]],template:function(t,e){if(1&t&&(l.Tb(0,"div",0),l.Tb(1,"h4",1),l.Mc(2,"Email"),l.Sb(),l.Tb(3,"button",2),l.ec("click",(function(){return e.modalRef.dismiss("Cross click")})),l.Tb(4,"span",3),l.Mc(5,"\xd7"),l.Sb(),l.Sb(),l.Sb(),l.Tb(6,"form",4),l.ec("ngSubmit",(function(){return e.sendMail()})),l.Tb(7,"div",5),l.Tb(8,"div",6),l.Tb(9,"div",7),l.Tb(10,"mat-form-field",8),l.Tb(11,"mat-label"),l.Mc(12,"To"),l.Sb(),l.Tb(13,"mat-chip-list",9,10),l.Kc(15,T,3,1,"mat-chip",11),l.Tb(16,"input",12),l.ec("matChipInputTokenEnd",(function(t){return e.addChips(t)})),l.Sb(),l.Sb(),l.Kc(17,A,2,0,"mat-error",13),l.Kc(18,y,2,0,"mat-error",13),l.Sb(),l.Tb(19,"mat-form-field",8),l.Tb(20,"mat-label"),l.Mc(21,"Subject"),l.Sb(),l.Ob(22,"input",14),l.Kc(23,k,2,0,"mat-error",13),l.Sb(),l.Tb(24,"div",15),l.Tb(25,"div",16),l.Mc(26,"Resources"),l.Sb(),l.Tb(27,"div",17),l.Tb(28,"button",18),l.ec("click",(function(){return e.rsrcBtn(e.viewMe?"done":"change")})),l.Kc(29,w,1,1,"app-loader",19),l.Mc(30),l.Sb(),l.Sb(),l.Sb(),l.Tb(31,"div",20),l.Kc(32,I,9,1,"div",21),l.Kc(33,M,1,1,"app-loader",19),l.Kc(34,F,2,1,"div",22),l.Sb(),l.Tb(35,"mat-form-field",8),l.Tb(36,"mat-label"),l.Mc(37,"Message"),l.Sb(),l.Ob(38,"textarea",23),l.Kc(39,_,2,0,"mat-error",13),l.Sb(),l.Sb(),l.Tb(40,"div",24),l.Tb(41,"h5"),l.Mc(42,"Sharing Settings"),l.Sb(),l.Tb(43,"mat-checkbox",25),l.Mc(44,"Allow downloads"),l.Sb(),l.Tb(45,"mat-checkbox",26),l.Mc(46,"Send me a copy"),l.Sb(),l.Sb(),l.Sb(),l.Sb(),l.Tb(47,"div",27),l.Tb(48,"button",28),l.Kc(49,D,1,1,"app-loader",19),l.Mc(50," Save "),l.Sb(),l.Sb(),l.Sb()),2&t){const t=l.xc(14);l.Ab(6),l.pc("formGroup",e.emailForm),l.Ab(9),l.pc("ngForOf",e.emailAddresses),l.Ab(1),l.pc("matChipInputFor",t)("matChipInputSeparatorKeyCodes",e.separatorKeysCodes),l.Ab(1),l.pc("ngIf",e.emailForm.get("emailAddresses").hasError("required")),l.Ab(1),l.pc("ngIf",!e.emailForm.get("emailAddresses").hasError("required")&&e.emailForm.get("emailAddresses").hasError("invalidEmail")),l.Ab(5),l.pc("ngIf",e.emailForm.get("title").hasError("required")),l.Ab(5),l.pc("disabled",e.linkDisabled||e.disabled||e.loading),l.Ab(1),l.pc("ngIf",e.linkDisabled),l.Ab(1),l.Oc(" ",e.viewMe||e.linkDisabled?"Done":"Change Resources"," "),l.Ab(2),l.pc("ngIf",e.viewMe),l.Ab(1),l.pc("ngIf",e.loading),l.Ab(1),l.pc("ngIf",!e.loading),l.Ab(5),l.pc("ngIf",e.emailForm.get("body").hasError("required")),l.Ab(9),l.pc("disabled",e.emailForm.invalid||e.disabled||e.viewMe||0==e.viewSel.length),l.Ab(1),l.pc("ngIf",e.disabled)}},directives:[n.w,n.n,n.g,f.c,f.g,m.c,n.m,n.f,g.l,n.c,m.b,g.m,v.b,n.t,S.a,m.a,m.d,f.b,C.a,f.h],styles:[".view-selected[_ngcontent-%COMP%]   .bg-hi-grey[_ngcontent-%COMP%]{min-height:3.45rem}.view-selected[_ngcontent-%COMP%]   .bg-hi-grey[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:2rem;max-height:3rem}.view-selected[_ngcontent-%COMP%]   .bg-hi-grey[_ngcontent-%COMP%]   .text-secondary[_ngcontent-%COMP%]{font-size:12px}"]}),t})()},OraM:function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var n=i("tk/3"),r=i("lJxs"),s=i("aZQB"),a=i("fXoL");let o=(()=>{class t{constructor(t){this.http=t}freezeFolderObj(t){const e=new FormData;for(let i in t)(t[i]||"IsUrl"===i||"hasIcon"===i)&&("folderIcon"===i||"content"===i||"urlIcon"===i&&t[i]&&t[i].name?e.append(i,t[i],t[i].name):e.append(i,t[i]));return e}getAllDataWrkspc(t){let e=new n.e;for(let i in t)t[i]&&(e=e.set(i,t[i]));return this.http.get(""+s.a.GET_DATA_WRKSPC,{params:e}).pipe(Object(r.a)(t=>t))}actDeactSmtFldr(t,e){return this.http.patch(`${e?s.a.ACT_SMT_FLDR:s.a.DEACT_SMT_FLDR}?id=${t}`,{})}updSmartFolder(t){return this.http.put(""+s.a.UPD_SMT_FLDR,this.freezeFolderObj(t))}addDuplSmartFolder(t,e){return this.http.post(""+(void 0===e?s.a.DUPL_SMT_FLDR:s.a.ADD_SMT_FLDR),this.freezeFolderObj(t))}getSmtFolder(t){return this.http.get(`${s.a.GET_SMT_FLDR}?id=${t}`)}actDeactFldr(t,e){return this.http.patch(`${e?s.a.ACT_FLDR:s.a.DEACT_FLDR}?id=${t}`,{})}updFolder(t){return this.http.put(""+s.a.UPD_FLDR,this.freezeFolderObj(t))}addDuplFolder(t,e){return this.http.post(""+(void 0===e?s.a.DUPL_FLDR:s.a.ADD_FLDR),this.freezeFolderObj(t))}getFolder(t){return this.http.get(`${s.a.GET_FLDR}?id=${t}`)}actDeactWrkspc(t,e){return this.http.patch(`${e?s.a.ACT_WRKSPC:s.a.DEACT_WRKSPC}?id=${t}`,{})}wrkspcList(t){let e=new n.e;for(let i in t)(t[i]||"isActive"==i)&&(e=e.set(i,t[i]));return this.http.get(""+s.a.LIST_WRKSPC,{params:e}).pipe(Object(r.a)(t=>t))}addWrkspc(t){return this.http.post(""+s.a.ADD_WRKSPC,t)}updWrkspc(t){return this.http.put(""+s.a.UPD_WRKSPC,t)}contentByFolder(t){let e=new n.e;for(let i in t)t[i]&&(e=e.set(i,t[i]));return this.http.get(""+s.a.GET_CNTNT_FLDR,{params:e}).pipe(Object(r.a)(t=>t))}contentBySmartFolder(t){let e=new n.e;for(let i in t)t[i]&&(e=e.set(i,t[i]));return this.http.get(""+s.a.GET_CNTNT_SMT_FLDR,{params:e}).pipe(Object(r.a)(t=>t))}contentList(t){let e=new n.e;for(let i in t)if("fltrL"===i){if(t[i]&&t[i].length>0)for(let n=0;n<t[i].length;n++)"fT"===t[i][n].type?e=e.append("fileTypes",t[i][n].v):"allTags1"===t[i][n].type?e=e.append("tags.MatchAllTagIds",t[i][n].id):"anyTags1"===t[i][n].type?e=e.append("tags.MatchAnyTagIds",t[i][n].id):"noneTags1"===t[i][n].type&&(e=e.append("tags.MatchNoneTagIds",t[i][n].id))}else(t[i]||"IsAscending"==i)&&(e=e.set(i,t[i]));return this.http.get(""+s.a.LIST_CNTNT,{params:e}).pipe(Object(r.a)(t=>t))}addContent(t){return this.http.post(""+s.a.ADD_CNTNT,this.freezeFolderObj(t))}addContentProms(t){return this.http.post(""+s.a.ADD_CNTNT,this.freezeFolderObj(t)).toPromise()}updContent(t){return this.http.post(""+s.a.UPD_CNTNT,t)}viewContent(t){return this.http.get(""+s.a.GET_CNTNT,{params:{id:t}})}addCmntToContent(t){return this.http.post(""+s.a.ADD_CMNT_CNTNT,t)}addCntntToWrkspcFldr(t){return this.http.post(""+s.a.ADD_CNTNT_WRKSPC,t)}updCntntStatusOrDel(t){return this.http.post(3==t.status?""+s.a.DEL_CNTNT:""+s.a.UPD_CNTNT_STATUS,t)}usrGrpWrkspcList(t){let e=new n.e;for(let i in t)t[i]&&(e=e.set(i,t[i]));return this.http.get(""+s.a.LIST_USR_GRP_WRKSPC,{params:e}).pipe(Object(r.a)(t=>t))}addUsrGrpWrkspc(t){return this.http.post(""+s.a.ADD_USR_GRP_WRKSPC,t)}remUsrGrpWrkspc(t){return this.http.post(""+s.a.REM_USR_GRP_WRKSPC,t)}deactCtntOrFldr(t){return t.isFldr?this.actDeactFldr(t.id,!1):this.updCntntStatusOrDel(t)}newVersion(t){return this.http.post(""+s.a.UPL_VER_CNTNT,this.freezeFolderObj(t))}processCntnt(t,e){return this.http.get(`${e?s.a.PROC_CNTNT_CNT:s.a.PROC_CNTNT}?hubId=${t}`)}rearrWrkspcData(t){return this.http.post(""+s.a.REARR_WRKSPC_ITEMS,t)}procCntntStatus(t,e){return this.http.post(""+(e?s.a.START_PROC_CNTNT:s.a.CANCEL_PROC_CNTNT),t)}actDeactCntntInWrkspc(t,e){return this.http.post(`${e?s.a.ACT_CNT_WRKSPC_FLDR:s.a.DEACT_CNT_WRKSPC_FLDR}?id=${t}`,{})}}return t.\u0275fac=function(e){return new(e||t)(a.bc(n.b))},t.\u0275prov=a.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"P/0q":function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var n=i("tk/3"),r=i("lJxs"),s=i("aZQB"),a=i("fXoL");let o=(()=>{class t{constructor(t){this.http=t}wrkspcListEmp(){return this.http.get(""+s.a.GET_WRKSPC_EMP).pipe(Object(r.a)(t=>t))}getAllDataWrkspc(t){let e=new n.e;for(let i in t)t[i]&&(e=e.set(i,t[i]));return this.http.get(""+s.a.GET_DATA_WRKSPC_EMP,{params:e}).pipe(Object(r.a)(t=>t))}}return t.\u0275fac=function(e){return new(e||t)(a.bc(n.b))},t.\u0275prov=a.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"T/Ok":function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var n=i("aZQB"),r=i("fXoL"),s=i("tk/3");let a=(()=>{class t{constructor(t){this.http=t}sendMail(t){return this.http.post(""+n.a.SEND_MAIL,t)}}return t.\u0275fac=function(e){return new(e||t)(r.bc(s.b))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},TNUc:function(t,e,i){"use strict";i.d(e,"a",(function(){return u}));var n=i("s0Cq"),r=i("fXoL"),s=i("1kSV"),a=i("5eHb"),o=i("j+Cn"),c=i("ofXK"),l=i("668k");function d(t,e){1&t&&r.Ob(0,"app-loader",8),2&t&&r.pc("type","div")}function b(t,e){1&t&&r.Ob(0,"div")}function h(t,e){if(1&t){const t=r.Ub();r.Tb(0,"div",11),r.Tb(1,"div",12),r.Ob(2,"img",13),r.Sb(),r.Tb(3,"div",14),r.Mc(4),r.Sb(),r.Tb(5,"div",15),r.Tb(6,"button",16),r.ec("click",(function(){r.Bc(t);const i=e.$implicit;return r.ic(2).addCntntToColl(i)})),r.Mc(7,"Add"),r.Sb(),r.Sb(),r.Sb()}if(2&t){const t=e.$implicit,i=r.ic(2);r.Ab(2),r.pc("src",t.pdfImagePath?t.pdfImagePath:i.fldrIcon,r.Dc),r.Ab(2),r.Oc(" ",t.name," ")}}function p(t,e){if(1&t&&(r.Tb(0,"ul",9),r.Kc(1,h,8,2,"div",10),r.Sb()),2&t){const t=r.ic();r.Ab(1),r.pc("ngForOf",t.colls)}}let u=(()=>{class t{constructor(t,e,i){this.modalRef=t,this.toastr=e,this.collServ=i,this.collLoad=!0,this.colls=[],this.fldrIcon=n.f}ngOnInit(){this.listColct()}listColct(){this.collServ.colctnList({pageNo:0}).subscribe(t=>{t&&t.result&&Array.isArray(t.result.results)&&t.result.results.length>0&&(this.colls=t.result.results),this.collLoad=!1},t=>{this.colls=[],this.collLoad=!1})}addCntntToColl(t){let e={id:t.id,contents:[],pages:{pageNumbers:[]}};if("wrkspc"==this.data.type)e.contents=[this.data.id];else if("coll-inr"==this.data.type)this.data.pageNo?e.pages={pageNumbers:[this.data.pageNo],contentId:this.data.contentId}:e.contents=[this.data.contentId];else if("my-file"==this.data.type)e.contents=[this.data.id];else if("multi"==this.data.type)for(let i=0;i<this.data.data.length;i++)this.data.data[i].pageNo?e.pages.push({pageNumbers:[this.data.data[i].pageNo],contentId:this.data.data[i].contentId?this.data.data[i].contentId:this.data.data[i].id}):e.contents.push(this.data.data[i].contentId?this.data.data[i].contentId:this.data.data[i].id);this.collLoad=!0,this.collServ.addContentColctn(e).subscribe(e=>{e?(this.toastr.success(e.message||"Added successfully to collection","Success!"),this.modalRef.close(t)):this.modalRef.dismiss(),this.collLoad=!1},t=>{this.modalRef.dismiss(),this.collLoad=!1})}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(s.b),r.Nb(a.b),r.Nb(o.a))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-add-to-coll"]],inputs:{data:"data"},decls:10,vars:3,consts:[[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["ngbAutofocus","",1,"modal-body"],[3,"type",4,"ngIf"],[4,"ngIf"],["class","list-unstyled",4,"ngIf"],[3,"type"],[1,"list-unstyled"],["id","coll-div","class","d-flex border-bottom p-2 dark-bg-hover",4,"ngFor","ngForOf"],["id","coll-div",1,"d-flex","border-bottom","p-2","dark-bg-hover"],[1,"icon","align-self-center","mr-2"],[2,"max-height","50px","width","40px",3,"src"],[1,"name","align-self-center"],[1,"hover-coll","ml-auto","mr-3"],[1,"btn","btn-primary","btn-sm",3,"click"]],template:function(t,e){1&t&&(r.Tb(0,"div",0),r.Tb(1,"h4",1),r.Mc(2,"Add to Collection"),r.Sb(),r.Tb(3,"button",2),r.ec("click",(function(){return e.modalRef.dismiss("Cross click")})),r.Tb(4,"span",3),r.Mc(5,"\xd7"),r.Sb(),r.Sb(),r.Sb(),r.Tb(6,"div",4),r.Kc(7,d,1,1,"app-loader",5),r.Kc(8,b,1,0,"div",6),r.Kc(9,p,2,1,"ul",7),r.Sb()),2&t&&(r.Ab(7),r.pc("ngIf",e.collLoad),r.Ab(1),r.pc("ngIf",!e.collLoad),r.Ab(1),r.pc("ngIf",!e.collLoad))},directives:[c.m,l.a,c.l],styles:[".hover-coll[_ngcontent-%COMP%]{opacity:0}#coll-div[_ngcontent-%COMP%]:hover   .hover-coll[_ngcontent-%COMP%]{opacity:1}"]}),t})()},c2Mc:function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var n=i("s0Cq");class r{static formatBytes(t,e){if(0===t)return"0 Bytes";const i=e<=0?0:e||2,n=Math.floor(Math.log(t)/Math.log(1024));return parseFloat((t/Math.pow(1024,n)).toFixed(i))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][n]}static getImg(t,e=""){if(t){if(t.folderIconPath)return t.folderIconPath;if(t.imagePath)return t.imagePath;if(t.pdfImagePath)return t.pdfImagePath;if(t.urlIconPath)return t.urlIconPath;if((2===t.contentType||1===t.contentType)&&t.contentPath)return t.contentPath;if(t.pdfImage)return t.pdfImage;if(Array.isArray(t.pdfImages)&&t.pdfImages.length>0&&t.pdfImages[0].imagePath)return t.pdfImages[0].imagePath}return"icon"==e?n.b:"fldr"==e?n.f:n.c}static bytestoOther(t,e){let i=0;switch(e){case"kb":i=1;break;case"mb":i=2;break;case"gb":i=3}return parseFloat((t/Math.pow(1024,i)).toFixed(2))}}},"j+Cn":function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var n=i("tk/3"),r=i("lJxs"),s=i("aZQB"),a=i("fXoL");let o=(()=>{class t{constructor(t){this.http=t}addColctn(t){return this.http.post(""+s.a.ADD_COLCT,t)}renColctn(t){return this.http.put(""+s.a.REN_COLCT,t)}duplColctn(t){return this.http.patch(""+s.a.DUPL_COLCT,t)}colctnList(t){let e=new n.e;for(let i in t)(t[i]||"pageNo"==i)&&(e=e.set(i,t[i]));return this.http.get(""+s.a.LIST_COLCT,{params:e}).pipe(Object(r.a)(t=>t))}addContentColctn(t){return this.http.post(""+s.a.ADD_CONTENT_COLCT,t)}}return t.\u0275fac=function(e){return new(e||t)(a.bc(n.b))},t.\u0275prov=a.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},liE0:function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var n=i("aZQB"),r=i("fXoL"),s=i("tk/3");let a=(()=>{class t{constructor(t){this.http=t}addShare(t){return this.http.post(""+n.a.ADD_SHARE,t)}delLink(t){return this.http.post(`${n.a.DEL_SHARE}?identifier=${t}`,{})}}return t.\u0275fac=function(e){return new(e||t)(r.bc(s.b))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},vLcq:function(t,e,i){"use strict";i.d(e,"a",(function(){return N}));var n=i("s0Cq"),r=i("fXoL"),s=i("1kSV"),a=i("P/0q"),o=i("FGg4"),c=i("CFzk"),l=i("OraM"),d=i("kmnG"),b=i("qFsG"),h=i("ofXK"),p=i("668k"),u=i("bSwM");function f(t,e){if(1&t){const t=r.Ub();r.Tb(0,"li",20),r.ec("click",(function(){return r.Bc(t),r.ic(2).backNav()})),r.Ob(1,"i",21),r.Sb()}}function m(t,e){if(1&t&&(r.Tb(0,"li",22),r.Mc(1),r.Sb()),2&t){const t=e.$implicit;r.Ab(1),r.Nc(t.name)}}function g(t,e){if(1&t&&(r.Tb(0,"nav",15),r.Tb(1,"ol",16),r.Kc(2,f,2,0,"li",17),r.Kc(3,m,2,1,"li",18),r.Sb(),r.Ob(4,"hr",19),r.Sb()),2&t){const t=r.ic();r.Ab(2),r.pc("ngIf",t.contentNav.length>0),r.Ab(1),r.pc("ngForOf",t.contentNav)}}function v(t,e){1&t&&(r.Rb(0),r.Ob(1,"app-loader",23),r.Qb()),2&t&&(r.Ab(1),r.pc("type","div"))}function S(t,e){if(1&t){const t=r.Ub();r.Tb(0,"div",27),r.ec("click",(function(){r.Bc(t);const i=e.$implicit;return r.ic(3).showWorkspcFldrs(i)})),r.Tb(1,"div",33),r.Ob(2,"img",34),r.Sb(),r.Tb(3,"div",30),r.Mc(4),r.Sb(),r.Tb(5,"div",31),r.Ob(6,"i",32),r.Sb(),r.Sb()}if(2&t){const t=e.$implicit,i=r.ic(3);r.Ab(2),r.qc("src",i.fldrIcon,r.Dc),r.Ab(2),r.Oc(" ",t.name," ")}}function C(t,e){if(1&t){const t=r.Ub();r.Tb(0,"div",27),r.ec("click",(function(){r.Bc(t);const i=e.$implicit;return r.ic(3).getCntntColl(i)})),r.Tb(1,"div",33),r.Ob(2,"img",34),r.Sb(),r.Tb(3,"div",30),r.Mc(4),r.Sb(),r.Tb(5,"div",31),r.Ob(6,"i",32),r.Sb(),r.Sb()}if(2&t){const t=e.$implicit,i=r.ic(3);r.Ab(2),r.qc("src",t.pdfImagePath?t.pdfImagePath:i.fldrIcon,r.Dc),r.Ab(2),r.Nc(t.name)}}function T(t,e){if(1&t){const t=r.Ub();r.Tb(0,"div"),r.Tb(1,"div",25),r.Mc(2,"Workspaces"),r.Sb(),r.Kc(3,S,7,2,"div",26),r.Tb(4,"div",25),r.Mc(5,"My Files"),r.Sb(),r.Tb(6,"div",27),r.ec("click",(function(){return r.Bc(t),r.ic(2).showMyFiles()})),r.Tb(7,"div",28),r.Ob(8,"i",29),r.Sb(),r.Tb(9,"div",30),r.Mc(10," My Files "),r.Sb(),r.Tb(11,"div",31),r.Ob(12,"i",32),r.Sb(),r.Sb(),r.Tb(13,"div",25),r.Mc(14,"Collections"),r.Sb(),r.Kc(15,C,7,2,"div",26),r.Sb()}if(2&t){const t=r.ic(2);r.Ab(3),r.pc("ngForOf",t.workspcArr),r.Ab(12),r.pc("ngForOf",t.colctnArr)}}function A(t,e){if(1&t){const t=r.Ub();r.Tb(0,"div",27),r.ec("click",(function(){r.Bc(t);const i=e.$implicit,n=r.ic(4);return!1===n.showAll?n.showWorkspcFldrs(void 0,i):n.showMyFiles(i)})),r.Tb(1,"div",33),r.Ob(2,"img",34),r.Sb(),r.Tb(3,"div",30),r.Mc(4),r.Sb(),r.Tb(5,"div",31),r.Ob(6,"i",32),r.Sb(),r.Sb()}if(2&t){const t=e.$implicit,i=r.ic(4);r.Ab(2),r.qc("src",t.imagePath?t.imagePath:t.folderIconPath?t.folderIconPath:i.fldrIcon,r.Dc),r.Ab(2),r.Oc(" ",t.name," ")}}function y(t,e){if(1&t){const t=r.Ub();r.Tb(0,"div",37),r.Tb(1,"mat-checkbox",38),r.ec("change",(function(i){r.Bc(t);const n=e.$implicit;return r.ic(4).selectContent(n,i.checked)})),r.Sb(),r.Tb(2,"div",33),r.Ob(3,"img",34),r.Sb(),r.Tb(4,"div",30),r.Mc(5),r.Sb(),r.Sb()}if(2&t){const t=e.$implicit,i=r.ic(4);r.Ab(3),r.qc("src",t.imagePath?t.imagePath:t.pdfImagePath?t.pdfImagePath:t.urlIconPath?t.urlIconPath:i.defIcon,r.Dc),r.Ab(2),r.Oc(" ",t.name," ")}}function k(t,e){if(1&t&&(r.Rb(0),r.Kc(1,A,7,2,"div",26),r.Kc(2,y,6,2,"div",36),r.Qb()),2&t){const t=r.ic(3);r.Ab(1),r.pc("ngForOf",t.fldrArr),r.Ab(1),r.pc("ngForOf",t.mdlCntntArr)}}function w(t,e){1&t&&(r.Tb(0,"div",39),r.Mc(1," No Data Found "),r.Sb())}function I(t,e){if(1&t&&(r.Tb(0,"div"),r.Kc(1,k,3,2,"ng-container",10),r.Kc(2,w,2,0,"ng-template",null,35,r.Lc),r.Sb()),2&t){const t=r.xc(3),e=r.ic(2);r.Ab(1),r.pc("ngIf",e.fldrArr.length>0||e.mdlCntntArr.length>0)("ngIfElse",t)}}function M(t,e){if(1&t&&(r.Kc(0,T,16,2,"div",24),r.Kc(1,I,4,2,"div",24)),2&t){const t=r.ic();r.pc("ngIf",t.showAll),r.Ab(1),r.pc("ngIf",!t.showAll)}}function O(t,e){1&t&&r.Ob(0,"app-loader",23),2&t&&r.pc("type","btn")}let N=(()=>{class t{constructor(t,e,i,r,s){this.modalRef=t,this.expServ=e,this.fileServ=i,this.colctnSrv=r,this.cwServ=s,this.fldrIcon=n.f,this.defIcon=n.b}ngOnInit(){this.initialiseState(),this.getWrkspcList(),this.listColctn()}initialiseState(){this.wrkspcLoading=!0,this.colctnLoading=!0,this.fldrLoading=!1,this.cntntLoading=!1,this.workspcArr=[],this.colctnArr=[],this.fldrArr=[],this.selWrkspc=void 0,this.selFldr=void 0,this.mdlCntntArr=[],this.addContentArr=[],this.showAll=!0,this.contentNav=[],this.disabled=!1}addContent(){this.modalRef.close(this.addContentArr)}selectContent(t,e){e?this.addContentArr.push(t):this.addContentArr=this.addContentArr.filter(e=>e.id!=t.id)}showMyFiles(t,e){this.fldrLoading=!0,this.cntntLoading=!0,"back"!==e&&(t?this.contentNav.push(t):this.contentNav=[{name:"My Files"}]),this.fileServ.myFiles({folderId:t?t.id:void 0}).subscribe(t=>{t&&t.result&&(Array.isArray(t.result.contents)&&t.result.contents.length>0?this.mdlCntntArr=t.result.contents:Array.isArray(t.result.contents)&&0==t.result.contents.length&&(this.mdlCntntArr=[]),Array.isArray(t.result.folders)&&t.result.folders.length>0?this.fldrArr=t.result.folders:Array.isArray(t.result.folders)&&0==t.result.folders.length&&(this.fldrArr=[])),this.showAll=void 0,this.fldrLoading=!1,this.cntntLoading=!1},t=>{this.showAll=!1,this.fldrLoading=!1,this.cntntLoading=!1})}getWrkspcList(){this.wrkspcLoading=!0,this.expServ.wrkspcListEmp().subscribe(t=>{t&&t.result&&Array.isArray(t.result)&&t.result.length>0&&(this.workspcArr=t.result),this.wrkspcLoading=!1},t=>{this.wrkspcLoading=!1})}getAllObjWrkspc(){this.fldrLoading=!0,this.expServ.getAllDataWrkspc({workspaceId:this.selWrkspc.id,isActive:!0,parentId:this.selFldr?this.selFldr.id:void 0}).subscribe(t=>{if(t&&t.result&&Array.isArray(t.result))for(let e=0;e<t.result.length;e++)3===t.result[e].entityType?this.mdlCntntArr.push(t.result[e]):this.fldrArr.push(t.result[e]);this.fldrLoading=!1},t=>{this.fldrLoading=!1})}listColctn(){this.colctnArr=[],this.colctnLoading=!0,this.colctnSrv.colctnList({pageNo:0}).subscribe(t=>{t&&t.result&&Array.isArray(t.result.results)&&t.result.results.length>0&&(this.colctnArr=t.result.results),this.colctnLoading=!1},t=>{this.colctnLoading=!1})}showWorkspcFldrs(t,e){e?(this.contentNav.push(e),this.selFldr=e,this.mdlCntntArr=[]):(this.selWrkspc=t,this.contentNav=[t]),this.getAllObjWrkspc(),this.fldrArr=[],this.showAll=!1}backNav(){this.contentNav.pop(),this.selFldr=this.contentNav.length>1?this.contentNav[this.contentNav.length-1]:void 0,this.fldrArr=[],this.mdlCntntArr=[],0==this.contentNav.length?(this.selFldr=void 0,this.showAll=!0):!1===this.showAll?this.getAllObjWrkspc():this.showMyFiles(this.selFldr,"back")}getCntntColl(t){let e=t.id;this.contentNav=[t],this.cntntLoading=!0,this.colctnSrv.getContentColctn(e).subscribe(t=>{console.log(t),t&&t.result&&Array.isArray(t.result)&&t.result.length>0?this.mdlCntntArr=t.result:t&&t.result&&Array.isArray(t.result)&&0==t.result.length&&(this.mdlCntntArr=[]),this.showAll=!1,this.cntntLoading=!1},t=>{this.showAll=!1,this.cntntLoading=!1})}getContentSmtFldr(){this.cntntLoading=!0,this.cwServ.contentBySmartFolder({workspaceId:this.selWrkspc.id,folderId:this.selFldr?this.selFldr.id:void 0}).subscribe(t=>{t&&t.result&&Array.isArray(t.result)&&t.result.length>0&&this.mdlCntntArr.push(...t.result),this.cntntLoading=!1},t=>{this.cntntLoading=!1})}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(s.b),r.Nb(a.a),r.Nb(o.a),r.Nb(c.a),r.Nb(l.a))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-add-rsrc"]],decls:19,vars:7,consts:[[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["ngbAutofocus","",1,"modal-body","min-height-val"],[1,"search"],["appearance","outline",1,"custom-mat-input","w-100","mb-2","bg-white",3,"floatLabel"],["matPrefix","",1,"fas","fa-search"],["matInput","","placeholder","Search"],["aria-label","breadcrumb",4,"ngIf"],[4,"ngIf","ngIfElse"],["loaded",""],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[3,"type",4,"ngIf"],["aria-label","breadcrumb"],[1,"breadcrumb","bg-white","mb-0","p-0","ml-1"],["class","curs-ptr text-primary mr-2","style","font-size: 16px;",3,"click",4,"ngIf"],["class","breadcrumb-item",4,"ngFor","ngForOf"],[1,"mt-1"],[1,"curs-ptr","text-primary","mr-2",2,"font-size","16px",3,"click"],[1,"fa","fa-arrow-left","align-self-center"],[1,"breadcrumb-item"],[3,"type"],[4,"ngIf"],[1,"text-secondary","font-weight-bold","my-2"],["class","d-flex border-bottom p-2 dark-bg-hover",3,"click",4,"ngFor","ngForOf"],[1,"d-flex","border-bottom","p-2","dark-bg-hover",3,"click"],[1,"icon","text-center","mr-2",2,"height","50px","width","40px"],[1,"fas","fa-folder","mt-3"],[1,"name","align-self-center"],[1,"arrow","align-self-center","ml-auto","mr-3"],[1,"fa","fa-angle-right"],[1,"icon","align-self-center","mr-2"],[2,"max-height","50px","width","40px",3,"src"],["noDATA",""],["class","d-flex border-bottom p-2 dark-bg-hover",4,"ngFor","ngForOf"],[1,"d-flex","border-bottom","p-2","dark-bg-hover"],[1,"align-self-center","mr-2",3,"change"],[1,"text-secondary","text-center","mt-5"]],template:function(t,e){if(1&t&&(r.Tb(0,"div",0),r.Tb(1,"h4",1),r.Mc(2,"Select Resource"),r.Sb(),r.Tb(3,"button",2),r.ec("click",(function(){return e.modalRef.dismiss()})),r.Tb(4,"span",3),r.Mc(5,"\xd7"),r.Sb(),r.Sb(),r.Sb(),r.Tb(6,"div",4),r.Tb(7,"div",5),r.Tb(8,"mat-form-field",6),r.Ob(9,"i",7),r.Ob(10,"input",8),r.Sb(),r.Sb(),r.Kc(11,g,5,2,"nav",9),r.Kc(12,v,2,1,"ng-container",10),r.Kc(13,M,2,2,"ng-template",null,11,r.Lc),r.Sb(),r.Tb(15,"div",12),r.Tb(16,"button",13),r.ec("click",(function(){return e.addContent()})),r.Kc(17,O,1,1,"app-loader",14),r.Mc(18),r.Sb(),r.Sb()),2&t){const t=r.xc(14);r.Ab(8),r.pc("floatLabel","never"),r.Ab(3),r.pc("ngIf",!e.showAll),r.Ab(1),r.pc("ngIf",e.wrkspcLoading&&e.colctnLoading||e.fldrLoading||e.cntntLoading)("ngIfElse",t),r.Ab(4),r.pc("disabled",0==e.addContentArr.length||e.disabled),r.Ab(1),r.pc("ngIf",e.disabled),r.Ab(1),r.Oc(" ",0==e.addContentArr.length?"0 Items Selected":"Insert "+e.addContentArr.length+" item(s)"," ")}},directives:[d.c,d.h,b.b,h.m,h.l,p.a,u.a],styles:[""]}),t})()}}]);