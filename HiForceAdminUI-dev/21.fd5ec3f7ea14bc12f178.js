(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{"8/JR":function(e,t,n){"use strict";var i=n("8T9/"),o=n("Ibf7");e.exports=function(e,t){var n=t||{},r={};return void 0===e&&(e={}),e.on=function(t,n){return r[t]?r[t].push(n):r[t]=[n],e},e.once=function(t,n){return n._once=!0,e.on(t,n),e},e.off=function(t,n){var i=arguments.length;if(1===i)delete r[t];else if(0===i)r={};else{var o=r[t];if(!o)return e;o.splice(o.indexOf(n),1)}return e},e.emit=function(){var t=i(arguments);return e.emitterSnapshot(t.shift()).apply(this,t)},e.emitterSnapshot=function(t){var c=(r[t]||[]).slice(0);return function(){var r=i(arguments),a=this||e;if("error"===t&&!1!==n.throws&&!c.length)throw 1===r.length?r[0]:r;return c.forEach((function(i){n.async?o(i,r,a):i.apply(a,r),i._once&&e.off(t,i)})),e}},e}},"8T9/":function(e,t){e.exports=function(e,t){return Array.prototype.slice.call(e,t)}},Gjsa:function(e,t){var n="function"==typeof setImmediate;e.exports=n?function(e){setImmediate(e)}:function(e){setTimeout(e,0)}},Ibf7:function(e,t,n){"use strict";var i=n("Gjsa");e.exports=function(e,t,n){e&&i((function(){e.apply(n||null,t||[])}))}},PzH3:function(e,t,n){"use strict";var i=n("bBst"),o=n("Ys8N"),r=global.document,c=function(e,t,n,i){return e.addEventListener(t,n,i)},a=function(e,t,n,i){return e.removeEventListener(t,n,i)},s=[];function l(e,t,n){var i=function(e,t,n){var i,o;for(i=0;i<s.length;i++)if((o=s[i]).element===e&&o.type===t&&o.fn===n)return i}(e,t,n);if(i){var o=s[i].wrapper;return s.splice(i,1),o}}global.addEventListener||(c=function(e,t,n){return e.attachEvent("on"+t,function(e,t,n){var i=l(e,t,n)||function(e,t,n){return function(t){var i=t||global.event;i.target=i.target||i.srcElement,i.preventDefault=i.preventDefault||function(){i.returnValue=!1},i.stopPropagation=i.stopPropagation||function(){i.cancelBubble=!0},i.which=i.which||i.keyCode,n.call(e,i)}}(e,0,n);return s.push({wrapper:i,element:e,type:t,fn:n}),i}(e,t,n))},a=function(e,t,n){var i=l(e,t,n);if(i)return e.detachEvent("on"+t,i)}),e.exports={add:c,remove:a,fabricate:function(e,t,n){var c=-1===o.indexOf(t)?new i(t,{detail:n}):function(){var e;return r.createEvent?(e=r.createEvent("Event")).initEvent(t,!0,!0):r.createEventObject&&(e=r.createEventObject()),e}();e.dispatchEvent?e.dispatchEvent(c):e.fireEvent("on"+t,c)}}},YS7c:function(e,t,n){"use strict";var i=n("8/JR"),o=n("PzH3"),r=n("n6yW"),c=document,a=c.documentElement;function s(e,t,n,i){global.navigator.pointerEnabled?o[t](e,{mouseup:"pointerup",mousedown:"pointerdown",mousemove:"pointermove"}[n],i):global.navigator.msPointerEnabled?o[t](e,{mouseup:"MSPointerUp",mousedown:"MSPointerDown",mousemove:"MSPointerMove"}[n],i):(o[t](e,{mouseup:"touchend",mousedown:"touchstart",mousemove:"touchmove"}[n],i),o[t](e,n,i))}function l(e){if(void 0!==e.touches)return e.touches.length;if(void 0!==e.which&&0!==e.which)return e.which;if(void 0!==e.buttons)return e.buttons;var t=e.button;return void 0!==t?1&t?1:2&t?3:4&t?2:0:void 0}function d(e){var t=e.getBoundingClientRect();return{left:t.left+u("scrollLeft","pageXOffset"),top:t.top+u("scrollTop","pageYOffset")}}function u(e,t){return void 0!==global[t]?global[t]:a.clientHeight?a[e]:c.body[e]}function p(e,t,n){var i,o=(e=e||{}).className||"";return e.className+=" gu-hide",i=c.elementFromPoint(t,n),e.className=o,i}function h(){return!1}function f(){return!0}function g(e){return e.width||e.right-e.left}function m(e){return e.height||e.bottom-e.top}function b(e){return e.parentNode===c?null:e.parentNode}function v(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName||"SELECT"===e.tagName||function e(t){return!!t&&"false"!==t.contentEditable&&("true"===t.contentEditable||e(b(t)))}(e)}function C(e){return e.nextElementSibling||function(){var t=e;do{t=t.nextSibling}while(t&&1!==t.nodeType);return t}()}function S(e,t){var n=function(e){return e.targetTouches&&e.targetTouches.length?e.targetTouches[0]:e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e}(t),i={pageX:"clientX",pageY:"clientY"};return e in i&&!(e in n)&&i[e]in n&&(e=i[e]),n[e]}e.exports=function(e,t){var n,u,y,M,x,A,O,w,T,k,I,E=arguments.length;1===E&&!1===Array.isArray(e)&&(t=e,e=[]);var D,N=null,B=t||{};void 0===B.moves&&(B.moves=f),void 0===B.accepts&&(B.accepts=f),void 0===B.invalid&&(B.invalid=q),void 0===B.containers&&(B.containers=e||[]),void 0===B.isContainer&&(B.isContainer=h),void 0===B.copy&&(B.copy=!1),void 0===B.copySortSource&&(B.copySortSource=!1),void 0===B.revertOnSpill&&(B.revertOnSpill=!1),void 0===B.removeOnSpill&&(B.removeOnSpill=!1),void 0===B.direction&&(B.direction="vertical"),void 0===B.ignoreInputTextSelection&&(B.ignoreInputTextSelection=!0),void 0===B.mirrorContainer&&(B.mirrorContainer=c.body);var P=i({containers:B.containers,start:Y,end:J,cancel:Z,remove:Q,destroy:z,canMove:X,dragging:!1});return!0===B.removeOnSpill&&P.on("over",oe).on("out",re),F(),P;function $(e){return-1!==P.containers.indexOf(e)||B.isContainer(e)}function F(e){var t=e?"remove":"add";s(a,t,"mousedown",K),s(a,t,"mouseup",V)}function R(e){s(a,e?"remove":"add","mousemove",_)}function j(e){var t=e?"remove":"add";o[t](a,"selectstart",G),o[t](a,"click",G)}function z(){F(!0),V({})}function G(e){D&&e.preventDefault()}function K(e){if(A=e.clientX,O=e.clientY,1===l(e)&&!e.metaKey&&!e.ctrlKey){var t=e.target,n=L(t);n&&(D=n,R(),"mousedown"===e.type&&(v(t)?t.focus():e.preventDefault()))}}function _(e){if(D)if(0!==l(e)){if(!(void 0!==e.clientX&&Math.abs(e.clientX-A)<=(B.slideFactorX||0)&&void 0!==e.clientY&&Math.abs(e.clientY-O)<=(B.slideFactorY||0))){if(B.ignoreInputTextSelection){var t=S("clientX",e)||0,n=S("clientY",e)||0;if(v(c.elementFromPoint(t,n)))return}var i=D;R(!0),j(),J(),U(i);var o=d(y);M=S("pageX",e)-o.left,x=S("pageY",e)-o.top,r.add(k||y,"gu-transit"),ce(),ie(e)}}else V({})}function L(e){if(!(P.dragging&&n||$(e))){for(var t=e;b(e)&&!1===$(b(e));){if(B.invalid(e,t))return;if(!(e=b(e)))return}var i=b(e);if(i&&!B.invalid(e,t)&&B.moves(e,i,t,C(e)))return{item:e,source:i}}}function X(e){return!!L(e)}function Y(e){var t=L(e);t&&U(t)}function U(e){de(e.item,e.source)&&(k=e.item.cloneNode(!0),P.emit("cloned",k,e.item,"copy")),u=e.source,y=e.item,w=T=C(e.item),P.dragging=!0,P.emit("drag",y,u)}function q(){return!1}function J(){if(P.dragging){var e=k||y;W(e,b(e))}}function H(){D=!1,R(!0),j(!0)}function V(e){if(H(),P.dragging){var t=k||y,i=S("clientX",e)||0,o=S("clientY",e)||0,r=ne(p(n,i,o),i,o);r&&(k&&B.copySortSource||!k||r!==u)?W(t,r):B.removeOnSpill?Q():Z()}}function W(e,t){var n=b(e);k&&B.copySortSource&&t===u&&n.removeChild(y),te(t)?P.emit("cancel",e,u,u):P.emit("drop",e,t,u,T),ee()}function Q(){if(P.dragging){var e=k||y,t=b(e);t&&t.removeChild(e),P.emit(k?"cancel":"remove",e,t,u),ee()}}function Z(e){if(P.dragging){var t=arguments.length>0?e:B.revertOnSpill,n=k||y,i=b(n),o=te(i);!1===o&&t&&(k?i&&i.removeChild(k):u.insertBefore(n,w)),o||t?P.emit("cancel",n,u,u):P.emit("drop",n,i,u,T),ee()}}function ee(){var e=k||y;H(),ae(),e&&r.rm(e,"gu-transit"),I&&clearTimeout(I),P.dragging=!1,N&&P.emit("out",e,N,u),P.emit("dragend",e),u=y=k=w=T=I=N=null}function te(e,t){var i;return i=void 0!==t?t:n?T:C(k||y),e===u&&i===w}function ne(e,t,n){for(var i=e;i&&!o();)i=b(i);return i;function o(){if(!1===$(i))return!1;var o=se(i,e),r=le(i,o,t,n);return!!te(i,r)||B.accepts(y,i,u,r)}}function ie(e){if(n){e.preventDefault();var t=S("clientX",e)||0,i=S("clientY",e)||0,o=i-x;n.style.left=t-M+"px",n.style.top=o+"px";var r=k||y,c=p(n,t,i),a=ne(c,t,i),s=null!==a&&a!==N;(s||null===a)&&(N&&f("out"),N=a,s&&f("over"));var l=b(r);if(a!==u||!k||B.copySortSource){var d,h=se(a,c);if(null!==h)d=le(a,h,t,i);else{if(!0!==B.revertOnSpill||k)return void(k&&l&&l.removeChild(r));d=w,a=u}(null===d&&s||d!==r&&d!==C(r))&&(T=d,a.insertBefore(r,d),P.emit("shadow",r,a,u))}else l&&l.removeChild(r)}function f(e){P.emit(e,r,N,u)}}function oe(e){r.rm(e,"gu-hide")}function re(e){P.dragging&&r.add(e,"gu-hide")}function ce(){if(!n){var e=y.getBoundingClientRect();(n=y.cloneNode(!0)).style.width=g(e)+"px",n.style.height=m(e)+"px",r.rm(n,"gu-transit"),r.add(n,"gu-mirror"),B.mirrorContainer.appendChild(n),s(a,"add","mousemove",ie),r.add(B.mirrorContainer,"gu-unselectable"),P.emit("cloned",n,y,"mirror")}}function ae(){n&&(r.rm(B.mirrorContainer,"gu-unselectable"),s(a,"remove","mousemove",ie),b(n).removeChild(n),n=null)}function se(e,t){for(var n=t;n!==e&&b(n)!==e;)n=b(n);return n===a?null:n}function le(e,t,n,i){var o,r="horizontal"===B.direction;return t!==e?(o=t.getBoundingClientRect(),(r?n>o.left+g(o)/2:i>o.top+m(o)/2)?C(t):t):function(){var t,o,c,a=e.children.length;for(t=0;t<a;t++){if(c=(o=e.children[t]).getBoundingClientRect(),r&&c.left+c.width/2>n)return o;if(!r&&c.top+c.height/2>i)return o}return null}()}function de(e,t){return"boolean"==typeof B.copy?B.copy:B.copy(e,t)}}},Ys8N:function(e,t,n){"use strict";var i=[],o="",r=/^on/;for(o in global)r.test(o)&&i.push(o.slice(2));e.exports=i},bBst:function(e,t){var n=global.CustomEvent;e.exports=function(){try{var e=new n("cat",{detail:{foo:"bar"}});return"cat"===e.type&&"bar"===e.detail.foo}catch(t){}return!1}()?n:"undefined"!=typeof document&&"function"==typeof document.createEvent?function(e,t){var n=document.createEvent("CustomEvent");return t?n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail):n.initCustomEvent(e,!1,!1,void 0),n}:function(e,t){var n=document.createEventObject();return n.type=e,t?(n.bubbles=Boolean(t.bubbles),n.cancelable=Boolean(t.cancelable),n.detail=t.detail):(n.bubbles=!1,n.cancelable=!1,n.detail=void 0),n}},kUR2:function(e,t,n){"use strict";n.r(t),n.d(t,"CollectionInnerModule",(function(){return de}));var i=n("ofXK"),o=n("tyNb"),r=n("kmnG"),c=n("qFsG"),a=n("bSwM"),s=n("0IaG"),l=n("A5z7"),d=n("quSY"),u=n("IJgu"),p=n("OQ+D"),h=n("E/a4"),f=n("TNUc"),g=n("Q6ig"),m=n("vLcq"),b=n("c2Mc"),v=n("fXoL"),C=n("1kSV"),S=n("CFzk"),y=n("5eHb"),M=n("YS7c"),x=n.n(M),A=n("XNiG"),O=n("pLZG"),w=n("lJxs");class T{constructor(e,t,n){this.name=e,this.drake=t,this.options=n,this.initEvents=!1}}const k={Cancel:"cancel",Cloned:"cloned",Drag:"drag",DragEnd:"dragend",Drop:"drop",Out:"out",Over:"over",Remove:"remove",Shadow:"shadow",DropModel:"dropModel",RemoveModel:"removeModel"},I=Object.keys(k).map(e=>k[e]),E=x.a||M;class D{constructor(e=E){this.build=e}}const N=(e,t,n)=>i=>i.pipe(Object(O.a)(({event:n,name:i})=>n===e&&(void 0===t||i===t)),Object(w.a)(({name:e,args:t})=>n(e,t))),B=(e,[t,n,i])=>({name:e,el:t,container:n,source:i});let P=(()=>{class e{constructor(e=null){this.drakeFactory=e,this.dispatch$=new A.a,this.drag=e=>this.dispatch$.pipe(N(k.Drag,e,(e,[t,n])=>({name:e,el:t,source:n}))),this.dragend=e=>this.dispatch$.pipe(N(k.DragEnd,e,(e,[t])=>({name:e,el:t}))),this.drop=e=>this.dispatch$.pipe(N(k.Drop,e,(e,[t,n,i,o])=>({name:e,el:t,target:n,source:i,sibling:o}))),this.elContainerSource=e=>t=>this.dispatch$.pipe(N(e,t,B)),this.cancel=this.elContainerSource(k.Cancel),this.remove=this.elContainerSource(k.Remove),this.shadow=this.elContainerSource(k.Shadow),this.over=this.elContainerSource(k.Over),this.out=this.elContainerSource(k.Out),this.cloned=e=>this.dispatch$.pipe(N(k.Cloned,e,(e,[t,n,i])=>({name:e,clone:t,original:n,cloneType:i}))),this.dropModel=e=>this.dispatch$.pipe(N(k.DropModel,e,(e,[t,n,i,o,r,c,a,s,l])=>({name:e,el:t,target:n,source:i,sibling:o,item:r,sourceModel:c,targetModel:a,sourceIndex:s,targetIndex:l}))),this.removeModel=e=>this.dispatch$.pipe(N(k.RemoveModel,e,(e,[t,n,i,o,r,c])=>({name:e,el:t,container:n,source:i,item:o,sourceModel:r,sourceIndex:c}))),this.groups={},null===this.drakeFactory&&(this.drakeFactory=new D)}add(e){if(this.find(e.name))throw new Error('Group named: "'+e.name+'" already exists.');return this.groups[e.name]=e,this.handleModels(e),this.setupEvents(e),e}find(e){return this.groups[e]}destroy(e){let t=this.find(e);t&&(t.drake&&t.drake.destroy(),delete this.groups[e])}createGroup(e,t){return this.add(new T(e,this.drakeFactory.build([],t),t))}handleModels({name:e,drake:t,options:n}){let i,o,r;t.on("remove",(n,i,r)=>{if(!t.models)return;let c=t.models[t.containers.indexOf(r)];c=c.slice(0);const a=c.splice(o,1)[0];this.dispatch$.next({event:k.RemoveModel,name:e,args:[n,i,r,a,c,o]})}),t.on("drag",(e,n)=>{t.models&&(i=e,o=this.domIndexOf(e,n))}),t.on("drop",(c,a,s,l)=>{if(!t.models||!a)return;r=this.domIndexOf(c,a);let d,u=t.models[t.containers.indexOf(s)],p=t.models[t.containers.indexOf(a)];if(a===s)u=u.slice(0),d=u.splice(o,1)[0],u.splice(r,0,d),p=u;else{let e=i!==c;if(d=u[o],e){if(!n.copyItem)throw new Error("If you have enabled `copy` on a group, you must provide a `copyItem` function.");d=n.copyItem(d)}if(e||(u=u.slice(0),u.splice(o,1)),p=p.slice(0),p.splice(r,0,d),e)try{a.removeChild(c)}catch(h){}}this.dispatch$.next({event:k.DropModel,name:e,args:[c,a,s,l,d,u,p,o,r]})})}setupEvents(e){if(e.initEvents)return;e.initEvents=!0;const t=e.name;I.forEach(n=>{e.drake.on(n,(...e)=>{this.dispatch$.next({event:n,name:t,args:e})})})}domIndexOf(e,t){return Array.prototype.indexOf.call(t.children,e)}}return e.\u0275fac=function(t){return new(t||e)(v.bc(D,8))},e.\u0275prov=v.Jb({token:e,factory:e.\u0275fac}),e})(),$=(()=>{class e{constructor(e,t){this.el=e,this.dragulaService=t,this.dragulaModelChange=new v.n}get container(){return this.el&&this.el.nativeElement}ngOnChanges(e){if(e&&e.dragula){const{previousValue:t,currentValue:n}=e.dragula;let i=!!n;!!t&&this.teardown(t),i&&this.setup()}else if(e&&e.dragulaModel){const{previousValue:t,currentValue:n}=e.dragulaModel,{drake:i}=this.group;if(this.dragula&&i){i.models=i.models||[];let e=i.models.indexOf(t);-1!==e?(i.models.splice(e,1),n&&i.models.splice(e,0,n)):n&&i.models.push(n)}}}setup(){let e=this.dragulaService.find(this.dragula);e||(e=this.dragulaService.createGroup(this.dragula,{})),(e=>{this.dragulaModel&&(e.drake.models?e.drake.models.push(this.dragulaModel):e.drake.models=[this.dragulaModel])})(e),e.drake.containers.push(this.container),this.subscribe(this.dragula),this.group=e}subscribe(e){this.subs=new d.a,this.subs.add(this.dragulaService.dropModel(e).subscribe(({source:e,target:t,sourceModel:n,targetModel:i})=>{e===this.el.nativeElement?this.dragulaModelChange.emit(n):t===this.el.nativeElement&&this.dragulaModelChange.emit(i)})),this.subs.add(this.dragulaService.removeModel(e).subscribe(({source:e,sourceModel:t})=>{e===this.el.nativeElement&&this.dragulaModelChange.emit(t)}))}teardown(e){this.subs&&this.subs.unsubscribe();const t=this.dragulaService.find(e);if(t){const e=t.drake.containers.indexOf(this.el.nativeElement);if(-1!==e&&t.drake.containers.splice(e,1),this.dragulaModel&&t.drake&&t.drake.models){let e=t.drake.models.indexOf(this.dragulaModel);-1!==e&&t.drake.models.splice(e,1)}}}ngOnDestroy(){this.teardown(this.dragula)}}return e.\u0275fac=function(t){return new(t||e)(v.Nb(v.l),v.Nb(P))},e.\u0275dir=v.Ib({type:e,selectors:[["","dragula",""]],inputs:{dragula:"dragula",dragulaModel:"dragulaModel"},outputs:{dragulaModelChange:"dragulaModelChange"},features:[v.yb]}),e})(),F=(()=>{class e{static forRoot(){return{ngModule:e,providers:[P]}}}return e.\u0275mod=v.Lb({type:e}),e.\u0275inj=v.Kb({factory:function(t){return new(t||e)}}),e})();var R=n("668k"),j=n("WoM1");function z(e,t){1&e&&v.Ob(0,"app-loader",3),2&e&&v.pc("type","page")}const G=function(e,t){return{"fa-list-ul":e,"fa-th-large":t}};function K(e,t){if(1&e){const e=v.Ub();v.Tb(0,"i",28),v.ec("click",(function(){v.Bc(e);const t=v.ic(2);return t.view=!t.view})),v.Sb()}if(2&e){const e=v.ic(2);v.pc("ngClass",v.uc(1,G,e.view,!e.view))}}function _(e,t){if(1&e&&(v.Tb(0,"div",53),v.Mc(1),v.Sb()),2&e){const e=v.ic().$implicit;v.Ab(1),v.Oc("Page\xa0",e.pageNo,"")}}function L(e,t){if(1&e){const e=v.Ub();v.Tb(0,"div",33),v.Tb(1,"div",34),v.Tb(2,"div",35),v.Tb(3,"div",36),v.ec("click",(function(){v.Bc(e);const n=t.$implicit;return v.ic(4).navgToCntnt(n)})),v.Ob(4,"img",37),v.Sb(),v.Tb(5,"div",38),v.Tb(6,"div",39),v.Tb(7,"button",40),v.Ob(8,"i",41),v.Sb(),v.Tb(9,"div",42),v.Tb(10,"a",14),v.ec("click",(function(){v.Bc(e);const n=t.$implicit;return v.ic(4).cmnModal("email",void 0,n)})),v.Ob(11,"i",8),v.Mc(12,"Email"),v.Sb(),v.Tb(13,"a",14),v.ec("click",(function(){v.Bc(e);const n=t.$implicit;return v.ic(4).cmnModal("getLink",void 0,n)})),v.Ob(14,"i",9),v.Mc(15,"Get a link"),v.Sb(),v.Sb(),v.Sb(),v.Tb(16,"div",43),v.ec("click",(function(){v.Bc(e);const n=t.$implicit;return v.ic(4).cmnModal("addToCollection","",n)})),v.Ob(17,"i",44),v.Sb(),v.Tb(18,"div",45),v.ec("click",(function(){v.Bc(e);const n=t.$implicit;return v.ic(4).delContent(n.id)})),v.Ob(19,"i",46),v.Sb(),v.Sb(),v.Sb(),v.Tb(20,"div",47),v.Tb(21,"div",48),v.Mc(22),v.Sb(),v.Tb(23,"div",49),v.Kc(24,_,2,1,"div",50),v.Sb(),v.Tb(25,"div",51),v.Tb(26,"mat-checkbox",52),v.ec("change",(function(n){v.Bc(e);const i=t.$implicit;return v.ic(4).selMe(n.checked,i)})),v.Sb(),v.Sb(),v.Sb(),v.Sb(),v.Sb()}if(2&e){const e=t.$implicit,n=v.ic(4);v.Ab(4),v.pc("src",n.getImg(e),v.Dc),v.Ab(18),v.Nc(e.name),v.Ab(2),v.pc("ngIf",e.pageNo),v.Ab(2),v.pc("checked",e.chk)}}function X(e,t){if(1&e){const e=v.Ub();v.Tb(0,"div",31),v.ec("dragulaModelChange",(function(t){return v.Bc(e),v.ic(3).cntntArr=t})),v.Kc(1,L,27,4,"div",32),v.Sb()}if(2&e){const e=v.ic(3);v.pc("dragulaModel",e.cntntArr),v.Ab(1),v.pc("ngForOf",e.cntntArr)}}function Y(e,t){1&e&&(v.Tb(0,"div",54),v.Mc(1," No Content Found "),v.Sb())}function U(e,t){if(1&e&&(v.Rb(0),v.Kc(1,X,2,2,"div",29),v.Kc(2,Y,2,0,"div",30),v.Qb()),2&e){const e=v.ic(2);v.Ab(1),v.pc("ngIf",e.cntntArr.length>0),v.Ab(1),v.pc("ngIf",0==e.cntntArr.length)}}function q(e,t){if(1&e){const e=v.Ub();v.Tb(0,"tr"),v.Tb(1,"td",63),v.Tb(2,"mat-checkbox",52),v.ec("change",(function(n){v.Bc(e);const i=t.$implicit;return v.ic(4).selMe(n.checked,i)})),v.Sb(),v.Sb(),v.Tb(3,"td",63),v.Tb(4,"div",64),v.ec("click",(function(){v.Bc(e);const n=t.$implicit;return v.ic(4).navgToCntnt(n)})),v.Tb(5,"div",65),v.Ob(6,"img",66),v.Sb(),v.Tb(7,"div",67),v.Mc(8),v.Sb(),v.Sb(),v.Sb(),v.Tb(9,"td",63),v.Mc(10),v.jc(11,"date"),v.Sb(),v.Tb(12,"td",68),v.Tb(13,"div",69),v.Tb(14,"div",39),v.Tb(15,"button",40),v.Ob(16,"i",41),v.Sb(),v.Tb(17,"div",42),v.Tb(18,"a",14),v.ec("click",(function(){v.Bc(e);const n=t.$implicit;return v.ic(4).cmnModal("email",void 0,n)})),v.Ob(19,"i",8),v.Mc(20,"Email"),v.Sb(),v.Tb(21,"a",14),v.ec("click",(function(){v.Bc(e);const n=t.$implicit;return v.ic(4).cmnModal("getLink",void 0,n)})),v.Ob(22,"i",9),v.Mc(23,"Get a link"),v.Sb(),v.Sb(),v.Sb(),v.Tb(24,"div",45),v.ec("click",(function(){return v.Bc(e),v.ic(4).cmnModal("addToCollection")})),v.Ob(25,"i",44),v.Sb(),v.Tb(26,"div",45),v.ec("click",(function(){v.Bc(e);const n=t.$implicit;return v.ic(4).delContent(n.id)})),v.Ob(27,"i",46),v.Sb(),v.Sb(),v.Sb(),v.Sb()}if(2&e){const e=t.$implicit,n=v.ic(4);v.Ab(2),v.pc("checked",e.chk),v.Ab(4),v.pc("src",n.getImg(e),v.Dc),v.Ab(2),v.Nc(e.name),v.Ab(2),v.Nc(v.lc(11,4,e.updatedDate,"dd MMM, yyyy")||"N/A")}}function J(e,t){if(1&e){const e=v.Ub();v.Tb(0,"tbody",61),v.ec("dragulaModelChange",(function(t){return v.Bc(e),v.ic(3).cntntArr=t})),v.Kc(1,q,28,7,"tr",62),v.Sb()}if(2&e){const e=v.ic(3);v.pc("dragulaModel",e.cntntArr),v.Ab(1),v.pc("ngForOf",e.cntntArr)}}function H(e,t){1&e&&(v.Tb(0,"div",70),v.Mc(1," No Content Found "),v.Sb())}function V(e,t){if(1&e){const e=v.Ub();v.Tb(0,"div",55),v.Tb(1,"table",56),v.Tb(2,"thead"),v.Tb(3,"tr"),v.Tb(4,"th"),v.Tb(5,"mat-checkbox",57),v.ec("change",(function(t){return v.Bc(e),v.ic(2).selAll(t.checked)})),v.Sb(),v.Sb(),v.Tb(6,"th"),v.Mc(7,"Name"),v.Ob(8,"i",58),v.Sb(),v.Tb(9,"th"),v.Mc(10,"Date Modified"),v.Ob(11,"i",58),v.Sb(),v.Ob(12,"th"),v.Sb(),v.Sb(),v.Kc(13,J,2,2,"tbody",59),v.Sb(),v.Kc(14,H,2,0,"div",60),v.Sb()}if(2&e){const e=v.ic(2);v.Ab(13),v.pc("ngIf",e.cntntArr.length>0),v.Ab(1),v.pc("ngIf",0==e.cntntArr.length)}}function W(e,t){if(1&e){const e=v.Ub();v.Tb(0,"div",4),v.Tb(1,"h3",5),v.Mc(2),v.Tb(3,"div",6),v.Tb(4,"div",7),v.ec("click",(function(){v.Bc(e);const t=v.ic();return t.cmnModal("email",void 0,void 0,t.selColctn)})),v.Ob(5,"i",8),v.Sb(),v.Tb(6,"div",7),v.ec("click",(function(){v.Bc(e);const t=v.ic();return t.cmnModal("getLink",void 0,void 0,t.selColctn)})),v.Ob(7,"i",9),v.Sb(),v.Tb(8,"div",10),v.Tb(9,"div",11),v.Ob(10,"i",12),v.Sb(),v.Tb(11,"div",13),v.Tb(12,"a",14),v.ec("click",(function(){return v.Bc(e),v.ic().cmnModal("coll","dupl")})),v.Ob(13,"i",15),v.Mc(14,"Duplicate "),v.Sb(),v.Tb(15,"a",14),v.ec("click",(function(){return v.Bc(e),v.ic().cmnModal("coll","ren")})),v.Ob(16,"i",16),v.Mc(17,"Rename "),v.Sb(),v.Tb(18,"a",17),v.Ob(19,"i",18),v.Mc(20,"Download "),v.Tb(21,"div",19),v.Tb(22,"a",20),v.Ob(23,"i",21),v.Mc(24,"As a single PDF"),v.Sb(),v.Tb(25,"a",20),v.Ob(26,"i",22),v.Mc(27,"As separate items"),v.Sb(),v.Sb(),v.Sb(),v.Tb(28,"a",23),v.ec("click",(function(){return v.Bc(e),v.ic().actDeactColctn()})),v.Ob(29,"i"),v.Mc(30),v.Sb(),v.Sb(),v.Sb(),v.Kc(31,K,1,4,"i",24),v.Tb(32,"button",25),v.ec("click",(function(){return v.Bc(e),v.ic().cmnModal("resource")})),v.Mc(33,"Add Resource"),v.Sb(),v.Sb(),v.Sb(),v.Kc(34,U,3,2,"ng-container",26),v.Kc(35,V,15,2,"div",27),v.Sb()}if(2&e){const e=v.ic();v.Ab(2),v.Oc(" ",e.selColctn.name," "),v.Ab(26),v.Db("dropdown-item curs-ptr ",e.selColctn.isActive?"text-primary":"text-success",""),v.Ab(1),v.Db("mr-1 fas fa-toggle-",e.selColctn.isActive?"off":"on",""),v.Ab(1),v.Oc(" ",e.selColctn.isActive?"Deactivate":"Activate"," "),v.Ab(1),v.pc("ngIf",e.cntntArr.length>0),v.Ab(3),v.pc("ngIf",e.view),v.Ab(1),v.pc("ngIf",!e.view)}}function Q(e,t){if(1&e){const e=v.Ub();v.Tb(0,"app-sel-itm-fxd-div",71),v.ec("delContent",(function(){return v.Bc(e),v.ic().delContent(void 0)}))("clrSelData",(function(){return v.Bc(e),v.ic().clrSel()})),v.Sb()}if(2&e){const e=v.ic();v.pc("selArr",e.selCntntArr)("type","content")("content",!0)}}let Z=(()=>{class e{constructor(e,t,n,i,o,r,c){this.modalService=e,this.route=t,this.colctnSrv=n,this.toastr=i,this.router=o,this.dialog=r,this.dragulaService=c,this.view=!0,this.subs=new d.a,this.BAG="coll-inner",this.copyLink=e=>{e.select(),e.setSelectionRange(0,99999),document.execCommand("copy")},this.moveElement=(e,t,n)=>{const i=[...e];return i.splice(t,1),i.splice(n,0,e[t]),i}}ngOnInit(){this.routerSubs=this.route.params.subscribe(e=>{this.id=parseInt(e.cid),this.initialiseState(),this.getColctn()})}dragInit(){void 0!==this.dragulaService.find(this.BAG)&&this.dragulaService.destroy(this.BAG),this.dragulaService.createGroup(this.BAG,{revertOnSpill:!0,moves:function(e,t,n){return!e.classList.contains("abc")}}),this.subs.add(this.dragulaService.dropModel().subscribe(e=>{this.rearrDataInWrkspc(e)}))}initialiseState(){this.view=!0,this.disabled=!1,this.loading=!0,this.selColctn=void 0,this.selCntntArr=[],this.multiForm=0,this.cntntArr=[],this.addContentArr=[]}cmnModal(e,t,n,i){if("email"==e){const e=this.modalService.open(p.a,{size:"lg"});e.componentInstance.type=i?"collection":"content",e.componentInstance.data=i||n}else if("getLink"==e){const e=this.modalService.open(h.a,{size:"lg"});e.componentInstance.type=i?"collection":"content",e.componentInstance.data=i||n}else if("addToCollection"==e){const e=this.modalService.open(f.a,{size:"lg"});e.componentInstance.data=Object.assign(Object.assign({},n),{type:"coll-inr"}),e.result.then(e=>{e&&e.id==this.id&&this.getCntntColl()})}else if("coll"==e){const e=this.modalService.open(g.a,{size:"lg"});e.componentInstance.colctn=this.selColctn,e.componentInstance.type=t,e.result.then(e=>{e&&"ren"==t&&(this.selColctn.name=e.name)})}else"resource"==e&&this.modalService.open(m.a,{size:"lg"}).result.then(e=>{e&&(this.addContentArr=e,this.addContent())})}addContent(){this.disabled=!0;let e={id:this.id,contents:[]};for(let t=0;t<this.addContentArr.length;t++)e.contents.push(this.addContentArr[t].contentId?this.addContentArr[t].contentId:this.addContentArr[t].id);this.colctnSrv.addContentColctn(e).subscribe(e=>{e&&(this.toastr.success(e.message||"Content added successfully","Success!"),this.getCntntColl()),this.dismissModal(),this.disabled=!1},e=>{this.dismissModal(),this.disabled=!1})}delContent(e){let t=e?[e]:this.selCntntArr.map(e=>e.id),n=1==t.length?"":"s";this.dialog.open(u.a,{data:{msg:`Are you sure you want to remove ${1==t.length?"this":"these"} content${n} from collection?`,title:"Remove Content"+n},autoFocus:!1}).afterClosed().subscribe(e=>{if(e){let e={collectionId:this.id,collectionContentIds:t};this.colctnSrv.delContentColctn(e).subscribe(e=>{e&&(this.toastr.success(e.message||`Content${n} removed successfully`,"Success!"),this.selCntntArr=[],this.getCntntColl())},t=>{this.toastr.error(e.message||"Unable to remove content"+n,"Error!")})}})}selMe(e,t){e?this.selCntntArr.push(t):this.selCntntArr=this.selCntntArr.filter(e=>e.contentId!=t.contentId||e.pageNo!=t.pageNo)}clrSel(){this.selCntntArr=[],this.cntntArr=this.cntntArr.map(e=>Object.assign(Object.assign({},e),{chk:!1}))}selAll(e){e?(this.selCntntArr=this.cntntArr,this.cntntArr=this.cntntArr.map(e=>Object.assign(Object.assign({},e),{chk:!0}))):this.clrSel()}getCntntColl(){this.loading=!0,this.cntntArr=[],this.colctnSrv.getContentColctn(this.id).subscribe(e=>{e&&Array.isArray(e.result)&&e.result.length>0&&(this.cntntArr=e.result.map(e=>Object.assign(Object.assign({},e),{chk:!1})),this.cntntArr.sort((e,t)=>e.sequenceNumber-t.sequenceNumber),this.dragInit()),this.loading=!1},e=>{this.loading=!1})}actDeactColctn(){let e=this.selColctn.isActive?"deactivate":"activate";this.dialog.open(u.a,{data:{msg:`Are you sure you want to ${e} this collection?`,title:(this.selColctn.isActive?"Deactivate":"Activate")+" collection"},autoFocus:!1}).afterClosed().subscribe(t=>{t&&this.colctnSrv.actDeactColctn([this.id],!this.selColctn.isActive).subscribe(t=>{t?(this.toastr.success(`Collection ${e}d successfully`,"Success!"),this.getColctn()):this.toastr.error(`Unable to ${e} collection`,"Error!")},e=>{})})}getColctn(){this.loading=!0,this.colctnSrv.getColctn(this.id).subscribe(e=>{e&&e.result&&e.result.id?(this.selColctn=e.result,this.getCntntColl()):this.router.navigate(["/web-app/resource/collections"])},e=>{this.router.navigate(["/web-app/resource/collections"])})}navgToCntnt(e){this.router.navigate(["/web-app/view/"+e.contentId])}getImg(e){return b.a.getImg(e,"icon")}rearrDataInWrkspc(e){this.cntntArr=this.moveElement(this.cntntArr,e.sourceIndex,e.targetIndex),this.loading=!0;let t={collectionId:this.id,collectionDataIds:this.cntntArr.map(e=>e.id)};this.colctnSrv.rearrCntntColl(t).subscribe(e=>{e&&this.toastr.success("Rearrange successfully","Success!"),this.loading=!1},e=>{this.loading=!1})}openModal(e){this.modalService.open(e,{size:"lg"}).result.then(e=>{},e=>{})}dismissModal(){this.modalService&&this.modalService.dismissAll()}ngOnDestroy(){this.dismissModal(),this.subs.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(v.Nb(C.h),v.Nb(o.a),v.Nb(S.a),v.Nb(y.b),v.Nb(o.d),v.Nb(s.b),v.Nb(P))},e.\u0275cmp=v.Hb({type:e,selectors:[["app-collection-inner"]],decls:3,vars:3,consts:[[3,"type",4,"ngIf"],["class","main main-employee p-3 container mt-3",4,"ngIf"],[3,"selArr","type","content","delContent","clrSelData",4,"ngIf"],[3,"type"],[1,"main","main-employee","p-3","container","mt-3"],[1,"mb-4","clearfix","heading","align-self-center"],[1,"float-right","d-flex"],[1,"btn","btn-light",3,"click"],[1,"fa","fa-envelope","mr-1"],[1,"fa","fa-link","mr-1"],[1,"dropdown","align-self-center","mr-5"],["type","button","id","optionsDD","data-toggle","dropdown",1,"btn","btn-light","curs-ptr"],[1,"fas","fa-ellipsis-h"],["aria-labelledby","optionsDD",1,"dropdown-menu"],[1,"dropdown-item","curs-ptr",3,"click"],[1,"fas","fa-copy","mr-1"],[1,"fas","fa-edit","mr-1"],[1,"dropdown-item","dd","curs-ptr"],[1,"fa","fa-download","mr-1"],[1,"dropdown-menu"],[1,"dropdown-item"],[1,"fas","fa-file-pdf","mr-1"],[1,"fas","fa-file-alt","mr-1"],[3,"click"],["class","fa mr-4 curs-ptr align-self-center",3,"ngClass","click",4,"ngIf"],[1,"btn","btn-primary",3,"click"],[4,"ngIf"],["class","mt-2 row my-files",4,"ngIf"],[1,"fa","mr-4","curs-ptr","align-self-center",3,"ngClass","click"],["class","mt-2 row my-files","dragula","coll-inner",3,"dragulaModel","dragulaModelChange",4,"ngIf"],["class","text-center mt-5 text-secondary","style","font-size: 20px;",4,"ngIf"],["dragula","coll-inner",1,"mt-2","row","my-files",3,"dragulaModel","dragulaModelChange"],["class","card-container col-lg-3 col-md-4 col-sm-6 my-3 mx-auto mx-sm-0",4,"ngFor","ngForOf"],[1,"card-container","col-lg-3","col-md-4","col-sm-6","my-3","mx-auto","mx-sm-0"],[1,"card","curs-ptr"],[1,"card-body"],[1,"imagePreview","text-center",3,"click"],[2,"max-height","200px","max-width","300px",3,"src"],[1,"options","rounded"],[1,"dropleft"],["type","button","id","shareDD","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn"],[1,"fas","fa-share-square"],["aria-labelledby","shareDD",1,"dropdown-menu"],[1,"btn","my-1",3,"click"],[1,"fas","fa-folder-plus"],[1,"btn",3,"click"],[1,"fas","fa-trash-alt"],[1,"card-footer"],[1,"name","text-truncate"],[1,"float-left","text-secondary","d-flex"],["class","items",4,"ngIf"],[1,"float-right"],[3,"checked","change"],[1,"items"],[1,"text-center","mt-5","text-secondary",2,"font-size","20px"],[1,"mt-2","row","my-files"],[1,"table","table-hover"],[3,"change"],[1,"fas","fa-sort-down","ml-1","align-top"],["dragula","coll-inner",3,"dragulaModel","dragulaModelChange",4,"ngIf"],["class","mx-auto mt-5 text-secondary","style","font-size: 20px;",4,"ngIf"],["dragula","coll-inner",3,"dragulaModel","dragulaModelChange"],[4,"ngFor","ngForOf"],[1,"align-middle"],[1,"d-flex",3,"click"],[1,"imagePreview","border","mr-2"],[2,"max-height","50px","max-width","140px",3,"src"],[1,"name","align-self-center"],[1,"align-middle","options"],[1,"d-flex"],[1,"mx-auto","mt-5","text-secondary",2,"font-size","20px"],[3,"selArr","type","content","delContent","clrSelData"]],template:function(e,t){1&e&&(v.Kc(0,z,1,1,"app-loader",0),v.Kc(1,W,36,11,"div",1),v.Kc(2,Q,1,3,"app-sel-itm-fxd-div",2)),2&e&&(v.pc("ngIf",t.loading),v.Ab(1),v.pc("ngIf",!t.loading),v.Ab(1),v.pc("ngIf",t.selCntntArr.length>0))},directives:[i.m,R.a,i.k,$,i.l,a.a,j.a],pipes:[i.e],styles:['.dd[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{top:55%;left:-120%}.dd[_ngcontent-%COMP%]:hover   .dropdown-menu[_ngcontent-%COMP%]{display:block}.min-height-val[_ngcontent-%COMP%]{min-height:230px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%], .cdk-drag[_ngcontent-%COMP%]:not(.cdk-drag-dragging){transition:transform .25s cubic-bezier(0,0,.2,1)}.gu-mirror[_ngcontent-%COMP%]{position:fixed!important;margin:0!important;z-index:9999!important;opacity:.8;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=80)";filter:alpha(opacity=80);pointer-events:none}.gu-hide[_ngcontent-%COMP%]{left:-9999px!important}.gu-unselectable[_ngcontent-%COMP%]{-webkit-user-select:none!important;user-select:none!important}.gu-transit[_ngcontent-%COMP%]{opacity:.2;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=20)";filter:alpha(opacity=20)}.vamp[_ngcontent-%COMP%]{background:hsla(0,0%,100%,.4);list-style:none;padding:8px;color:#222}.vamp[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid #777}.hello[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}']}),e})();var ee=n("zJym"),te=n("tqvG"),ne=n("Amnm"),ie=n("IpHC"),oe=n("u7Mw"),re=n("OraM"),ce=n("FGg4"),ae=n("P/0q");let se=(()=>{class e{}return e.\u0275mod=v.Lb({type:e}),e.\u0275inj=v.Kb({factory:function(t){return new(t||e)},providers:[S.a,ae.a,ce.a,re.a],imports:[[i.c,ee.a,r.e,c.c,a.b]]}),e})();const le=[{path:"",component:Z}];let de=(()=>{class e{}return e.\u0275mod=v.Lb({type:e}),e.\u0275inj=v.Kb({factory:function(t){return new(t||e)},providers:[S.a],imports:[[i.c,o.h.forChild(le),r.e,c.c,a.b,s.e,l.e,ee.a,te.a,ne.a,ie.a,oe.a,se,F.forRoot()]]}),e})()},n6yW:function(e,t,n){"use strict";var i={};function o(e){var t=i[e];return t?t.lastIndex=0:i[e]=t=new RegExp("(?:^|\\s)"+e+"(?:\\s|$)","g"),t}e.exports={add:function(e,t){var n=e.className;n.length?o(t).test(n)||(e.className+=" "+t):e.className=t},rm:function(e,t){e.className=e.className.replace(o(t)," ").trim()}}}}]);