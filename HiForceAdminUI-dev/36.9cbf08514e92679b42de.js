(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{kUR2:function(t,i,e){"use strict";e.r(i),e.d(i,"CollectionInnerModule",(function(){return st}));var n=e("ofXK"),c=e("tyNb"),s=e("kmnG"),r=e("bSwM"),o=e("0IaG"),l=e("IJgu"),a=e("s0Cq"),d=e("OQ+D"),b=e("E/a4"),h=e("TNUc"),f=e("Q6ig"),u=e("fXoL"),g=e("1kSV"),p=e("CFzk"),m=e("5eHb"),A=e("P/0q"),v=e("FGg4"),S=e("OraM"),C=e("668k"),T=e("WoM1");function k(t,i){1&t&&u.Ob(0,"app-loader",4),2&t&&u.pc("type","page")}const y=function(t,i){return{"fa-list-ul":t,"fa-th-large":i}};function w(t,i){if(1&t){const t=u.Ub();u.Tb(0,"i",29),u.ec("click",(function(){u.Ac(t);const i=u.ic(2);return i.view=!i.view})),u.Sb()}if(2&t){const t=u.ic(2);u.pc("ngClass",u.uc(1,y,t.view,!t.view))}}function L(t,i){if(1&t&&(u.Tb(0,"div",54),u.Lc(1),u.Sb()),2&t){const t=u.ic().$implicit;u.Ab(1),u.Nc("Page\xa0",t.pageNo,"")}}function I(t,i){if(1&t){const t=u.Ub();u.Tb(0,"div",33),u.Tb(1,"div",34),u.Tb(2,"div",35),u.Tb(3,"div",36),u.ec("click",(function(){u.Ac(t);const e=i.$implicit;return u.ic(4).navgToCntnt(e)})),u.Ob(4,"img",37),u.Sb(),u.Tb(5,"div",38),u.Tb(6,"div",39),u.Tb(7,"button",40),u.Ob(8,"i",41),u.Sb(),u.Tb(9,"div",42),u.Tb(10,"a",43),u.ec("click",(function(){return u.Ac(t),u.ic(4).cmnModal("email")})),u.Ob(11,"i",9),u.Lc(12,"Email"),u.Sb(),u.Tb(13,"a",43),u.ec("click",(function(){return u.Ac(t),u.ic(4).cmnModal("getLink")})),u.Ob(14,"i",10),u.Lc(15,"Get a link"),u.Sb(),u.Sb(),u.Sb(),u.Tb(16,"div",44),u.ec("click",(function(){u.Ac(t);const e=i.$implicit;return u.ic(4).cmnModal("addToCollection","",e)})),u.Ob(17,"i",45),u.Sb(),u.Tb(18,"div",46),u.ec("click",(function(){u.Ac(t);const e=i.$implicit;return u.ic(4).delContent(e.contentId)})),u.Ob(19,"i",47),u.Sb(),u.Sb(),u.Sb(),u.Tb(20,"div",48),u.Tb(21,"div",49),u.Lc(22),u.Sb(),u.Tb(23,"div",50),u.Jc(24,L,2,1,"div",51),u.Sb(),u.Tb(25,"div",52),u.Tb(26,"mat-checkbox",53),u.ec("change",(function(e){u.Ac(t);const n=i.$implicit;return u.ic(4).selMe(e.checked,n)})),u.Sb(),u.Sb(),u.Sb(),u.Sb(),u.Sb()}if(2&t){const t=i.$implicit,e=u.ic(4);u.Ab(4),u.pc("src",t.pdfImagePath?t.pdfImagePath:t.urlIconPath?t.urlIconPath:e.defImg,u.Cc),u.Ab(18),u.Mc(t.name),u.Ab(2),u.pc("ngIf",t.pageNo)}}function O(t,i){if(1&t&&(u.Tb(0,"div",31),u.Jc(1,I,27,3,"div",32),u.Sb()),2&t){const t=u.ic(3);u.Ab(1),u.pc("ngForOf",t.cntntArr)}}function x(t,i){1&t&&(u.Tb(0,"div",55),u.Lc(1," No Content Found "),u.Sb())}function F(t,i){if(1&t&&(u.Rb(0),u.Jc(1,O,2,1,"div",28),u.Jc(2,x,2,0,"div",30),u.Qb()),2&t){const t=u.ic(2);u.Ab(1),u.pc("ngIf",t.cntntArr.length>0),u.Ab(1),u.pc("ngIf",0==t.cntntArr.length)}}function M(t,i){if(1&t){const t=u.Ub();u.Tb(0,"tr"),u.Tb(1,"td",60),u.Tb(2,"mat-checkbox",53),u.ec("change",(function(e){u.Ac(t);const n=i.$implicit;return u.ic(4).selMe(e.checked,n)})),u.Sb(),u.Sb(),u.Tb(3,"td",60),u.Tb(4,"div",61),u.ec("click",(function(){u.Ac(t);const e=i.$implicit;return u.ic(4).navgToCntnt(e)})),u.Tb(5,"div",62),u.Ob(6,"img",37),u.Sb(),u.Tb(7,"div",63),u.Lc(8),u.Sb(),u.Sb(),u.Sb(),u.Tb(9,"td",60),u.Lc(10),u.jc(11,"date"),u.Sb(),u.Tb(12,"td",64),u.Tb(13,"div",65),u.Tb(14,"div",39),u.Tb(15,"button",40),u.Ob(16,"i",41),u.Sb(),u.Tb(17,"div",42),u.Tb(18,"a",43),u.ec("click",(function(){return u.Ac(t),u.ic(4).cmnModal("email")})),u.Ob(19,"i",9),u.Lc(20,"Email"),u.Sb(),u.Tb(21,"a",43),u.ec("click",(function(){return u.Ac(t),u.ic(4).cmnModal("getLink")})),u.Ob(22,"i",10),u.Lc(23,"Get a link"),u.Sb(),u.Sb(),u.Sb(),u.Tb(24,"div",46),u.ec("click",(function(){return u.Ac(t),u.ic(4).cmnModal("addToCollection")})),u.Ob(25,"i",45),u.Sb(),u.Tb(26,"div",46),u.ec("click",(function(){u.Ac(t);const e=i.$implicit;return u.ic(4).delContent(e.contentId)})),u.Ob(27,"i",47),u.Sb(),u.Sb(),u.Sb(),u.Sb()}if(2&t){const t=i.$implicit,e=u.ic(4);u.Ab(6),u.pc("src",t.pdfImagePath?t.pdfImagePath:t.urlIconPath?t.urlIconPath:e.defImg,u.Cc),u.Ab(2),u.Mc(t.name),u.Ab(2),u.Mc(u.lc(11,3,t.updatedDate,"dd MMM, yyyy")||"N/A")}}function N(t,i){if(1&t&&(u.Tb(0,"tbody"),u.Jc(1,M,28,6,"tr",59),u.Sb()),2&t){const t=u.ic(3);u.Ab(1),u.pc("ngForOf",t.cntntArr)}}function J(t,i){1&t&&(u.Tb(0,"div",66),u.Lc(1," No Content Found "),u.Sb())}function $(t,i){if(1&t&&(u.Tb(0,"div",31),u.Tb(1,"table",56),u.Tb(2,"thead"),u.Tb(3,"tr"),u.Tb(4,"th"),u.Ob(5,"mat-checkbox"),u.Sb(),u.Tb(6,"th"),u.Lc(7,"Name"),u.Ob(8,"i",57),u.Sb(),u.Tb(9,"th"),u.Lc(10,"Date Modified"),u.Ob(11,"i",57),u.Sb(),u.Ob(12,"th"),u.Sb(),u.Sb(),u.Jc(13,N,2,1,"tbody",27),u.Sb(),u.Jc(14,J,2,0,"div",58),u.Sb()),2&t){const t=u.ic(2);u.Ab(13),u.pc("ngIf",t.cntntArr.length>0),u.Ab(1),u.pc("ngIf",0==t.cntntArr.length)}}function D(t,i){if(1&t){const t=u.Ub();u.Tb(0,"div",5),u.Tb(1,"h3",6),u.Lc(2),u.Tb(3,"div",7),u.Tb(4,"div",8),u.ec("click",(function(){return u.Ac(t),u.ic().cmnModal("email")})),u.Ob(5,"i",9),u.Sb(),u.Tb(6,"div",8),u.ec("click",(function(){return u.Ac(t),u.ic().cmnModal("getLink")})),u.Ob(7,"i",10),u.Sb(),u.Tb(8,"div",11),u.Tb(9,"div",12),u.Ob(10,"i",13),u.Sb(),u.Tb(11,"div",14),u.Tb(12,"a",15),u.ec("click",(function(){return u.Ac(t),u.ic().cmnModal("coll","dupl")})),u.Ob(13,"i",16),u.Lc(14,"Duplicate "),u.Sb(),u.Tb(15,"a",15),u.ec("click",(function(){return u.Ac(t),u.ic().cmnModal("coll","ren")})),u.Ob(16,"i",17),u.Lc(17,"Rename "),u.Sb(),u.Tb(18,"a",18),u.Ob(19,"i",19),u.Lc(20,"Download "),u.Tb(21,"div",20),u.Tb(22,"a",21),u.Ob(23,"i",22),u.Lc(24,"As a single PDF"),u.Sb(),u.Tb(25,"a",21),u.Ob(26,"i",23),u.Lc(27,"As separate items"),u.Sb(),u.Sb(),u.Sb(),u.Tb(28,"a",24),u.ec("click",(function(){return u.Ac(t),u.ic().actDeactColctn()})),u.Ob(29,"i"),u.Lc(30),u.Sb(),u.Sb(),u.Sb(),u.Jc(31,w,1,4,"i",25),u.Tb(32,"button",26),u.ec("click",(function(){u.Ac(t);const i=u.ic(),e=u.xc(4);return i.addResourceModal(e)})),u.Lc(33,"Add Resource"),u.Sb(),u.Sb(),u.Sb(),u.Jc(34,F,3,2,"ng-container",27),u.Jc(35,$,15,2,"div",28),u.Sb()}if(2&t){const t=u.ic();u.Ab(2),u.Nc(" ",t.selColctn.name," "),u.Ab(26),u.Db("dropdown-item curs-ptr ",t.selColctn.isActive?"text-primary":"text-success",""),u.Ab(1),u.Db("mr-1 fas fa-toggle-",t.selColctn.isActive?"off":"on",""),u.Ab(1),u.Nc(" ",t.selColctn.isActive?"Deactivate":"Activate"," "),u.Ab(1),u.pc("ngIf",t.cntntArr.length>0),u.Ab(3),u.pc("ngIf",t.view),u.Ab(1),u.pc("ngIf",!t.view)}}function P(t,i){if(1&t){const t=u.Ub();u.Tb(0,"app-sel-itm-fxd-div",67),u.ec("delContent",(function(){return u.Ac(t),u.ic().delContent(void 0)})),u.Sb()}if(2&t){const t=u.ic();u.pc("selArr",t.selContentArr)("content",!0)}}function U(t,i){if(1&t){const t=u.Ub();u.Tb(0,"li",87),u.ec("click",(function(){return u.Ac(t),u.ic(3).backNav()})),u.Ob(1,"i",88),u.Sb()}}function W(t,i){if(1&t&&(u.Tb(0,"li",89),u.Lc(1),u.Sb()),2&t){const t=i.$implicit;u.Ab(1),u.Mc(t.name)}}function j(t,i){if(1&t&&(u.Tb(0,"nav",82),u.Tb(1,"ol",83),u.Jc(2,U,2,0,"li",84),u.Jc(3,W,2,1,"li",85),u.Sb(),u.Ob(4,"hr",86),u.Sb()),2&t){const t=u.ic(2);u.Ab(2),u.pc("ngIf",t.contentNav.length>0),u.Ab(1),u.pc("ngForOf",t.contentNav)}}function R(t,i){1&t&&(u.Rb(0),u.Ob(1,"app-loader",4),u.Qb()),2&t&&(u.Ab(1),u.pc("type","div"))}function z(t,i){if(1&t){const t=u.Ub();u.Tb(0,"div",92),u.ec("click",(function(){u.Ac(t);const e=i.$implicit;return u.ic(4).showWorkspcFldrs(e)})),u.Tb(1,"div",97),u.Ob(2,"img",98),u.Sb(),u.Tb(3,"div",63),u.Lc(4),u.Sb(),u.Tb(5,"div",95),u.Ob(6,"i",96),u.Sb(),u.Sb()}if(2&t){const t=i.$implicit;u.Ab(4),u.Nc(" ",t.name," ")}}function E(t,i){if(1&t){const t=u.Ub();u.Tb(0,"div",92),u.ec("click",(function(){u.Ac(t);const e=i.$implicit;return u.ic(4).getCntntColl(e)})),u.Tb(1,"div",97),u.Ob(2,"img",98),u.Sb(),u.Tb(3,"div",63),u.Lc(4),u.Sb(),u.Tb(5,"div",95),u.Ob(6,"i",96),u.Sb(),u.Sb()}if(2&t){const t=i.$implicit;u.Ab(4),u.Mc(t.name)}}function q(t,i){if(1&t){const t=u.Ub();u.Tb(0,"div"),u.Tb(1,"div",90),u.Lc(2,"Workspaces"),u.Sb(),u.Jc(3,z,7,1,"div",91),u.Tb(4,"div",90),u.Lc(5,"My Files"),u.Sb(),u.Tb(6,"div",92),u.ec("click",(function(){return u.Ac(t),u.ic(3).showMyFiles()})),u.Tb(7,"div",93),u.Ob(8,"i",94),u.Sb(),u.Tb(9,"div",63),u.Lc(10," My Files "),u.Sb(),u.Tb(11,"div",95),u.Ob(12,"i",96),u.Sb(),u.Sb(),u.Tb(13,"div",90),u.Lc(14,"Collections"),u.Sb(),u.Jc(15,E,7,1,"div",91),u.Sb()}if(2&t){const t=u.ic(3);u.Ab(3),u.pc("ngForOf",t.workspcArr),u.Ab(12),u.pc("ngForOf",t.colctnArr)}}function G(t,i){if(1&t){const t=u.Ub();u.Tb(0,"div",92),u.ec("click",(function(){u.Ac(t);const e=i.$implicit,n=u.ic(5);return!1===n.showAll?n.showWorkspcFldrs(void 0,e):n.showMyFiles(e)})),u.Tb(1,"div",97),u.Ob(2,"img",101),u.Sb(),u.Tb(3,"div",63),u.Lc(4),u.Sb(),u.Tb(5,"div",95),u.Ob(6,"i",96),u.Sb(),u.Sb()}if(2&t){const t=i.$implicit;u.Ab(2),u.qc("src",t.folderIconPath?t.folderIconPath:"assets/images/folderIcon.png",u.Cc),u.Ab(2),u.Nc(" ",t.name," ")}}function K(t,i){if(1&t){const t=u.Ub();u.Tb(0,"div",102),u.Tb(1,"mat-checkbox",103),u.ec("change",(function(e){u.Ac(t);const n=i.$implicit;return u.ic(5).selectContent(n,e.checked)})),u.Sb(),u.Tb(2,"div",97),u.Ob(3,"img",101),u.Sb(),u.Tb(4,"div",63),u.Lc(5),u.Sb(),u.Sb()}if(2&t){const t=i.$implicit;u.Ab(3),u.qc("src",t.pdfImages&&t.pdfImages.length>0?t.pdfImages[0].imagePath:t.urlIconPath,u.Cc),u.Ab(2),u.Nc(" ",t.name," ")}}function Q(t,i){if(1&t&&(u.Rb(0),u.Jc(1,G,7,2,"div",91),u.Jc(2,K,6,2,"div",100),u.Qb()),2&t){const t=u.ic(4);u.Ab(1),u.pc("ngForOf",t.fldrArr),u.Ab(1),u.pc("ngForOf",t.mdlCntntArr)}}function _(t,i){1&t&&(u.Tb(0,"div",104),u.Lc(1," No Data Found "),u.Sb())}function H(t,i){if(1&t&&(u.Tb(0,"div"),u.Jc(1,Q,3,2,"ng-container",78),u.Jc(2,_,2,0,"ng-template",null,99,u.Kc),u.Sb()),2&t){const t=u.xc(3),i=u.ic(3);u.Ab(1),u.pc("ngIf",i.fldrArr.length>0||i.mdlCntntArr.length>0)("ngIfElse",t)}}function B(t,i){if(1&t&&(u.Jc(0,q,16,2,"div",27),u.Jc(1,H,4,2,"div",27)),2&t){const t=u.ic(2);u.pc("ngIf",t.showAll),u.Ab(1),u.pc("ngIf",!t.showAll)}}function X(t,i){1&t&&u.Ob(0,"app-loader",4),2&t&&u.pc("type","btn")}function V(t,i){if(1&t){const t=u.Ub();u.Tb(0,"div",68),u.Tb(1,"h4",69),u.Lc(2,"Select Resource"),u.Sb(),u.Tb(3,"button",70),u.ec("click",(function(){return i.$implicit.dismiss("Cross click")})),u.Tb(4,"span",71),u.Lc(5,"\xd7"),u.Sb(),u.Sb(),u.Sb(),u.Tb(6,"div",72),u.Tb(7,"div",73),u.Tb(8,"mat-form-field",74),u.Ob(9,"i",75),u.Ob(10,"input",76),u.Sb(),u.Sb(),u.Jc(11,j,5,2,"nav",77),u.Jc(12,R,2,1,"ng-container",78),u.Jc(13,B,2,2,"ng-template",null,79,u.Kc),u.Sb(),u.Tb(15,"div",80),u.Tb(16,"button",81),u.ec("click",(function(){return u.Ac(t),u.ic().addContent()})),u.Jc(17,X,1,1,"app-loader",0),u.Lc(18),u.Sb(),u.Sb()}if(2&t){const t=u.xc(14),i=u.ic();u.Ab(8),u.pc("floatLabel","never"),u.Ab(3),u.pc("ngIf",!i.showAll),u.Ab(1),u.pc("ngIf",i.wrkspcLoading&&i.colctnLoading||i.fldrLoading&&i.sFldrLoading||i.cntntLoading)("ngIfElse",t),u.Ab(4),u.pc("disabled",0==i.addContentArr.length||i.disabled),u.Ab(1),u.pc("ngIf",i.disabled),u.Ab(1),u.Nc(" ",0==i.addContentArr.length?"0 Items Selected":"Insert "+i.addContentArr.length+" item(s)"," ")}}let Y=(()=>{class t{constructor(t,i,e,n,c,s,r,o,l){this.modalService=t,this.route=i,this.colctnSrv=e,this.toastr=n,this.router=c,this.dialog=s,this.expServ=r,this.fileServ=o,this.cwServ=l,this.view=!0,this.defImg=a.b,this.copyLink=t=>{t.select(),t.setSelectionRange(0,99999),document.execCommand("copy")}}ngOnInit(){this.routerSubs=this.route.params.subscribe(t=>{this.id=parseInt(t.cid),this.initialiseState(),this.getColctn()})}initialiseState(){this.view=!0,this.disabled=!1,this.loading=!0,this.wrkspcLoading=!0,this.colctnLoading=!0,this.fldrLoading=!1,this.sFldrLoading=!1,this.cntntLoading=!1,this.selColctn=void 0,this.selContentArr=[],this.multiForm=0,this.cntntArr=[],this.workspcArr=[],this.colctnArr=[],this.fldrArr=[],this.selWrkspc=void 0,this.selFldr=void 0,this.mdlCntntArr=[],this.addContentArr=[],this.showAll=!0,this.contentNav=[]}cmnModal(t,i,e){if("email"==t)this.openModal(d.a);else if("getLink"==t)this.openModal(b.a);else if("addToCollection"==t){console.log("sdsdsd");const t=this.modalService.open(h.a);t.componentInstance.data=Object.assign(Object.assign({},e),{type:"coll-inr"}),t.result.then(t=>{t&&t.id==this.id&&this.getCntntColl()})}else if("coll"==t){const t=this.modalService.open(f.a);t.componentInstance.colctn=this.selColctn,t.componentInstance.type=i,t.result.then(t=>{t&&"ren"==i&&(this.selColctn.name=t.name)})}}selectContent(t,i){i?this.addContentArr.push(t):this.addContentArr=this.addContentArr.filter(i=>i.id!=t.id)}showMyFiles(t,i){this.fldrLoading=!0,this.cntntLoading=!0,"back"!==i&&(t?this.contentNav.push(t):this.contentNav=[{name:"My Files"}]),this.fileServ.myFiles({folderId:t?t.id:void 0}).subscribe(t=>{t&&t.result&&(Array.isArray(t.result.contents)&&t.result.contents.length>0?this.mdlCntntArr=t.result.contents:Array.isArray(t.result.contents)&&0==t.result.contents.length&&(this.mdlCntntArr=[]),Array.isArray(t.result.folders)&&t.result.folders.length>0?this.fldrArr=t.result.folders:Array.isArray(t.result.folders)&&0==t.result.folders.length&&(this.fldrArr=[])),this.showAll=void 0,this.fldrLoading=!1,this.cntntLoading=!1},t=>{this.showAll=!1,this.fldrLoading=!1,this.cntntLoading=!1})}getWrkspcList(){this.wrkspcLoading=!0,this.expServ.wrkspcListEmp().subscribe(t=>{t&&t.result&&Array.isArray(t.result)&&t.result.length>0&&(this.workspcArr=t.result),this.wrkspcLoading=!1},t=>{this.wrkspcLoading=!1})}getAllObjWrkspc(){this.expServ.getAllObjWrkspc({workspaceId:this.selWrkspc.id,isActive:!0,folderId:this.selFldr?this.selFldr.id:void 0}).subscribe(t=>{if(t&&t.result&&t.result.result){if(Array.isArray(t.result.result[0].contents)&&t.result.result[0].contents.length>0&&this.mdlCntntArr.push(...t.result.result[0].contents),Array.isArray(t.result.result[0].folders)&&t.result.result[0].folders.length>0)for(let i=0;i<t.result.result[0].folders.length;i++)this.fldrArr.push(Object.assign(Object.assign({},t.result.result[0].folders[i]),{key:"fldr"}));if(Array.isArray(t.result.result[0].smartFolders)&&t.result.result[0].smartFolders.length>0)for(let i=0;i<t.result.result[0].smartFolders.length;i++)this.fldrArr.push(Object.assign(Object.assign({},t.result.result[0].smartFolders[i]),{key:"smtFldr"}))}this.fldrLoading=!1},t=>{this.fldrLoading=!1})}listColctn(){this.colctnArr=[],this.colctnLoading=!0,this.colctnSrv.colctnList({pageNo:0}).subscribe(t=>{t&&t.result&&Array.isArray(t.result.results)&&t.result.results.length>0&&(this.colctnArr=t.result.results),this.colctnLoading=!1},t=>{this.colctnLoading=!1})}showWorkspcFldrs(t,i){i?(this.contentNav.push(i),this.selFldr=i,this.mdlCntntArr=[]):(this.selWrkspc=t,this.contentNav=[t]),this.fldrArr=[],this.getAllObjWrkspc(),this.showAll=!1}backNav(){this.contentNav.pop(),this.selFldr=this.contentNav.length>1?this.contentNav[this.contentNav.length-1]:void 0,this.fldrArr=[],this.mdlCntntArr=[],0==this.contentNav.length?(this.selFldr=void 0,this.showAll=!0):!1===this.showAll?this.getAllObjWrkspc():this.showMyFiles(this.selFldr,"back")}addContent(){this.disabled=!0;let t={id:this.id,contents:[]};for(let i=0;i<this.addContentArr.length;i++)t.contents.push(this.addContentArr[i].contentId?this.addContentArr[i].contentId:this.addContentArr[i].id);this.colctnSrv.addContentColctn(t).subscribe(t=>{t&&(this.toastr.success(t.message||"Content added successfully","Success!"),this.getCntntColl()),this.dismissModal(),this.disabled=!1},t=>{this.dismissModal(),this.disabled=!1})}addResourceModal(t){this.getWrkspcList(),this.listColctn(),this.openModal(t)}delContent(t){let i=t?[t]:this.selContentArr,e=1==i.length?"":"s";console.log(i),this.dialog.open(l.a,{data:{msg:`Are you sure you want to remove ${1==i.length?"this":"these"} content${e} from collection?`,title:"Remove Content"+e},autoFocus:!1}).afterClosed().subscribe(t=>{if(t){let t={collectionId:this.id,contentIds:i};this.colctnSrv.delContentColctn(t).subscribe(t=>{t&&(this.toastr.success(t.message||`Content${e} removed successfully`,"Success!"),this.selContentArr=[],this.getCntntColl())},i=>{this.toastr.error(t.message||"Unable to remove content"+e,"Error!")})}})}selMe(t,i){t?this.selContentArr.push(i.contentId):this.selContentArr=this.selContentArr.filter(t=>t!=i.id)}getContentSmtFldr(){this.cntntLoading=!0,this.cwServ.contentBySmartFolder({workspaceId:this.selWrkspc.id,folderId:this.selFldr?this.selFldr.id:void 0}).subscribe(t=>{t&&t.result&&Array.isArray(t.result)&&t.result.length>0&&this.mdlCntntArr.push(...t.result),this.cntntLoading=!1},t=>{this.cntntLoading=!1})}getCntntColl(t){let i;t?(i=t.id,this.contentNav=[t],this.cntntLoading=!0):(this.loading=!0,i=this.id),this.colctnSrv.getContentColctn(i).subscribe(i=>{i&&i.result&&Array.isArray(i.result)&&i.result.length>0?t?this.mdlCntntArr=i.result:this.cntntArr=i.result:i&&i.result&&Array.isArray(i.result)&&0==i.result.length&&(t?this.mdlCntntArr=[]:this.cntntArr=[]),t?(this.showAll=!1,this.cntntLoading=!1):this.loading=!1},i=>{t?(this.showAll=!1,this.cntntLoading=!1):this.loading=!1})}actDeactColctn(){let t=this.selColctn.isActive?"deactivate":"activate";this.dialog.open(l.a,{data:{msg:`Are you sure you want to ${t} this collection?`,title:(this.selColctn.isActive?"Deactivate":"Activate")+" collection"},autoFocus:!1}).afterClosed().subscribe(i=>{i&&this.colctnSrv.actDeactColctn([this.id],!this.selColctn.isActive).subscribe(i=>{i?(this.toastr.success(`Collection ${t}d successfully`,"Success!"),this.getColctn()):this.toastr.error(`Unable to ${t} collection`,"Error!")},t=>{})})}getColctn(){this.loading=!0,this.colctnSrv.getColctn(this.id).subscribe(t=>{t&&t.result?(this.selColctn=t.result,this.getCntntColl()):this.router.navigate(["/web-app/resource/collections"])},t=>{this.router.navigate(["/web-app/resource/collections"])})}navgToCntnt(t){this.router.navigate(["/web-app/view/"+t.contentId])}openModal(t){this.modalService.open(t,{ariaLabelledBy:"modal-basic-title",size:"lg"}).result.then(t=>{},t=>{})}dismissModal(){this.modalService&&this.modalService.dismissAll()}ngOnDestroy(){this.dismissModal()}}return t.\u0275fac=function(i){return new(i||t)(u.Nb(g.f),u.Nb(c.a),u.Nb(p.a),u.Nb(m.b),u.Nb(c.d),u.Nb(o.b),u.Nb(A.a),u.Nb(v.a),u.Nb(S.a))},t.\u0275cmp=u.Hb({type:t,selectors:[["app-collection-inner"]],decls:5,vars:3,consts:[[3,"type",4,"ngIf"],["class","main main-employee p-3 container mt-3",4,"ngIf"],[3,"selArr","content","delContent",4,"ngIf"],["addResource",""],[3,"type"],[1,"main","main-employee","p-3","container","mt-3"],[1,"mb-4","clearfix","heading","align-self-center"],[1,"float-right","d-flex"],[1,"btn","btn-light",3,"click"],[1,"fa","fa-envelope","mr-1"],[1,"fa","fa-link","mr-1"],[1,"dropdown","align-self-center","mr-5"],["type","button","id","optionsDD","data-toggle","dropdown",1,"btn","btn-light","curs-ptr"],[1,"fas","fa-ellipsis-h"],["aria-labelledby","optionsDD",1,"dropdown-menu"],[1,"dropdown-item","curs-ptr",3,"click"],[1,"fas","fa-copy","mr-1"],[1,"fas","fa-edit","mr-1"],[1,"dropdown-item","dd","curs-ptr"],[1,"fa","fa-download","mr-1"],[1,"dropdown-menu"],[1,"dropdown-item"],[1,"fas","fa-file-pdf","mr-1"],[1,"fas","fa-file-alt","mr-1"],[3,"click"],["class","fa mr-4 curs-ptr align-self-center",3,"ngClass","click",4,"ngIf"],[1,"btn","btn-primary",3,"click"],[4,"ngIf"],["class","mt-2 row my-files",4,"ngIf"],[1,"fa","mr-4","curs-ptr","align-self-center",3,"ngClass","click"],["class","text-center mt-5 text-secondary","style","font-size: 20px;",4,"ngIf"],[1,"mt-2","row","my-files"],["class","card-container col-lg-3 col-md-4 col-sm-6 my-3 mx-auto mx-sm-0",4,"ngFor","ngForOf"],[1,"card-container","col-lg-3","col-md-4","col-sm-6","my-3","mx-auto","mx-sm-0"],[1,"card","curs-ptr"],[1,"card-body"],[1,"imagePreview","text-center",3,"click"],[3,"src"],[1,"options","rounded"],[1,"dropleft"],["type","button","id","shareDD","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn"],[1,"fas","fa-share-square"],["aria-labelledby","shareDD",1,"dropdown-menu"],[1,"dropdown-item",3,"click"],[1,"btn","my-1",3,"click"],[1,"fas","fa-folder-plus"],[1,"btn",3,"click"],[1,"fas","fa-trash-alt"],[1,"card-footer"],[1,"name","text-truncate"],[1,"float-left","text-secondary","d-flex"],["class","items",4,"ngIf"],[1,"float-right"],[3,"change"],[1,"items"],[1,"text-center","mt-5","text-secondary",2,"font-size","20px"],[1,"table","table-hover"],[1,"fas","fa-sort-down","ml-1","align-top"],["class","mx-auto mt-5 text-secondary","style","font-size: 20px;",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"align-middle"],[1,"d-flex",3,"click"],[1,"imagePreview","border","mr-2"],[1,"name","align-self-center"],[1,"align-middle","options"],[1,"d-flex"],[1,"mx-auto","mt-5","text-secondary",2,"font-size","20px"],[3,"selArr","content","delContent"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["ngbAutofocus","",1,"modal-body","min-height-val"],[1,"search"],["appearance","outline",1,"custom-mat-input","w-100","mb-2","bg-white",3,"floatLabel"],["matPrefix","",1,"fas","fa-search"],["matInput","","placeholder","Search"],["aria-label","breadcrumb",4,"ngIf"],[4,"ngIf","ngIfElse"],["loaded",""],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"disabled","click"],["aria-label","breadcrumb"],[1,"breadcrumb","bg-white","mb-0","p-0","ml-1"],["class","curs-ptr text-primary mr-2","style","font-size: 16px;",3,"click",4,"ngIf"],["class","breadcrumb-item",4,"ngFor","ngForOf"],[1,"mt-1"],[1,"curs-ptr","text-primary","mr-2",2,"font-size","16px",3,"click"],[1,"fa","fa-arrow-left","align-self-center"],[1,"breadcrumb-item"],[1,"text-secondary","font-weight-bold","my-2"],["class","d-flex border-bottom p-2 dark-bg-hover",3,"click",4,"ngFor","ngForOf"],[1,"d-flex","border-bottom","p-2","dark-bg-hover",3,"click"],[1,"icon","text-center","mr-2",2,"height","50px","width","40px"],[1,"fas","fa-folder","mt-3"],[1,"arrow","align-self-center","ml-auto","mr-3"],[1,"fa","fa-angle-right"],[1,"icon","align-self-center","mr-2"],["src","assets/images/discription.png",2,"max-height","50px","width","40px"],["noDATA",""],["class","d-flex border-bottom p-2 dark-bg-hover",4,"ngFor","ngForOf"],[2,"max-height","50px","width","40px",3,"src"],[1,"d-flex","border-bottom","p-2","dark-bg-hover"],[1,"align-self-center","mr-2",3,"change"],[1,"text-secondary","text-center","mt-5"]],template:function(t,i){1&t&&(u.Jc(0,k,1,1,"app-loader",0),u.Jc(1,D,36,11,"div",1),u.Jc(2,P,1,2,"app-sel-itm-fxd-div",2),u.Jc(3,V,19,7,"ng-template",null,3,u.Kc)),2&t&&(u.pc("ngIf",i.loading),u.Ab(1),u.pc("ngIf",!i.loading),u.Ab(1),u.pc("ngIf",i.selContentArr.length>0))},directives:[n.m,C.a,n.k,n.l,r.a,T.a,s.c,s.h],pipes:[n.e],styles:[".dd[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{top:55%;left:-120%}.dd[_ngcontent-%COMP%]:hover   .dropdown-menu[_ngcontent-%COMP%]{display:block}.min-height-val[_ngcontent-%COMP%]{min-height:230px}"]}),t})();var Z=e("zJym"),tt=e("tqvG"),it=e("Amnm"),et=e("IpHC"),nt=e("u7Mw");const ct=[{path:"",component:Y}];let st=(()=>{class t{}return t.\u0275mod=u.Lb({type:t}),t.\u0275inj=u.Kb({factory:function(i){return new(i||t)},providers:[p.a,A.a,v.a,S.a],imports:[[n.c,c.h.forChild(ct),s.e,r.b,Z.a,o.e,tt.a,it.a,et.a,nt.a]]}),t})()}}]);