(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{okY7:function(i,t,e){"use strict";e.r(t),e.d(t,"FileModule",(function(){return Si}));var c=e("ofXK"),n=e("tyNb"),r=e("3Pt+"),l=e("bSwM"),o=e("kmnG"),a=e("qFsG"),s=e("Qu3c"),d=e("1jcm"),b=e("QibW"),f=e("IJgu"),u=e("OQ+D"),m=e("E/a4"),p=e("TNUc"),h=e("c2Mc"),g=e("fXoL"),S=e("1kSV"),v=e("5eHb"),T=e("0IaG"),A=e("FGg4"),y=e("OraM"),F=e("k8Mo"),k=e("668k"),x=e("WoM1");const L=function(i,t){return{"fa-list-ul":i,"fa-th-large":t}};function O(i,t){if(1&i){const i=g.Ub();g.Tb(0,"i",46),g.ec("click",(function(){return g.Ac(i),g.ic().switchView()})),g.Sb()}if(2&i){const i=g.ic();g.qc("matTooltip",i.view?"List View":"Grid View"),g.pc("ngClass",g.uc(2,L,i.view,!i.view))}}function w(i,t){if(1&i){const i=g.Ub();g.Tb(0,"span",52),g.ec("click",(function(){g.Ac(i);const t=g.ic().$implicit;return g.ic(2).navgToFldr(t)})),g.Lc(1),g.Sb()}if(2&i){const i=g.ic().$implicit;g.Ab(1),g.Nc(" ",i.name," ")}}function I(i,t){if(1&i&&(g.Tb(0,"span"),g.Lc(1),g.Sb()),2&i){const i=g.ic().$implicit;g.Ab(1),g.Mc(i.name)}}function M(i,t){if(1&i&&(g.Tb(0,"li",50),g.Jc(1,w,2,1,"span",51),g.Jc(2,I,2,1,"span",27),g.Sb()),2&i){const i=t.last;g.Ab(1),g.pc("ngIf",!i),g.Ab(1),g.pc("ngIf",i)}}function C(i,t){if(1&i&&(g.Tb(0,"nav",47),g.Tb(1,"ol",48),g.Jc(2,M,3,2,"li",49),g.Sb(),g.Sb()),2&i){const i=g.ic();g.Ab(2),g.pc("ngForOf",i.navg)}}function J(i,t){1&i&&g.Ob(0,"app-loader",54),2&i&&g.pc("type","page")}function D(i,t){1&i&&(g.Tb(0,"div",61),g.Lc(1," Sort by: "),g.Tb(2,"span",62),g.Lc(3,"Name"),g.Ob(4,"i",63),g.Sb(),g.Tb(5,"span",64),g.Lc(6,"Date Modified"),g.Ob(7,"i",63),g.Sb(),g.Sb())}function U(i,t){1&i&&(g.Tb(0,"div",65),g.Lc(1,"Folders"),g.Sb())}function N(i,t){if(1&i){const i=g.Ub();g.Tb(0,"div",66),g.Tb(1,"div",67),g.Tb(2,"div",68),g.ec("click",(function(){g.Ac(i);const e=t.$implicit;return g.ic(3).navgToFldr(e)})),g.Tb(3,"div",69),g.Ob(4,"i",5),g.Lc(5),g.Sb(),g.Tb(6,"div",70),g.Tb(7,"div",71),g.Tb(8,"div",72),g.ec("click",(function(e){g.Ac(i);const c=t.$implicit,n=g.ic(3),r=g.xc(45);return e.stopPropagation(),n.setSelRow(r,c)})),g.Ob(9,"i",73),g.Sb(),g.Tb(10,"div",72),g.ec("click",(function(e){g.Ac(i);const c=t.$implicit,n=g.ic(3);return e.stopPropagation(),n.delCntntOrFldr(c,!0)})),g.Ob(11,"i",74),g.Sb(),g.Sb(),g.Tb(12,"mat-checkbox",75),g.ec("change",(function(e){g.Ac(i);const c=t.$implicit;return g.ic(3).selMe(e.checked,c)}))("click",(function(t){return g.Ac(i),t.stopPropagation()})),g.Sb(),g.Sb(),g.Sb(),g.Sb(),g.Sb()}if(2&i){const i=t.$implicit;g.Ab(5),g.Mc(i.name)}}function $(i,t){1&i&&(g.Tb(0,"div",65),g.Lc(1,"Files"),g.Sb())}function P(i,t){if(1&i){const i=g.Ub();g.Tb(0,"div",76),g.Tb(1,"div",67),g.Tb(2,"div",77),g.Tb(3,"div",78),g.ec("click",(function(){g.Ac(i);const e=t.$implicit;return g.ic(3).chkFolderAndAdd(e)})),g.Ob(4,"img",79),g.Sb(),g.Tb(5,"div",80),g.Tb(6,"div",81),g.Tb(7,"button",82),g.Ob(8,"i",83),g.Sb(),g.Tb(9,"div",84),g.Tb(10,"h6",85),g.Lc(11,"External Sharing"),g.Sb(),g.Tb(12,"a",86),g.ec("click",(function(){g.Ac(i);const e=t.$implicit;return g.ic(3).cmnModal("email",e)})),g.Ob(13,"i",87),g.Lc(14,"Email "),g.Sb(),g.Tb(15,"a",86),g.ec("click",(function(){g.Ac(i);const e=t.$implicit;return g.ic(3).cmnModal("getLink",e)})),g.Ob(16,"i",22),g.Lc(17,"Get a link "),g.Sb(),g.Ob(18,"div",88),g.Tb(19,"h6",85),g.Lc(20,"Internal Sharing"),g.Sb(),g.Tb(21,"a",86),g.ec("click",(function(){g.Ac(i);const t=g.ic(3),e=g.xc(49);return t.openModal(e)})),g.Ob(22,"i",89),g.Lc(23,"Share with colleagues "),g.Sb(),g.Sb(),g.Sb(),g.Tb(24,"div",90),g.ec("click",(function(){return g.Ac(i),g.ic(3).cmnModal("addToCollection")})),g.Ob(25,"i",91),g.Sb(),g.Tb(26,"div",92),g.ec("click",(function(){g.Ac(i);const e=t.$implicit;return g.ic(3).delCntntOrFldr(e)})),g.Ob(27,"i",74),g.Sb(),g.Sb(),g.Sb(),g.Tb(28,"div",93),g.ec("click",(function(){g.Ac(i);const e=t.$implicit;return g.ic(3).chkFolderAndAdd(e)})),g.Tb(29,"div",94),g.Lc(30),g.Sb(),g.Tb(31,"div",95),g.Tb(32,"div",96),g.Lc(33),g.jc(34,"date"),g.Sb(),g.Sb(),g.Tb(35,"div",97),g.ec("click",(function(t){return g.Ac(i),t.stopPropagation()})),g.Tb(36,"mat-checkbox",98),g.ec("change",(function(e){g.Ac(i);const c=t.$implicit;return g.ic(3).selMe(e.checked,c)})),g.Sb(),g.Sb(),g.Sb(),g.Sb(),g.Sb()}if(2&i){const i=t.$implicit,e=g.ic(3);g.Ab(4),g.pc("src",e.getImg(i),g.Cc),g.Ab(26),g.Mc(i.name),g.Ab(3),g.Mc(g.lc(34,3,i.createdDate,"dd MMM, yyyy")||"N/A")}}function _(i,t){1&i&&(g.Tb(0,"div",99),g.Lc(1," No data found "),g.Sb())}function q(i,t){if(1&i&&(g.Tb(0,"div"),g.Jc(1,D,8,0,"div",55),g.Jc(2,U,2,0,"div",56),g.Tb(3,"div",57),g.Jc(4,N,13,1,"div",58),g.Sb(),g.Jc(5,$,2,0,"div",56),g.Tb(6,"div",57),g.Jc(7,P,37,6,"div",59),g.Sb(),g.Jc(8,_,2,0,"div",60),g.Sb()),2&i){const i=g.ic(2);g.Ab(1),g.pc("ngIf",i.folders.length>0||i.files.length>0),g.Ab(1),g.pc("ngIf",i.folders.length>0),g.Ab(2),g.pc("ngForOf",i.folders),g.Ab(1),g.pc("ngIf",!i.loading&&i.files.length>0),g.Ab(2),g.pc("ngForOf",i.files),g.Ab(1),g.pc("ngIf",!i.loading&&i.files.length<=0&&i.folders.length<=0)}}function E(i,t){if(1&i&&(g.Tb(0,"div"),g.Jc(1,J,1,1,"app-loader",53),g.Jc(2,q,9,6,"div",27),g.Sb()),2&i){const i=g.ic();g.Ab(1),g.pc("ngIf",i.loading),g.Ab(1),g.pc("ngIf",!i.loading)}}function G(i,t){1&i&&g.Ob(0,"app-loader",54),2&i&&g.pc("type","page")}function j(i,t){if(1&i&&(g.Tb(0,"div",109),g.Ob(1,"i",112),g.Tb(2,"div",41),g.Lc(3),g.Sb(),g.Sb()),2&i){const i=g.ic().$implicit;g.Ab(3),g.Mc(i.name)}}function R(i,t){if(1&i&&(g.Tb(0,"div",109),g.Tb(1,"div",113),g.Ob(2,"img",79),g.Sb(),g.Tb(3,"div",41),g.Lc(4),g.Sb(),g.Sb()),2&i){const i=g.ic().$implicit,t=g.ic(4);g.Ab(2),g.pc("src",t.getImg(i),g.Cc),g.Ab(2),g.Mc(i.name)}}function B(i,t){if(1&i){const i=g.Ub();g.Tb(0,"div",81),g.Tb(1,"button",82),g.Ob(2,"i",83),g.Sb(),g.Tb(3,"div",84),g.Tb(4,"a",86),g.ec("click",(function(){g.Ac(i);const t=g.ic().$implicit;return g.ic(4).cmnModal("email",t)})),g.Ob(5,"i",87),g.Lc(6,"Email "),g.Sb(),g.Tb(7,"a",86),g.ec("click",(function(){g.Ac(i);const t=g.ic().$implicit;return g.ic(4).cmnModal("getLink",t)})),g.Ob(8,"i",22),g.Lc(9,"Get a link "),g.Sb(),g.Sb(),g.Sb()}}function H(i,t){if(1&i){const i=g.Ub();g.Tb(0,"div",92),g.ec("click",(function(){return g.Ac(i),g.ic(5).cmnModal("addToCollection")})),g.Ob(1,"i",91),g.Sb()}}function V(i,t){if(1&i){const i=g.Ub();g.Tb(0,"div",92),g.ec("click",(function(){g.Ac(i);const t=g.ic().$implicit,e=g.ic(4),c=g.xc(45);return e.setSelRow(c,t)})),g.Ob(1,"i",73),g.Sb()}}function z(i,t){if(1&i){const i=g.Ub();g.Tb(0,"tr"),g.Tb(1,"td",105),g.Tb(2,"mat-checkbox",98),g.ec("change",(function(e){g.Ac(i);const c=t.$implicit;return g.ic(4).selMe(e.checked,c)})),g.Sb(),g.Sb(),g.Tb(3,"td",106),g.ec("click",(function(){g.Ac(i);const e=t.$implicit;return g.ic(4).chkFolderAndAdd(e)})),g.Jc(4,j,4,1,"div",107),g.Jc(5,R,5,2,"div",107),g.Sb(),g.Tb(6,"td",105),g.Lc(7),g.jc(8,"date"),g.Sb(),g.Tb(9,"td",108),g.Tb(10,"div",109),g.Jc(11,B,10,0,"div",110),g.Jc(12,H,2,0,"div",111),g.Jc(13,V,2,0,"div",111),g.Tb(14,"div",45),g.Ob(15,"i",74),g.Sb(),g.Sb(),g.Sb(),g.Sb()}if(2&i){const i=t.$implicit;g.Ab(4),g.pc("ngIf",i.isFldr),g.Ab(1),g.pc("ngIf",!i.isFldr),g.Ab(2),g.Mc(g.lc(8,6,i.createdDate,"dd MMM, yyyy HH:mm")||"N/A"),g.Ab(4),g.pc("ngIf",!i.isFldr),g.Ab(1),g.pc("ngIf",!i.isFldr),g.Ab(1),g.pc("ngIf",i.isFldr)}}function K(i,t){if(1&i&&(g.Tb(0,"tbody"),g.Jc(1,z,16,9,"tr",104),g.Sb()),2&i){const i=g.ic(3);g.Ab(1),g.pc("ngForOf",i.allFiles)}}function Q(i,t){1&i&&(g.Tb(0,"div",99),g.Lc(1," No data found "),g.Sb())}function X(i,t){if(1&i&&(g.Tb(0,"div",101),g.Tb(1,"table",102),g.Tb(2,"thead"),g.Tb(3,"tr"),g.Tb(4,"th"),g.Ob(5,"mat-checkbox"),g.Sb(),g.Tb(6,"th"),g.Lc(7,"Name"),g.Ob(8,"i",103),g.Sb(),g.Tb(9,"th"),g.Lc(10,"Date Modified"),g.Ob(11,"i",103),g.Sb(),g.Ob(12,"th"),g.Sb(),g.Sb(),g.Jc(13,K,2,1,"tbody",27),g.Sb(),g.Jc(14,Q,2,0,"div",60),g.Sb()),2&i){const i=g.ic(2);g.Ab(13),g.pc("ngIf",i.allFiles.length>0),g.Ab(1),g.pc("ngIf",0==i.allFiles.length)}}function W(i,t){if(1&i&&(g.Tb(0,"div"),g.Jc(1,G,1,1,"app-loader",53),g.Jc(2,X,15,2,"div",100),g.Sb()),2&i){const i=g.ic();g.Ab(1),g.pc("ngIf",i.loading),g.Ab(1),g.pc("ngIf",!i.loading)}}function Y(i,t){if(1&i){const i=g.Ub();g.Tb(0,"app-sel-itm-fxd-div",114),g.ec("delContent",(function(){return g.Ac(i),g.ic().delContent(void 0)}))("clrSelData",(function(){return g.Ac(i),g.ic().clrSel()})),g.Sb()}if(2&i){const i=g.ic();g.pc("selArr",i.selData)("content",!0)}}function Z(i,t){1&i&&(g.Tb(0,"mat-error"),g.Lc(1," Folder Name is required "),g.Sb())}function ii(i,t){1&i&&g.Ob(0,"app-loader",54),2&i&&g.pc("type","btn")}function ti(i,t){if(1&i){const i=g.Ub();g.Tb(0,"div",115),g.Tb(1,"h4",116),g.Lc(2),g.Sb(),g.Tb(3,"button",117),g.ec("click",(function(){return t.$implicit.dismiss("Cross click")})),g.Tb(4,"span",118),g.Lc(5,"\xd7"),g.Sb(),g.Sb(),g.Sb(),g.Tb(6,"form",119),g.ec("ngSubmit",(function(){return g.Ac(i),g.ic().onSubmit()})),g.Tb(7,"div",120),g.Tb(8,"mat-form-field",121),g.Tb(9,"mat-label"),g.Lc(10,"Folder Name"),g.Sb(),g.Ob(11,"input",122),g.Jc(12,Z,2,0,"mat-error",27),g.Sb(),g.Sb(),g.Tb(13,"div",123),g.Tb(14,"button",124),g.Jc(15,ii,1,1,"app-loader",53),g.Lc(16," Save "),g.Sb(),g.Sb(),g.Sb()}if(2&i){const i=g.ic();g.Ab(2),g.Nc("","updFldr"==i.frmType?"Rename":"Add"," Folder"),g.Ab(4),g.pc("formGroup",i.folderForm),g.Ab(6),g.pc("ngIf",i.folderForm.get("name").hasError("required")),g.Ab(2),g.pc("disabled",i.fldrLoad),g.Ab(1),g.pc("ngIf",i.fldrLoad)}}function ei(i,t){1&i&&(g.Tb(0,"mat-error"),g.Lc(1," Name is required "),g.Sb())}function ci(i,t){1&i&&(g.Tb(0,"mat-error"),g.Lc(1," Url is required "),g.Sb())}function ni(i,t){1&i&&g.Ob(0,"app-loader",54),2&i&&g.pc("type","btn")}function ri(i,t){if(1&i){const i=g.Ub();g.Tb(0,"div",115),g.Tb(1,"h4",116),g.Lc(2,"Add URL"),g.Sb(),g.Tb(3,"button",117),g.ec("click",(function(){return t.$implicit.dismiss("Cross click")})),g.Tb(4,"span",118),g.Lc(5,"\xd7"),g.Sb(),g.Sb(),g.Sb(),g.Tb(6,"form",125),g.ec("ngSubmit",(function(){return g.Ac(i),g.ic().onUrlSubmit()})),g.Tb(7,"div",120),g.Tb(8,"mat-form-field",121),g.Tb(9,"mat-label"),g.Lc(10,"Name"),g.Sb(),g.Ob(11,"input",126),g.Jc(12,ei,2,0,"mat-error",27),g.Sb(),g.Tb(13,"mat-form-field",121),g.Tb(14,"mat-label"),g.Lc(15,"URL"),g.Sb(),g.Ob(16,"input",127),g.Jc(17,ci,2,0,"mat-error",27),g.Sb(),g.Sb(),g.Tb(18,"div",123),g.Tb(19,"button",124),g.Jc(20,ni,1,1,"app-loader",53),g.Lc(21," Add "),g.Sb(),g.Sb(),g.Sb()}if(2&i){const i=g.ic();g.Ab(6),g.pc("formGroup",i.urlForm),g.Ab(6),g.pc("ngIf",i.urlForm.get("name").hasError("required")),g.Ab(5),g.pc("ngIf",i.urlForm.get("url").hasError("required")),g.Ab(2),g.pc("disabled",i.urlForm.invalid||i.urlDisb),g.Ab(1),g.pc("ngIf",i.urlDisb)}}function li(i,t){if(1&i){const i=g.Ub();g.Tb(0,"div",139),g.Tb(1,"mat-form-field",140),g.Tb(2,"mat-label"),g.Lc(3,"Get Link"),g.Sb(),g.Ob(4,"input",141,142),g.Tb(6,"button",143),g.ec("click",(function(){g.Ac(i);const t=g.xc(5);return g.ic(3).copyLink(t)})),g.Lc(7,"Copy Link"),g.Sb(),g.Sb(),g.Sb()}}function oi(i,t){1&i&&(g.Tb(0,"div",144),g.Tb(1,"mat-form-field",121),g.Tb(2,"mat-label"),g.Lc(3,"Email To"),g.Sb(),g.Ob(4,"input",145),g.Sb(),g.Tb(5,"mat-form-field",121),g.Tb(6,"mat-label"),g.Lc(7,"Note"),g.Sb(),g.Ob(8,"textarea",146),g.Sb(),g.Sb())}function ai(i,t){if(1&i&&(g.Tb(0,"div"),g.Tb(1,"mat-label"),g.Lc(2,"Share Options:"),g.Sb(),g.Tb(3,"mat-radio-group",133),g.Tb(4,"mat-radio-button",134,135),g.Lc(6,"Share by Link "),g.Sb(),g.Tb(7,"mat-radio-button",136),g.Lc(8,"Share by Email"),g.Sb(),g.Sb(),g.Ob(9,"hr"),g.Jc(10,li,8,0,"div",137),g.Jc(11,oi,9,0,"div",138),g.Sb()),2&i){const i=g.xc(5);g.Ab(10),g.pc("ngIf",i.checked),g.Ab(1),g.pc("ngIf",!i.checked)}}function si(i,t){if(1&i&&(g.Tb(0,"div",115),g.Tb(1,"h4",116),g.Lc(2,"Add URL"),g.Sb(),g.Tb(3,"button",117),g.ec("click",(function(){return t.$implicit.dismiss("Cross click")})),g.Tb(4,"span",118),g.Lc(5,"\xd7"),g.Sb(),g.Sb(),g.Sb(),g.Tb(6,"div",120),g.Tb(7,"div",128),g.Lc(8," File Sharing is ON "),g.Ob(9,"mat-slide-toggle",35,129),g.Sb(),g.Tb(11,"div",130),g.Ob(12,"i",131),g.Lc(13," File sharing is enabled for this file. Anyone at Hi-Force Hydraulic Tools with the file link will be able to view this file. "),g.Sb(),g.Jc(14,ai,12,2,"div",27),g.Sb(),g.Tb(15,"div",123),g.Tb(16,"button",132),g.ec("click",(function(){return t.$implicit.close("Save click")})),g.Lc(17,"Share"),g.Sb(),g.Sb()),2&i){const i=g.xc(10);g.Ab(14),g.pc("ngIf",i.checked),g.Ab(2),g.pc("disabled",!i.checked)}}let di=(()=>{class i{constructor(i,t,e,c,n,r,l,o,a){this.router=i,this.route=t,this.fb=e,this.modalService=c,this.toastr=n,this.dialog=r,this.fileServ=l,this.cwServ=o,this.brdcrmServ=a,this.view=!0,this.allFiles=[],this.testArr=[1,2,3,4,5,6,7,8,9],this.cols=[],this.switchView=()=>{this.view=!this.view},this.uploadBtn=i=>{null==i||i.click()},this.copyLink=i=>{i.select(),i.setSelectionRange(0,99999),document.execCommand("copy")}}ngOnInit(){this.routerSubs=this.route.params.subscribe(i=>{this.fldrid=i.fldrid||"",this.initialiseState(),this.getFiles()})}initialiseState(){this.loading=!0,this.files=[],this.folders=[],this.selData=[],this.navg=[],this.cols=[{n:"Name",asc:!1,k:"name"},{n:"Date Modified",asc:!1,k:"updatedDate"}],this.brdcrmList(),this.initForm()}initForm(){this.folderForm=this.fb.group({name:["",[r.u.required]]}),this.urlForm=this.fb.group({name:["",[r.u.required]],url:["",[r.u.required]]}),this.urlDisb=!1}cmnModal(i,t){if("email"==i){const i=this.modalService.open(u.a,{size:"lg"});i.componentInstance.type="content",i.componentInstance.data=t}else if("getLink"==i){const i=this.modalService.open(m.a,{size:"lg"});i.componentInstance.type="content",i.componentInstance.data=t}else"addToCollection"==i&&this.openModal(p.a)}selMe(i,t){if(i)this.selData.push({id:t.id});else{const i=this.selData.findIndex(i=>i.id==t.id);i>=0&&this.selData.splice(i,1)}}delContent(i){let t=i?[i]:this.selData,e=1==t.length?"":"s";this.dialog.open(f.a,{data:{msg:`Are you sure you want to remove ${1==t.length?"this":"these"} content${e} from collection?`,title:"Remove Content"+e},autoFocus:!1}).afterClosed().subscribe(i=>{})}clrSel(){this.selData=[]}getFiles(){let i={folderId:this.fldrid||null};this.initialiseState(),this.fileServ.myFiles(i).subscribe(i=>{if(i&&i.result){if(Array.isArray(i.result.folders))for(let t=0;t<i.result.folders.length;t++)this.folders.push(Object.assign(Object.assign({},i.result.folders[t]),{isFldr:!0}));Array.isArray(i.result.contents)&&(this.files=i.result.contents)}this.allFiles=[...this.folders,...this.files],this.loading=!1},i=>{this.loading=!1})}navgToFldr(i){this.router.navigate(["/web-app/resource/my-files/"+(0==i.id?"":i.id)])}chkFolderAndAdd(i){i.isFldr?this.navgToFldr(i):this.router.navigate(["/web-app/view/"+i.id])}openModal(i,t=""){if(this.frmType=t,"addFldr"==this.frmType||"updFldr"==this.frmType||"url"==this.frmType){if(this.fldrLoad||this.urlDisb)return void this.toastr.info("Please wait for previous request");this.folderForm.reset(),this.urlForm.reset(),"updFldr"==this.frmType&&this.folderForm.patchValue(Object.assign({},this.selFldrData))}this.modalService.open(i,{ariaLabelledBy:"modal-basic-title",size:"lg"}).result.then(i=>{},i=>{})}setSelRow(i,t){this.fldrLoad?this.toastr.info("Please wait for previous request"):(this.selFldrData=t,this.openModal(i,"updFldr"))}onSubmit(){if(this.folderForm.valid){this.fldrLoad=!0;let i=Object.assign(Object.assign({},this.folderForm.value),{workspaceId:null,folderId:this.fldrid?parseInt(this.fldrid):null});"updFldr"==this.frmType?this.editFolder(i):this.addFolder(i)}}addFolder(i){this.fileServ.addFldr(i).subscribe(i=>{i?(this.toastr.success(i.message||"Folder added successfully","Success!"),this.getFiles()):this.toastr.error("Unable to add Folder","Error!"),this.fldrLoad=!1,this.dismissModal()},i=>{this.fldrLoad=!1,this.dismissModal()})}editFolder(i){i.id=this.selFldrData.id,this.fileServ.updFldr(i).subscribe(t=>{t?(this.toastr.success(t.message||"Folder rename successfully","Success!"),this.locUpd("allFiles",i),this.locUpd("folders",i)):this.toastr.error("Unable to rename Folder","Error!"),this.fldrLoad=!1,this.dismissModal()},i=>{this.fldrLoad=!1,this.dismissModal()})}locUpd(i,t){const e=this[i].findIndex(i=>i.id==t.id&&i.isFldr);e>=0&&(this[i][e].name=t.name)}delCntntOrFldr(i,t=!1){let e,c,n,r={id:i.id};t||i.isFldr?(e=" folder",c="Delete Folder",n="Folder deleted",r.isFldr=!0):(e="",c="Delete Content",n="Content deleted",r.status=2),this.dialog.open(f.a,{data:{msg:`Are you sure you want to delete ${i.name}${e}?`,title:c},autoFocus:!1}).afterClosed().subscribe(i=>{i&&this.cwServ.deactCtntOrFldr(r).subscribe(i=>{i?(this.toastr.success(n+" successfully.","Success!"),this.getFiles()):this.toastr.error("Please try after some time","Error!")},i=>{})})}uplCntnt(i){i.target&&i.target.files&&this.addCntnt({content:i.target.files[0]},"Content")}onUrlSubmit(){if(this.urlForm.valid){let i=Object.assign(Object.assign({},this.urlForm.value),{isUrl:!0});this.addCntnt(i,"Url"),this.urlDisb=!0}}addCntnt(i,t){i.folderId=this.fldrid?parseInt(this.fldrid):null,this.fileServ.addMyCntnt(i).subscribe(i=>{i?this.toastr.success(i.message||t+" added successfully","Success!"):this.toastr.error("Unable to add","Error!"),this.urlChk(t)},i=>{this.urlChk(t)})}urlChk(i){"Url"==i&&(this.urlDisb=!1,this.dismissModal()),this.getFiles()}brdcrmList(){this.brdcrmServ.getList({parentFolderId:this.fldrid?this.fldrid:null},!0).subscribe(i=>{if(i&&Array.isArray(i.result)&&i.result.length>0){let t=i.result;t.sort((i,t)=>i.level-t.level),this.navg=t}},i=>{})}getImg(i){return h.a.getImg(i)}dismissModal(){this.modalService&&this.modalService.dismissAll()}ngOnDestroy(){this.dismissModal()}}return i.\u0275fac=function(t){return new(t||i)(g.Nb(n.d),g.Nb(n.a),g.Nb(r.d),g.Nb(S.f),g.Nb(v.b),g.Nb(T.b),g.Nb(A.a),g.Nb(y.a),g.Nb(F.a))},i.\u0275cmp=g.Hb({type:i,selectors:[["app-file"]],decls:70,vars:5,consts:[[1,"main","main-employee"],[1,"row","mt-3","mx-0"],[1,"side","col-md-3","col-xl-2","files-side"],[1,"list-unstyled"],[1,"pr-2","pl-3","rounded","py-2","curs-ptr","active"],[1,"fas","fa-folder","mr-1"],[1,"pr-2","pl-3","rounded","py-2","curs-ptr"],[1,"fas","fa-user-friends","mr-1"],[1,"fas","fa-clock","mr-1"],[1,"storage"],[1,"text-secondary","text-center"],[1,"progress","mt-2",2,"height","10px"],["role","progressbar","aria-valuenow","3","aria-valuemin","0","aria-valuemax","2048",1,"progress-bar",2,"width","1%"],[1,"col-md-9","col-xl-10","px-5","px-md-3","mt-3","mt-md-0"],[1,"mb-4","clearfix","heading","align-self-center"],[1,"float-right","d-flex"],["class","fa mr-3 curs-ptr align-self-center",3,"ngClass","matTooltip","click",4,"ngIf"],[1,"dropdown"],["type","button","id","addBtnDD","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-primary","dropdown-toggle"],["aria-labelledby","addBtnDD",1,"dropdown-menu","dropdown-menu-right"],[1,"dropdown-item","curs-ptr",3,"click"],[1,"fas","fa-folder-plus","mr-1"],[1,"fa","fa-link","mr-1"],[1,"fa","fa-upload","mr-1"],["type","file",2,"display","none",3,"change"],["uploadFile",""],["aria-label","breadcrumb",4,"ngIf"],[4,"ngIf"],[3,"selArr","content","delContent","clrSelData",4,"ngIf"],["fldrModal",""],["addURL",""],["shareColl",""],[1,"process"],[1,"card"],[1,"card-header","py-2"],[1,"float-right"],[1,"btn","btn-sm","btn-light"],[1,"fas","fa-angle-down"],[1,"fas","fa-times"],[1,"card-body","py-2"],[1,"d-flex","justify-content-between"],[1,"name","align-self-center"],[1,"align-self-center"],[1,"progress"],["role","progressbar","aria-valuenow","75","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated",2,"width","75%"],[1,"btn"],[1,"fa","mr-3","curs-ptr","align-self-center",3,"ngClass","matTooltip","click"],["aria-label","breadcrumb"],[1,"breadcrumb","bg-transparent","pl-0","mb-0"],["class","breadcrumb-item",4,"ngFor","ngForOf"],[1,"breadcrumb-item"],["class","curs-ptr text-hover",3,"click",4,"ngIf"],[1,"curs-ptr","text-hover",3,"click"],[3,"type",4,"ngIf"],[3,"type"],["class","text-right",4,"ngIf"],["class","text-secondary",4,"ngIf"],[1,"mt-2","row","my-files","mx-0"],["class","folder-container col-xl-3 col-md-4 col-sm-6 my-3 mx-auto mx-sm-0",4,"ngFor","ngForOf"],["class","card-container col-xl-3 col-md-4 col-sm-6 my-3 mx-auto mx-sm-0",4,"ngFor","ngForOf"],["class","text-center text-secondary",4,"ngIf"],[1,"text-right"],[1,"text-primary","mr-2","curs-ptr"],[1,"fa","fa-sort-down","align-top","ml-1"],[1,"text-primary","curs-ptr"],[1,"text-secondary"],[1,"folder-container","col-xl-3","col-md-4","col-sm-6","my-3","mx-auto","mx-sm-0"],[1,"card","curs-ptr","mx-auto"],[1,"card-body","d-flex",3,"click"],[1,"name","align-self-center","px-0"],[1,"d-flex","p-0","__options","ml-auto"],[1,"_options"],[1,"btn","btn-light","btn-sm","mr-1",3,"click"],[1,"fas","fa-edit"],[1,"fas","fa-trash-alt"],[1,"align-self-center",3,"change","click"],[1,"card-container","col-xl-3","col-md-4","col-sm-6","my-3","mx-auto","mx-sm-0"],[1,"card-body"],[1,"imagePreview","text-center",3,"click"],[3,"src"],[1,"options","rounded"],[1,"dropleft"],["type","button","id","shareDD","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn"],[1,"fas","fa-share-square"],["aria-labelledby","shareDD",1,"dropdown-menu"],[1,"ml-2","text-hi-dark"],[1,"dropdown-item",3,"click"],[1,"fa","fa-envelope","mr-1"],[1,"dropdown-divider"],[1,"fa","fa-user-friends","mr-1"],[1,"btn","my-1",3,"click"],[1,"fas","fa-folder-plus"],[1,"btn",3,"click"],[1,"card-footer",3,"click"],[1,"name","text-truncate"],[1,"float-left","text-secondary","d-flex"],[1,"date"],[1,"float-right",3,"click"],[3,"change"],[1,"text-center","text-secondary"],["class","mt-2 row my-files",4,"ngIf"],[1,"mt-2","row","my-files"],[1,"table","table-hover"],[1,"fas","fa-sort-down","ml-1","align-top"],[4,"ngFor","ngForOf"],[1,"align-middle"],[1,"align-middle",3,"click"],["class","d-flex",4,"ngIf"],[1,"align-middle","options"],[1,"d-flex"],["class","dropleft",4,"ngIf"],["class","btn",3,"click",4,"ngIf"],[1,"fas","fa-folder","mr-2",2,"font-size","3rem"],[1,"imagePreview","border","mr-2"],[3,"selArr","content","delContent","clrSelData"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["name","folderForm","novalidate","",3,"formGroup","ngSubmit"],["ngbAutofocus","",1,"modal-body"],["appearance","outline",1,"w-100"],["type","text","matInput","","placeholder","Folder Name","formControlName","name","maxlength","100","required",""],[1,"modal-footer"],[1,"btn","btn-primary",3,"disabled"],["name","urlForm","novalidate","",3,"formGroup","ngSubmit"],["matInput","","placeholder","Add a Name","formControlName","name","maxlength","100","required",""],["matInput","","placeholder","Add a URL","formControlName","url","maxlength","300","required",""],[1,"file-sharing"],["sharingValue",""],[1,"rounded","border","border-primary","d-flex","text-justify","text-primary","px-2","my-3","py-2"],[1,"fa","fa-info-circle","align-self-center","mr-2"],["type","button",1,"btn","btn-primary",3,"disabled","click"],["aria-label","Select an option",1,"d-block"],["value","link","checked","true",1,"mx-3"],["link",""],["value","email"],["class","link",4,"ngIf"],["class","email",4,"ngIf"],[1,"link"],["appearance","outline",1,"w-100","copy-link"],["type","text","matInput","","value","https://www.google.com","readonly",""],["linkText",""],["matSuffix","",1,"btn","btn-primary",3,"click"],[1,"email"],["type","text","matInput","","placeholder","Enter Names or Email Address"],["type","text","matInput","","placeholder","Add a note ..."]],template:function(i,t){if(1&i){const i=g.Ub();g.Tb(0,"div",0),g.Tb(1,"div",1),g.Tb(2,"div",2),g.Tb(3,"ul",3),g.Tb(4,"li",4),g.Ob(5,"i",5),g.Lc(6,"My Files"),g.Sb(),g.Ob(7,"hr"),g.Tb(8,"li",6),g.Ob(9,"i",7),g.Lc(10,"Shared with me"),g.Sb(),g.Ob(11,"hr"),g.Tb(12,"li",6),g.Ob(13,"i",8),g.Lc(14,"Recent"),g.Sb(),g.Sb(),g.Ob(15,"hr"),g.Tb(16,"div",9),g.Tb(17,"div",10),g.Lc(18," 3.3 MB of 2 GB used "),g.Tb(19,"div",11),g.Ob(20,"div",12),g.Sb(),g.Sb(),g.Sb(),g.Sb(),g.Tb(21,"div",13),g.Tb(22,"h3",14),g.Tb(23,"div",15),g.Jc(24,O,1,5,"i",16),g.Tb(25,"div",17),g.Tb(26,"button",18),g.Lc(27," Add "),g.Sb(),g.Tb(28,"div",19),g.Tb(29,"a",20),g.ec("click",(function(){g.Ac(i);const e=g.xc(45);return t.openModal(e,"addFldr")})),g.Ob(30,"i",21),g.Lc(31," Create Folder "),g.Sb(),g.Tb(32,"a",20),g.ec("click",(function(){g.Ac(i);const e=g.xc(47);return t.openModal(e,"url")})),g.Ob(33,"i",22),g.Lc(34,"Add URL"),g.Sb(),g.Tb(35,"a",20),g.ec("click",(function(){g.Ac(i);const e=g.xc(39);return t.uploadBtn(e)})),g.Ob(36,"i",23),g.Lc(37," Upload from hard drive "),g.Tb(38,"input",24,25),g.ec("change",(function(i){return t.uplCntnt(i)})),g.Sb(),g.Sb(),g.Sb(),g.Sb(),g.Sb(),g.Jc(40,C,3,1,"nav",26),g.Sb(),g.Jc(41,E,3,2,"div",27),g.Jc(42,W,3,2,"div",27),g.Sb(),g.Sb(),g.Sb(),g.Jc(43,Y,1,2,"app-sel-itm-fxd-div",28),g.Jc(44,ti,17,5,"ng-template",null,29,g.Kc),g.Jc(46,ri,22,5,"ng-template",null,30,g.Kc),g.Jc(48,si,18,2,"ng-template",null,31,g.Kc),g.Tb(50,"div",32),g.Tb(51,"div",33),g.Tb(52,"div",34),g.Lc(53," Uploaded 1 file "),g.Tb(54,"div",35),g.Tb(55,"div",36),g.Ob(56,"i",37),g.Sb(),g.Tb(57,"div",36),g.Ob(58,"i",38),g.Sb(),g.Sb(),g.Sb(),g.Tb(59,"div",39),g.Tb(60,"div",40),g.Tb(61,"div",41),g.Lc(62,"Abc.png"),g.Sb(),g.Tb(63,"div",42),g.Tb(64,"div",43),g.Tb(65,"div",44),g.Lc(66," 75% "),g.Sb(),g.Sb(),g.Sb(),g.Tb(67,"div"),g.Tb(68,"div",45),g.Lc(69,"Show"),g.Sb(),g.Sb(),g.Sb(),g.Sb(),g.Sb(),g.Sb()}2&i&&(g.Ab(24),g.pc("ngIf",t.files.length>0||t.folders.length>0||t.allFiles.length>0),g.Ab(16),g.pc("ngIf",t.navg.length>0),g.Ab(1),g.pc("ngIf",t.view),g.Ab(1),g.pc("ngIf",!t.view),g.Ab(1),g.pc("ngIf",t.selData.length>0))},directives:[c.m,c.k,s.a,c.l,k.a,l.a,x.a,r.w,r.n,r.g,o.c,o.g,a.b,r.c,r.m,r.f,r.i,r.t,o.b,d.a,b.b,b.a,o.i],pipes:[c.e],styles:[".__options[_ngcontent-%COMP%]   ._options[_ngcontent-%COMP%]{display:none;opacity:0}.card[_ngcontent-%COMP%]{min-height:73px}.card[_ngcontent-%COMP%]:hover   ._options[_ngcontent-%COMP%]{display:flex;opacity:1}.card[_ngcontent-%COMP%]:hover   .name[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.breadcrumb-item[_ngcontent-%COMP%]{font-size:1.7rem}@media (max-width:576px){.folder-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{max-width:275px}}.process[_ngcontent-%COMP%]{position:fixed;bottom:10px;right:10px;width:500px}.process[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{width:200px}"]}),i})();var bi=e("zJym"),fi=e("M0XK"),ui=e("tqvG"),mi=e("Amnm"),pi=e("IpHC"),hi=e("u7Mw");const gi=[{path:"",component:di}];let Si=(()=>{class i{}return i.\u0275mod=g.Lb({type:i}),i.\u0275inj=g.Kb({factory:function(t){return new(t||i)},providers:[A.a,y.a,F.a],imports:[[c.c,n.h.forChild(gi),r.h,r.s,l.b,o.e,a.c,s.b,d.b,b.c,bi.a,fi.a,ui.a,mi.a,pi.a,hi.a]]}),i})()}}]);